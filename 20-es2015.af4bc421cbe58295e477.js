(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"7/CQ":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var a=i("tk/3"),n=i("fXoL");const o=i("+yMW"),r={headers:new a.f({"Content-Type":"application/json"})};let l=(()=>{class e{constructor(e){this.http=e}getAllRmanEntityParametersV(e,t,i){let a=o.apiUrl+"/rmanEntityParametersVSearch?",n="";return null!=t.entityId&&""!=t.entityId&&(n=n+"entityId:"+t.entityId+","),null!=t.entityName&&""!=t.entityName&&(n=n+"entityName:"+t.entityName+","),null!=t.entityCategory&&""!=t.entityCategory&&(n=n+"entityCategory:"+t.entityCategory+","),null!=t.entityDescription&&""!=t.entityDescription&&(n=n+"entityDescription:"+t.entityDescription+","),null!=t.tableName&&""!=t.tableName&&(n=n+"tableName:"+t.tableName+","),null!=t.startDateActive&&""!=t.startDateActive&&(n=n+"startDateActive:"+t.startDateActive+","),null!=t.endDateActive&&""!=t.endDateActive&&(n=n+"endDateActive:"+t.endDateActive+","),null!=t.entityParameterId&&""!=t.entityParameterId&&(n=n+"entityParameterId:"+t.entityParameterId+","),null!=t.parameterName&&""!=t.parameterName&&(n=n+"parameterName:"+t.parameterName+","),null!=t.parameterDescription&&""!=t.parameterDescription&&(n=n+"parameterDescription:"+t.parameterDescription+","),null!=t.columnName&&""!=t.columnName&&(n=n+"columnName:"+t.columnName+","),null!=t.columnType&&""!=t.columnType&&(n=n+"columnType:"+t.columnType+","),null!=t.columnSize&&""!=t.columnSize&&(n=n+"columnSize:"+t.columnSize+","),null!=t.columnSequence&&""!=t.columnSequence&&(n=n+"columnSequence:"+t.columnSequence+","),null!=t.enabledFlag&&""!=t.enabledFlag&&(n=n+"enabledFlag:"+t.enabledFlag),""==n?a+="search=%25":a=a+"search="+n,"Y"==i&&(a+="&fetchAll=Y"),null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(a=a+"&page="+e.pageNumber+"&size="+e.pageSize),this.http.get(a).toPromise().then(e=>e)}saveRmanEntityParametersV(e){let t=JSON.stringify(e);return this.http.post(o.apiUrl+"/RMAN_ENTITY_PARAMETERS_V",t,r).toPromise().then(e=>e)}updateRmanEntityParametersV(e){delete e._links,delete e.interests;let t=JSON.stringify(e);return this.http.put(o.apiUrl+"/RMAN_ENTITY_PARAMETERS_V/"+e.entityParameterId,t,r).toPromise().then(e=>e)}deleteRmanEntityParametersV(e){return this.http.delete(o.apiUrl+"/RMAN_ENTITY_PARAMETERS_V/"+e.entityParameterId,r).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(n.Zb(a.b))},e.\u0275prov=n.Lb({token:e,factory:e.\u0275fac}),e})()},OdxT:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));class a{constructor(){this.fieldLabels={},this.fieldLabels.attribute30="Level 4",this.fieldLabels.endDate="End Date",this.fieldLabels.elementType="Product Element",this.fieldLabels.lastUpdateDate="Last Update Date",this.fieldLabels.productOrgId="Product Org ID",this.fieldLabels.productDescription="Product Description",this.fieldLabels.attribute29="Level 3",this.fieldLabels.attribute28="Level 2",this.fieldLabels.allocationFlag="Allocation Flag",this.fieldLabels.attribute27="Level 1",this.fieldLabels.attribute26="Attribute26",this.fieldLabels.allowRevrecWoInvoice="Allow RevRec WO Invoice",this.fieldLabels.attribute3="Product Line",this.fieldLabels.createdBy="Created By",this.fieldLabels.attribute2="Product Family",this.fieldLabels.lastUpdatedBy="Last Updated By",this.fieldLabels.productOrgName="Product Organization",this.fieldLabels.attribute1="Product Portfolio",this.fieldLabels.revAccountId="Rev Account ID",this.fieldLabels.creationDate="Creation Date",this.fieldLabels.attribute9="Attribute9",this.fieldLabels.shippableFlag="Shippable Flag",this.fieldLabels.attribute8="Attribute8",this.fieldLabels.productName="Product Name",this.fieldLabels.attribute7="Attribute7",this.fieldLabels.invoiceEnabledFlag="Invoice Enabled Flag",this.fieldLabels.attribute6="Product Family2",this.fieldLabels.attribute5="Product/Service",this.fieldLabels.attribute4="Attribute4",this.fieldLabels.directCv="Direct CV",this.fieldLabels.productStatus="Item Status",this.fieldLabels.residualValue="Residual Value",this.fieldLabels.source="Source",this.fieldLabels.attribute10="Attribute10",this.fieldLabels.cvPercent="CV Percent",this.fieldLabels.sourceProductId="Source ID",this.fieldLabels.revrecType="RevRec Type",this.fieldLabels.attribute14="Attribute14",this.fieldLabels.attribute13="Attribute13",this.fieldLabels.attribute12="Attribute12",this.fieldLabels.attribute11="Invoicable Item",this.fieldLabels.acctRuleName="Invoicing Rule",this.fieldLabels.productRevAccount="Product Rev Account",this.fieldLabels.productCogsAccount="Product COGS Account",this.fieldLabels.productOrgCode="Business Unit",this.fieldLabels.attribute21="Attribute21",this.fieldLabels.cogsAccountId="COGS Account ID",this.fieldLabels.attribute20="Attribute20",this.fieldLabels.attribute25="Attribute25",this.fieldLabels.attribute24="Attribute24",this.fieldLabels.fvOptional="FV Optional",this.fieldLabels.attribute23="Attribute23",this.fieldLabels.attribute22="Attribute22",this.fieldLabels.startDate="Start Date",this.fieldLabels.productId="Product ID",this.fieldLabels.revenueTemplateId="Revenue Template",this.fieldLabels.productCost="Product Cost",this.fieldLabels.productType="Item Type",this.fieldLabels.uom="Unit of Measurement",this.fieldLabels.attribute18="Attribute18",this.fieldLabels.attribute17="Attribute17",this.fieldLabels.revenueCategory="Revenue Category",this.fieldLabels.attribute16="Attribute16",this.fieldLabels.attribute15="Attribute15",this.fieldLabels.attribute19="Attribute19",this.fieldLabels.bundleFlag="Bundled Item"}}},azuL:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var a=i("FpCA"),n=i("fXoL"),o=i("ofXK"),r=i("+DzE");function l(e,t){1&e&&n.Qb(0,"p-progressBar",1)}let s=(()=>{class e{constructor(e){this._uploadService=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(a.a))},e.\u0275cmp=n.Jb({type:e,selectors:[["progress-bar"]],decls:1,vars:1,consts:[["id","infinite-progress","mode","indeterminate",4,"ngIf"],["id","infinite-progress","mode","indeterminate"]],template:function(e,t){1&e&&n.Kc(0,l,1,0,"p-progressBar",0),2&e&&n.oc("ngIf",t._uploadService.uploadLoading)},directives:[o.o,r.a],encapsulation:2}),e})()},sJ6W:function(e,t,i){"use strict";i.r(t),i.d(t,"configurationManagerModule",(function(){return Vu}));var a=i("tyNb"),n=i("3Pt+"),o=i("7zfz"),r=i("tk/3"),l=i("fXoL");const s=i("+yMW"),c={headers:new r.f({"Content-Type":"application/json"})};let d=(()=>{class e{constructor(e){this.http=e}getAllRmanContTemplate(e,t,i){let a=s.apiUrl+"/rmanContTemplateSearch?",n="";return null!=t.templateId&&""!=t.templateId&&(n=n+"templateId:"+t.templateId+","),null!=t.templateName&&""!=t.templateName&&(n=n+"templateName:"+t.templateName+","),null!=t.description&&""!=t.description&&(n=n+"description:"+t.description+","),null!=t.applyType&&""!=t.applyType&&(n=n+"applyType:"+t.applyType+","),null!=t.revenue&&""!=t.revenue&&(n=n+"revenue:"+t.revenue+","),null!=t.cogs&&""!=t.cogs&&(n=n+"cogs:"+t.cogs+","),null!=t.effectiveStartDate&&""!=t.effectiveStartDate&&(n=n+"effectiveStartDate:"+t.effectiveStartDate+","),null!=t.effectiveEndDate&&""!=t.effectiveEndDate&&(n=n+"effectiveEndDate:"+t.effectiveEndDate+","),null!=t.attribute1&&""!=t.attribute1&&(n=n+"attribute1:"+t.attribute1+","),null!=t.attribute2&&""!=t.attribute2&&(n=n+"attribute2:"+t.attribute2+","),null!=t.attribute3&&""!=t.attribute3&&(n=n+"attribute3:"+t.attribute3+","),null!=t.attribute4&&""!=t.attribute4&&(n=n+"attribute4:"+t.attribute4+","),null!=t.attribute5&&""!=t.attribute5&&(n=n+"attribute5:"+t.attribute5+","),null!=t.attribute6&&""!=t.attribute6&&(n=n+"attribute6:"+t.attribute6+","),null!=t.attribute7&&""!=t.attribute7&&(n=n+"attribute7:"+t.attribute7+","),null!=t.attribute8&&""!=t.attribute8&&(n=n+"attribute8:"+t.attribute8+","),null!=t.attribute9&&""!=t.attribute9&&(n=n+"attribute9:"+t.attribute9+","),null!=t.attribute10&&""!=t.attribute10&&(n=n+"attribute10:"+t.attribute10+","),null!=t.attribute11&&""!=t.attribute11&&(n=n+"attribute11:"+t.attribute11+","),null!=t.attribute12&&""!=t.attribute12&&(n=n+"attribute12:"+t.attribute12+","),null!=t.attribute13&&""!=t.attribute13&&(n=n+"attribute13:"+t.attribute13+","),null!=t.attribute14&&""!=t.attribute14&&(n=n+"attribute14:"+t.attribute14+","),null!=t.attribute15&&""!=t.attribute15&&(n=n+"attribute15:"+t.attribute15+","),null!=t.creationDate&&""!=t.creationDate&&(n=n+"creationDate:"+t.creationDate+","),null!=t.createdBy&&""!=t.createdBy&&(n=n+"createdBy:"+t.createdBy+","),null!=t.lastUpdateDate&&""!=t.lastUpdateDate&&(n=n+"lastUpdateDate:"+t.lastUpdateDate+","),null!=t.lastUpdatedBy&&""!=t.lastUpdatedBy&&(n=n+"lastUpdatedBy:"+t.lastUpdatedBy+","),null!=t.defaultDays&&""!=t.defaultDays&&(n=n+"defaultDays:"+t.defaultDays+","),null!=t.invoiceHold&&""!=t.invoiceHold&&(n=n+"invoiceHold:"+t.invoiceHold),""==n?a+="search=%25":a=a+"search="+n,"Y"==i&&(a+="&fetchAll=Y"),null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(a=a+"&page="+e.pageNumber+"&size="+e.pageSize),this.http.get(a).toPromise().then(e=>e)}saveRmanContTemplate(e){let t=JSON.stringify(e);return this.http.post(s.apiUrl+"/RMAN_CONT_TEMPLATE",t,c).toPromise().then(e=>e)}updateRmanContTemplate(e){delete e._links,delete e.interests;let t=JSON.stringify(e);return this.http.put(s.apiUrl+"/RMAN_CONT_TEMPLATE/"+e.templateId,t,c).toPromise().then(e=>e)}deleteRmanContTemplate(e){return this.http.delete(s.apiUrl+"/RMAN_CONT_TEMPLATE/"+e.templateId,c).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac}),e})();var u=i("Mf/S");const b=i("+yMW"),p={headers:new r.f({"Content-Type":"application/json"})};let g=(()=>{class e{constructor(e){this.http=e}getAllRmanContLinkedTemplateSv(e,t){let i=b.apiUrl+"/rmanContLinkedTemplateSvSearch?",a="";return null!=t.key&&""!=t.key&&(a=a+"key:"+t.key+","),null!=t.ruleHeaderId&&""!=t.ruleHeaderId&&(a=a+"ruleHeaderId:"+t.ruleHeaderId+","),null!=t.templateId&&""!=t.templateId&&(a=a+"templateId:"+t.templateId+","),null!=t.attribute1&&""!=t.attribute1&&(a=a+"attribute1:"+t.attribute1+","),null!=t.attribute2&&""!=t.attribute2&&(a=a+"attribute2:"+t.attribute2+","),null!=t.attribute3&&""!=t.attribute3&&(a=a+"attribute3:"+t.attribute3+","),null!=t.attribute4&&""!=t.attribute4&&(a=a+"attribute4:"+t.attribute4+","),null!=t.attribute5&&""!=t.attribute5&&(a=a+"attribute5:"+t.attribute5+","),null!=t.attribute6&&""!=t.attribute6&&(a=a+"attribute6:"+t.attribute6+","),null!=t.attribute7&&""!=t.attribute7&&(a=a+"attribute7:"+t.attribute7+","),null!=t.attribute8&&""!=t.attribute8&&(a=a+"attribute8:"+t.attribute8+","),null!=t.attribute9&&""!=t.attribute9&&(a=a+"attribute9:"+t.attribute9+","),null!=t.attribute10&&""!=t.attribute10&&(a=a+"attribute10:"+t.attribute10+","),null!=t.attribute11&&""!=t.attribute11&&(a=a+"attribute11:"+t.attribute11+","),null!=t.attribute12&&""!=t.attribute12&&(a=a+"attribute12:"+t.attribute12+","),null!=t.attribute13&&""!=t.attribute13&&(a=a+"attribute13:"+t.attribute13+","),null!=t.attribute14&&""!=t.attribute14&&(a=a+"attribute14:"+t.attribute14+","),null!=t.attribute15&&""!=t.attribute15&&(a=a+"attribute15:"+t.attribute15+","),null!=t.creationDate&&""!=t.creationDate&&(a=a+"creationDate:"+t.creationDate+","),null!=t.createdBy&&""!=t.createdBy&&(a=a+"createdBy:"+t.createdBy+","),null!=t.lastUpdateDate&&""!=t.lastUpdateDate&&(a=a+"lastUpdateDate:"+t.lastUpdateDate+","),null!=t.lastUpdatedBy&&""!=t.lastUpdatedBy&&(a=a+"lastUpdatedBy:"+t.lastUpdatedBy),""==a?i+="search=%25":i=i+"search="+a,i=null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber?i+"&size="+e.pageSize:i+"&page="+e.pageNumber+"&size="+e.pageSize,this.http.get(i).toPromise().then(e=>e)}saveRmanContLinkedTemplateSv(e){let t=JSON.stringify(e);return this.http.post(b.apiUrl+"/saveRmanContLinkedTemplates",t,p).toPromise().then(e=>e)}updateRmanContLinkedTemplateSv(e){delete e._links,delete e.interests;let t=JSON.stringify(e);return this.http.put(b.apiUrl+"/RMAN_CONT_LINKED_TEMPLATE_SV/"+e.key,t,p).toPromise().then(e=>e)}deleteRmanContLinkedTemplateSv(e){return this.http.delete(b.apiUrl+"/RMAN_CONT_LINKED_TEMPLATE_SV/"+e.ruleHeaderId+"/"+e.templateId,p).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac}),e})();var h=i("JSOo"),m=i("J7oY"),f=i("7wYa"),V=i("jGlT"),v=i("ofXK"),y=i("rEr+"),M=i("/RsI"),U=i("iHf9"),C=i("jIHw"),R=i("arFO"),S=i("7kUa"),E=i("Nf9I"),D=i("+07z"),k=i("TjhJ"),w=i("eO1q"),A=i("Ji6n"),O=i("pqzn");function P(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",59),l.dc("click",(function(){return l.Dc(e),l.gc().showDialogToAdd()})),l.Qb(1,"em",60),l.Ub()}}function I(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",61),l.dc("click",(function(){return l.Dc(e),l.gc().getContLinktemplates()})),l.Qb(1,"em",62),l.Ub()}}function F(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",73),l.dc("onDragStart",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDragStart(t)}))("onDrop",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDrop(t)})),l.Vb(2,"div",74),l.Vb(3,"input",75),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label"),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField),l.Eb(2),l.Nc(e.header)}}const N=function(){return{color:"grey"}};function T(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",76),l.Vb(2,"div"),l.Vb(3,"input",77),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label",78),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),l.Eb(1),l.oc("ngStyle",l.rc(5,N)),l.Eb(1),l.Nc(e.header)}}function L(e,t){if(1&e&&(l.Kc(0,F,6,3,"div",55),l.Kc(1,T,6,6,"div",55)),2&e){const e=t.$implicit;l.oc("ngIf",e.drag),l.Eb(1),l.oc("ngIf",!e.drag)}}const x=function(){return{width:"100%",height:"100%"}};function B(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",63),l.Vb(1,"div",64),l.Vb(2,"div",65),l.Vb(3,"input",66),l.dc("click",(function(){return l.Dc(e),l.gc().onSelectAll()})),l.Ub(),l.Vb(4,"label",67),l.Mc(5,"Select All"),l.Ub(),l.Vb(6,"a",68),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(7,"\xd7"),l.Ub(),l.Vb(8,"p-listbox",69),l.Kc(9,L,2,2,"ng-template",26),l.Ub(),l.Ub(),l.Vb(10,"div",70),l.Vb(11,"a",71),l.dc("click",(function(){return l.Dc(e),l.gc().saveColumns()})),l.Mc(12,"Save"),l.Ub(),l.Vb(13,"a",72),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(14,"Cancel"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(3),l.oc("checked",e.isSelectAllChecked),l.Eb(5),l.Ic(l.rc(4,x)),l.oc("options",e.globalCols)}}function H(e,t){1&e&&l.Qb(0,"col")}function q(e,t){if(1&e&&(l.Vb(0,"colgroup"),l.Qb(1,"col"),l.Kc(2,H,1,0,"col",79),l.Ub()),2&e){const e=t.$implicit;l.Eb(2),l.oc("ngForOf",e)}}const K=function(e){return{display:e}};function z(e,t){if(1&e&&(l.Vb(0,"th",82),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,K,e.display)),l.Eb(1),l.Nc(e.header)}}function j(e,t){if(1&e&&(l.Vb(0,"th",83),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,K,e.display)),l.Eb(1),l.Nc(e.header)}}function _(e,t){if(1&e&&(l.Tb(0),l.Kc(1,z,2,5,"th",80),l.Kc(2,j,2,5,"th",81),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type||"date"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function Q(e,t){if(1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Kc(2,_,3,2,"ng-container",79),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.oc("ngForOf",e.columns)}}function G(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",87),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().editRow(t)})),l.Ub()}}function W(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",88),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().delete(t)})),l.Ub()}}function Y(e,t){if(1&e&&(l.Vb(0,"td",91),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,K,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function J(e,t){if(1&e&&(l.Vb(0,"td",92),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,K,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function Z(e,t){if(1&e&&(l.Vb(0,"td",91),l.hc(1,"date"),l.Mc(2),l.hc(3,"date"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.jc(1,3,t[e.field],"MM/dd/yyyy")),l.oc("ngStyle",l.sc(9,K,e.display)),l.Eb(2),l.Oc(" ",l.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function X(e,t){if(1&e&&(l.Vb(0,"td",92),l.hc(1,"round"),l.Mc(2),l.hc(3,"round"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.ic(1,3,t[e.field])),l.oc("ngStyle",l.sc(7,K,e.display)),l.Eb(2),l.Oc(" ",l.ic(3,5,t[e.field])," ")}}function ee(e,t){if(1&e&&(l.Tb(0),l.Kc(1,Y,2,5,"td",89),l.Kc(2,J,2,5,"td",90),l.Kc(3,Z,4,11,"td",89),l.Kc(4,X,4,9,"td",90),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type),l.Eb(1),l.oc("ngIf","date"==e.type),l.Eb(1),l.oc("ngIf","round"==e.type)}}const te=function(){return["write","MC"]};function ie(e,t){if(1&e&&(l.Vb(0,"tr",84),l.Vb(1,"td"),l.Kc(2,G,1,0,"a",85),l.Kc(3,W,1,0,"a",86),l.Ub(),l.Kc(4,ee,5,4,"ng-container",79),l.Ub()),2&e){const e=t.columns;l.oc("pSelectableRow",t.$implicit),l.Eb(2),l.oc("isAuthorized",l.rc(4,te)),l.Eb(1),l.oc("isAuthorized",l.rc(5,te)),l.Eb(1),l.oc("ngForOf",e)}}function ae(e,t){if(1&e&&(l.Vb(0,"div",93),l.Vb(1,"p"),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.Nc(e.noData)}}function ne(e,t){if(1&e&&(l.Vb(0,"span"),l.Mc(1),l.Ub()),2&e){const e=t.$implicit;l.Eb(1),l.Nc(null==e?null:e.templateName)}}function oe(e,t){if(1&e&&(l.Vb(0,"div",111),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.name," ")}}function re(e,t){if(1&e&&(l.Vb(0,"div",111),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.description," ")}}function le(e,t){if(1&e&&(l.Vb(0,"div",111),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.category," ")}}function se(e,t){if(1&e&&(l.Vb(0,"div",111),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.startDate," ")}}function ce(e,t){if(1&e&&(l.Vb(0,"div",111),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.ranking," ")}}function de(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",31),l.Vb(1,"div",32),l.Vb(2,"div",33),l.Vb(3,"span",34),l.Mc(4," Rule Name "),l.Vb(5,"span",94),l.Mc(6,"*"),l.Ub(),l.Ub(),l.Vb(7,"p-dropdown",95),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContHeader.ruleName=t})),l.Ub(),l.Kc(8,oe,2,1,"div",96),l.Ub(),l.Vb(9,"div",36),l.Vb(10,"span",38),l.Vb(11,"span",34),l.Mc(12," Description "),l.Ub(),l.Vb(13,"input",97),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContHeader.description=t})),l.Ub(),l.Kc(14,re,2,1,"div",96),l.Ub(),l.Ub(),l.Ub(),l.Vb(15,"div",32),l.Vb(16,"div",33),l.Vb(17,"span",34),l.Mc(18," Rule Category "),l.Vb(19,"span",94),l.Mc(20,"*"),l.Ub(),l.Ub(),l.Vb(21,"p-dropdown",98),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContHeader.ruleCategory=t})),l.Ub(),l.Kc(22,le,2,1,"div",96),l.Ub(),l.Vb(23,"div",36),l.Vb(24,"span",34),l.Mc(25," Rule Apply Level "),l.Ub(),l.Vb(26,"p-dropdown",99),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContHeader.ruleApplyLevel=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(27,"div",32),l.Vb(28,"div",33),l.Vb(29,"span",34),l.Mc(30,"Rule Start Date "),l.Vb(31,"span",94),l.Mc(32,"*"),l.Ub(),l.Ub(),l.Vb(33,"p-calendar",100),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContHeader.ruleStartDate=t})),l.Ub(),l.Kc(34,se,2,1,"div",96),l.Ub(),l.Vb(35,"div",36),l.Vb(36,"span",34),l.Mc(37,"Rule End Date"),l.Ub(),l.Vb(38,"p-calendar",101),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContHeader.ruleEndDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(39,"div",32),l.Vb(40,"div",33),l.Vb(41,"span",38),l.Vb(42,"span",34),l.Mc(43," Comments "),l.Ub(),l.Vb(44,"input",102),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContHeader.comments=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(45,"div",36),l.Vb(46,"span",38),l.Vb(47,"span",34),l.Mc(48," Ranking "),l.Ub(),l.Vb(49,"input",103),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContHeader.ranking=t})),l.Ub(),l.Kc(50,ce,2,1,"div",96),l.Ub(),l.Ub(),l.Ub(),l.Vb(51,"div",32),l.Vb(52,"div",33),l.Vb(53,"span",34),l.Mc(54,"RevRec Hold Apply "),l.Ub(),l.Vb(55,"p-dropdown",104),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContHeader.attribute1=t})),l.Ub(),l.Ub(),l.Vb(56,"div",36),l.Vb(57,"span",34),l.Mc(58,"Post Billing Allocation Flag "),l.Ub(),l.Vb(59,"p-dropdown",105),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContHeader.attribute2=t}))("onChange",(function(t){return l.Dc(e),l.gc().onSelectingPostAllocationFlag(t.value)})),l.Ub(),l.Ub(),l.Ub(),l.Vb(60,"div",32),l.Vb(61,"div",33),l.Vb(62,"span",34),l.Mc(63,"Include FV Flag"),l.Ub(),l.Vb(64,"p-dropdown",106),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContHeader.attribute3=t})),l.Ub(),l.Ub(),l.Vb(65,"div",36),l.Vb(66,"span",34),l.Mc(67,"Components: "),l.Ub(),l.Vb(68,"div",107),l.Vb(69,"div",108),l.Vb(70,"p-checkbox",109),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContHeader.revFlag=t})),l.Ub(),l.Ub(),l.Vb(71,"div",108),l.Vb(72,"p-checkbox",110),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContHeader.cogsFlag=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(7),l.oc("options",e.rmanLookupsV2)("ngModel",e.rmanContHeader.ruleName)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.name),l.Eb(5),l.oc("ngModel",e.rmanContHeader.description),l.Eb(1),l.oc("ngIf",e.formErrors.description),l.Eb(7),l.oc("options",e.rmanLookupsV)("ngModel",e.rmanContHeader.ruleCategory)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.category),l.Eb(4),l.oc("options",e.rmanLookupsV1)("ngModel",e.rmanContHeader.ruleApplyLevel)("filter",!0),l.Eb(7),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",e.rmanContHeader.ruleStartDate),l.Eb(1),l.oc("ngIf",e.formErrors.startDate),l.Eb(4),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",e.rmanContHeader.ruleEndDate),l.Eb(6),l.oc("ngModel",e.rmanContHeader.comments),l.Eb(5),l.oc("ngModel",e.rmanContHeader.ranking),l.Eb(1),l.oc("ngIf",e.formErrors.ranking),l.Eb(5),l.oc("options",e.rmanLookupsV3)("ngModel",e.rmanContHeader.attribute1)("filter",!0),l.Eb(4),l.oc("options",e.postAllocationLookup)("ngModel",e.rmanContHeader.attribute2)("filter",!0),l.Eb(5),l.oc("options",e.fvFlagLookup)("ngModel",e.rmanContHeader.attribute3)("filter",!0)("disabled","Y"==e.rmanContHeader.attribute2),l.Eb(6),l.pc("binary",e.revFlag),l.oc("ngModel",e.rmanContHeader.revFlag),l.Eb(2),l.pc("binary",e.cogsFlag),l.oc("ngModel",e.rmanContHeader.cogsFlag)}}function ue(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Rule Name"),l.Ub())}function be(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Rule Category"),l.Ub())}function pe(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Rule Start Date"),l.Ub())}const ge=function(){return{height:"200px"}},he=function(){return{standalone:!0}},me=i("+yMW");let fe=(()=>{class e{constructor(e,t,i,a,n,o,r,l,s){this.ref=e,this.rmanContHeaderService=t,this.rmanLookupsVService=i,this.formBuilder=a,this.rmanContTemplateService=n,this.rmanContLinkedTemplateSvService=o,this.confirmationService=r,this.notificationService=l,this.commonSharedService=s,this.initialProcess=0,this.rmanContHeader=new Ve,this.rmanContHeaderSearch=new Ve,this.rmanContTemplate=new ve,this.rmanContLinkedTemplate=new ye,this.isSerached=0,this.noData=me.noData,this.rmanLookupsVList=[],this.rmanLookupsV1List=[],this.rmanLookupsV2List=[],this.rmanLookupsV3List=[],this.collapsed=!0,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.postAllocationLookup=[],this.fvFlagLookup=[],this.formErrors={name:"",category:"",startDate:"",description:"",ranking:""},this.validationMessages={name:{required:"Name is required",maxlength:"Name cannot be more than 25 characters long."},category:{required:"Rule Category is Required"},startDate:{required:"Rule Start Date is required"},description:{minlength:"Description must be at least 4 characters long.",maxlength:"Description cannot be more than 30 characters long."},ranking:{pattern:"Only number values are allowed [0-9]"}},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.loading=!0,this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"CONT_RULE_APPLY_LEVEL"}).then(e=>{this.rmanLookupsVList=e.content,this.prepareRmanLookupsV1Object(),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"CONT_RULE_CATEGORY"}).then(e=>{this.loading=!1,this.rmanLookupsV1List=e.content,this.prepareRmanLookupsVObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Rule Apply Level" data'),this.loading=!1})}).catch(e=>{this.notificationService.showError('Error occured while getting "Rule Category" data'),this.loading=!1}),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"REV_REC_HOLD_TYPE"}).then(e=>{this.loading=!1,this.rmanLookupsV2List=e.content,this.prepareRmanLookupsV2Object()}).catch(e=>{this.notificationService.showError('Error occured while getting "REV_REC_HOLD_TYPE Level" data'),this.loading=!1}),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"REVREC_HOLD_APPLY_LEVEL"}).then(e=>{this.loading=!1,this.rmanLookupsV3List=e.content,this.prepareRmanLookupsV3Object()}).catch(e=>{this.notificationService.showError('Error occured while getting "REVREC_HOLD_APPLY_LEVEL" data'),this.loading=!1}),this.postAllocationLookup.push({label:"Select Post Allocation Flag",value:null}),this.postAllocationLookup.push({label:"Y",value:"Y"}),this.postAllocationLookup.push({label:"N",value:"N"}),this.fvFlagLookup.push({label:"Select FV Flag",value:null}),this.fvFlagLookup.push({label:"Y",value:"Y"}),this.fvFlagLookup.push({label:"N",value:"N"}),this.cref=e}ngAfterViewChecked(){this.cref.detectChanges()}ngOnInit(){this.globalCols=[{field:"ruleName",header:"Rule Name",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"description",header:"Description",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"ruleApplyLevel",header:"Rule Apply Level",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"ruleCategory",header:"Rule Category",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"ruleStartDate",header:"Rule Start Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"ruleEndDate",header:"Rule End Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"ranking",header:"Ranking",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"revFlag",header:"Revenue",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"cogsFlag",header:"COGS",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"attribute1",header:"Revrec Hold Apply",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"attribute2",header:"Post Billing Allocation Flag",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"attribute3",header:"Include FV Flag",showField:!0,display:"table-cell",type:"text",drag:!0}],this.columns=[],this.getTableColumns("contingencyCodes","Codes"),this.buildForm()}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];let t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.globalCols.findIndex(t=>t.field==e),this.onDrop(t))}),this.globalCols.forEach(t=>{-1!==e.tableColumns.indexOf(t.field)?this.columns.push(t):t.showField=!1}),this.columns.length!=this.globalCols.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.globalCols}).catch(()=>{this.notificationService.showError("Error occured while getting table columns data"),this.loading=!1})}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.globalCols.length-1;this.globalCols.forEach((i,a)=>{i.showField&&(e+=i.field,a<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("contingencyCodes","Codes",e,this.userId).then(e=>{this.columns=this.globalCols.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}selectColumns(e){let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}buildForm(){this.contHeaderForm=this.formBuilder.group({name:["",[n.t.required,n.t.maxLength(25)]],category:["",[n.t.required]],startDate:["",[n.t.required]],endDate:[""],description:["",[n.t.minLength(4),n.t.maxLength(30)]],ruleApplyLevel:[""],comments:[""],ranking:["",[n.t.pattern("^[0-9]*$")]],revFlag:[""],cogsFlag:[""],attribute1:[""],attribute2:[""],attribute3:[""]}),this.contHeaderForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}onValueChanged(e){if(!this.contHeaderForm)return;const t=this.contHeaderForm;for(const i in this.formErrors){this.formErrors[i]="";const e=t.get(i);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[i];for(const a in e.errors)this.formErrors[i]+=t[a]+" "}}}transformRmanLookupsV(e){if(e)return e.lookupDescription}transformRmanLookupsV1(e){if(e)return e.lookupDescription}getAllRmanContHeader(){this.loading=!0,this.rmanContHeaderService.getAllRmanContHeader(this.paginationOptions,this.rmanContHeader).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanContHeaderList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size,this.displaySearchDialog=!1}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onSelectingPostAllocationFlag(e){"Y"==e?this.rmanContHeader.attribute3="N":"N"==e&&(this.rmanContHeader.attribute3=null)}getRmanContHeader(e){this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.rmanContHeaderService.getAllRmanContHeader(this.paginationOptions,this.rmanContHeader).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanContHeaderList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}getContLinktemplates(){let e=[];this.srcRmanContTemplates=[],this.trgRmanContTemplates=[],this.selectedRmanContHeader&&Object.keys(this.selectedRmanContHeader).length?(this.loading=!0,this.paginationOptions={},this.rmanContTemplateService.getAllRmanContTemplate(this.paginationOptions,this.rmanContTemplate,"Y").then(t=>{this.loading=!1,this.rmanContTemplatesList=t.content,this.srcRmanContTemplates=t.content,this.trgRmanContTemplates=[],this.srcRmanContTemplates&&this.srcRmanContTemplates.length>0&&(this.loading=!0,this.rmanContLinkedTemplateSvService.getAllRmanContLinkedTemplateSv(this.paginationOptions,this.rmanContLinkedTemplate).then(t=>{this.loading=!1;let i=[];this.rmanContLinkedTemplatesList=t.content,i=this.rmanContLinkedTemplatesList.filter(e=>e.ruleHeaderId==this.pContHeaderId).map(e=>e.templateId),i&&i.length>0&&(this.srcRmanContTemplates.forEach(t=>{i.includes(t.templateId)?this.trgRmanContTemplates.push(t):e.push(t)}),this.srcRmanContTemplates=e),this.diaplyPickListDialog=!0,this.loading=!1}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1}))}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})):this.notificationService.showInfo("Please select one of the contingency to assign templates")}saveContLinktemplates(){this.loading=!0,this.paginationOptions={};var e=this.trgRmanContTemplates.map(e=>e.templateId);this.rmanContLinkedTemplateSvService.saveRmanContLinkedTemplateSv({contRuleHeaderId:this.pContHeaderId,rmanContTemplateList:e}).then(e=>{this.notificationService.showSuccess("Templates updated successfully"),this.loading=!1,this.diaplyPickListDialog=!1}).catch(e=>{this.notificationService.showError(e.error.message),this.loading=!1,this.diaplyPickListDialog=!1})}showDialogToAdd(){this.newRmanContHeader=!0,this.rmanContHeader=new Ve,this.displayDialog=!0,this.prepareRmanLookupsVObject(),this.prepareRmanLookupsV1Object(),this.prepareRmanLookupsV2Object(),this.prepareRmanLookupsV3Object(),this.buildForm()}cancelEdit(){this.displayDialog=!1,this.rmanContHeader=new Ve}showDialogToAddTemplates(){null!=this.selectedRmanContHeader?(this.getContLinktemplates(),1==this.initialProcess&&(this.diaplyPickListDialog=!0,this.initialProcess=0)):this.notificationService.showInfo("Please select one of the contingency to apply templates")}save(){this.rmanContHeader.cogsFlag=this.rmanContHeader.cogsFlag?"Y":"N",this.rmanContHeader.revFlag=this.rmanContHeader.revFlag?"Y":"N",this.loading=!0,this.rmanContHeaderService.createOrUpdateContHeader(this.rmanContHeader,this.newRmanContHeader).then(e=>{this.loading=!1,this.getAllRmanContHeader(),this.notificationService.showSuccess(this.newRmanContHeader?me.commonValueConstants.SUCCESS_SAVED:me.commonValueConstants.SUCCESS_UPDATED)}).catch(e=>{this.notificationService.showError(this.newRmanContHeader?me.commonValueConstants.ERR_SAVING_DATA:me.commonValueConstants.ERR_UPDATING_DATA),this.loading=!1}),this.rmanContHeader=new Ve,this.displayDialog=!1}delete(e){this.rmanContHeader=e,this.rmanContHeader.ruleStartDate&&(this.rmanContHeader.ruleStartDate=new Date(this.rmanContHeader.ruleStartDate)),this.rmanContHeader.ruleEndDate&&(this.rmanContHeader.ruleEndDate=new Date(this.rmanContHeader.ruleEndDate)),this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.rmanContHeaderList.splice(this.findSelectedRmanContHeaderIndex(),1),this.loading=!0,this.rmanContHeaderService.deleteRmanContHeader(this.rmanContHeader).then(e=>{this.loading=!1,this.rmanContHeader=new Ve,this.getAllRmanContHeader()}),this.notificationService.showSuccess("Deleted successfully")},reject:()=>{this.notificationService.showWarning("You have rejected")}})}editRow(e){this.newRmanContHeader=!1,this.rmanContHeader=this.cloneRmanContHeader(e),this.rmanContHeader.ruleStartDate&&(this.rmanContHeader.ruleStartDate=new Date(this.rmanContHeader.ruleStartDate)),this.rmanContHeader.ruleEndDate&&(this.rmanContHeader.ruleEndDate=new Date(this.rmanContHeader.ruleEndDate)),this.displayDialog=!0,"Y"==e.revFlag?(this.revFlag=!0,this.rmanContHeader.revFlag=!0):(this.revFlag=!1,this.rmanContHeader.revFlag=!1),"Y"==e.cogsFlag?(this.cogsFlag=!0,this.rmanContHeader.cogsFlag=!0):(this.cogsFlag=!1,this.rmanContHeader.cogsFlag=!1),this.prepareRmanLookupsVObject(),this.prepareRmanLookupsV1Object(),this.prepareRmanLookupsV2Object(),this.prepareRmanLookupsV3Object()}findSelectedRmanContHeaderIndex(){return this.rmanContHeaderList.indexOf(this.selectedRmanContHeader)}onRowSelect(e){this.selectedRmanContHeader=e.data,this.pContHeaderId=this.selectedRmanContHeader.ruleHeaderId}cloneRmanContHeader(e){let t=new Ve;for(let i in e)t[i]=e[i];return t}toggleColumnMenu(){this.hideColumnMenu=!this.hideColumnMenu}toggleFilterBox(){this.showFilter=!this.showFilter}showDialogToSearch(){this.rmanContHeaderSearch=new Ve,0==this.isSerached&&(this.rmanContHeaderSearch=new Ve),this.displaySearchDialog=!0}cancelSearch(){this.displaySearchDialog=!1,this.rmanContHeaderSearch=new Ve}search(){this.isSerached=1,this.rmanContHeader=this.rmanContHeaderSearch,this.paginationOptions={},this.getAllRmanContHeader()}reset(e){this.paginationOptions={},this.rmanContHeaderSearch=new Ve,this.rmanContHeader=new Ve,e.reset()}prepareRmanLookupsVObject(){let e=[{label:me.dropDownOptions.SelectRuleCategory,value:null}];this.rmanLookupsV1List.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV=e}prepareRmanLookupsV1Object(){let e=[{label:me.dropDownOptions.SelectRuleApply,value:null}];this.rmanLookupsVList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV1=e}prepareRmanLookupsV2Object(){let e=[{label:me.dropDownOptions.SelectContingencyCode,value:null}];this.rmanLookupsV2List.forEach(t=>{e.push({label:t.lookupCode,value:t.lookupCode})}),this.rmanLookupsV2=e}prepareRmanLookupsV3Object(){let e=[{label:me.dropDownOptions.SelectRevRecHoldApplyLevel,value:null}];this.rmanLookupsV3List.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV3=e}onBeforeToggle(e){this.collapsed=e.collapsed}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(l.i),l.Pb(f.a),l.Pb(u.a),l.Pb(n.c),l.Pb(d),l.Pb(g),l.Pb(o.a),l.Pb(m.a),l.Pb(h.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["rmanContHeader-data"]],features:[l.Db([f.a,d,g,o.a])],decls:86,vars:58,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Add",3,"click",4,"isAuthorized"],["title","Assign Templates",3,"click",4,"isAuthorized"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","contigencycode-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","columns","value","selection","lazy","paginator","rows","totalRecords","resizableColumns","selectionChange","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["width","750","header","Revenue Contingencies & Template Mapping Screen","showEffect","fade",3,"visible","modal","blockScroll","draggable","visibleChange"],[1,"content-section","implementation","items-picklist"],["sourceHeader","Available","targetHeader","Selected","dragdrop","true",3,"source","target","sourceStyle","targetStyle","showSourceControls","showTargetControls"],["pTemplate","item"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["header","Search","width","800","showEffect","fade",3,"visible","modal","draggable","blockScroll","visibleChange","onHide"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"selectSpan"],["name","ruleApplyLevel","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],[1,"ui-g-6","pull-right"],["name","ruleCategory","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],[1,"md-inputfield"],["pInputText","","name","ruleName","placeholder","Rule Name","id","ruleName",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","name","description","placeholder","Description","id","description","required","",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["width","800","showEffect","fade",3,"header","visible","modal","draggable","blockScroll","visibleChange","onHide"],[3,"formGroup"],["class","ui-grid ui-grid-responsive ui-fluid",4,"ngIf"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["id","FieldsMandatory","role","dialog","data-backdrop","static","data-keyboard","false",1,"modal","fade","dialogueBox"],[1,"modal-dialog","modal-sm"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-title"],[1,"form-horizontal"],[1,"modal-body","clearfix"],[1,"col-md-12","col-sm-12","col-xs-12","col-lg-12"],[4,"ngIf"],[1,"modal-footer",2,"padding","3px"],["data-dismiss","modal",1,"btn","btn-primary","pull-right"],["header","Confirmation","icon","fa fa-question-circle","width","425"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["title","Assign Templates",3,"click"],[1,"fa","fa-tasks"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow"],["class","icon-edit","title","Edit",3,"click",4,"isAuthorized"],["class","icon-delete","title","Delete",3,"click",4,"isAuthorized"],["title","Edit",1,"icon-edit",3,"click"],["title","Delete",1,"icon-delete",3,"click"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-results-data"],[1,"red-color"],["name","ruleName","formControlName","name",3,"options","ngModel","filter","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["pInputText","","name","Description","placeholder","Description","id","description","formControlName","description",1,"textbox",3,"ngModel","ngModelChange"],["name","ruleCategory","formControlName","category",3,"options","ngModel","filter","ngModelChange"],["formControlName","ruleApplyLevel","name","ruleApplyLevel",3,"options","ngModel","filter","ngModelChange"],["showAnim","slideDown","inputStyleClass","textbox","name","ruleStartDate","id","ruleStartDate","yearRange","1950:2030","dateFormat","mm/dd/yy","placeholder","Rule Start Date","formControlName","startDate","appendTo","body",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],["showAnim","slideDown","inputStyleClass","textbox","name","ruleEndDate","id","ruleEndDate","yearRange","1950:2030","dateFormat","mm/dd/yy","placeholder","Rule End Date","formControlName","endDate","appendTo","body",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],["pInputText","","name","comments","id","comments","formControlName","comments","placeholder","Comments",1,"textbox",3,"ngModel","ngModelChange"],["pInputText","","name","ranking","id","ranking","formControlName","ranking","placeholder","Ranking","formControlName","ranking",1,"textbox",3,"ngModel","ngModelChange"],["name","attribute1","formControlName","attribute1","appendTo","body",3,"options","ngModel","filter","ngModelChange"],["name","attribute2","formControlName","attribute2","appendTo","body",3,"options","ngModel","filter","ngModelChange","onChange"],["name","attribute3","formControlName","attribute3","appendTo","body",3,"options","ngModel","filter","disabled","ngModelChange"],[1,"checkbox-wrap"],[1,"ui-g-3"],["label","Rev Flag","name","revFlag","id","revFlag","formControlName","revFlag",3,"ngModel","binary","ngModelChange"],["label","Cogs Flag","formControlName","cogsFlag","name","cogsFlag","id","cogsFlag",3,"ngModel","binary","ngModelChange"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(e,t){if(1&e){const e=l.Wb();l.Qb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"h2"),l.Mc(7,"Manage Contingency Codes"),l.Ub(),l.Vb(8,"div",6),l.Vb(9,"a",7),l.dc("click",(function(e){return t.onConfiguringColumns(e)})),l.Qb(10,"em",8),l.Mc(11,"Columns"),l.Ub(),l.Kc(12,P,2,0,"a",9),l.Kc(13,I,2,0,"a",10),l.Vb(14,"a",11),l.dc("click",(function(){return t.showDialogToSearch()})),l.Qb(15,"em",12),l.Ub(),l.Vb(16,"a",13),l.dc("click",(function(){l.Dc(e);const i=l.Bc(21);return t.reset(i)})),l.Qb(17,"em",14),l.Ub(),l.Kc(18,B,15,5,"div",15),l.Ub(),l.Vb(19,"div",16),l.Vb(20,"p-table",17,18),l.dc("selectionChange",(function(e){return t.selectedRmanContHeader=e}))("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getRmanContHeader(e)})),l.Kc(22,q,3,1,"ng-template",19),l.Kc(23,Q,3,1,"ng-template",20),l.Kc(24,ie,5,6,"ng-template",21),l.Kc(25,ae,3,1,"ng-template",22),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(26,"p-dialog",23),l.dc("visibleChange",(function(e){return t.diaplyPickListDialog=e})),l.Vb(27,"div",24),l.Vb(28,"p-pickList",25),l.Kc(29,ne,2,1,"ng-template",26),l.Ub(),l.Ub(),l.Vb(30,"p-footer"),l.Vb(31,"div",27),l.Vb(32,"button",28),l.dc("click",(function(){return t.saveContLinktemplates()})),l.Ub(),l.Vb(33,"button",29),l.dc("click",(function(){return t.diaplyPickListDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(34,"p-dialog",30),l.dc("visibleChange",(function(e){return t.displaySearchDialog=e}))("onHide",(function(){return t.cancelSearch()})),l.Vb(35,"form"),l.Vb(36,"div",31),l.Vb(37,"div",32),l.Vb(38,"div",33),l.Vb(39,"span",34),l.Mc(40," Rule Apply Level "),l.Ub(),l.Vb(41,"p-dropdown",35),l.dc("ngModelChange",(function(e){return t.rmanContHeaderSearch.ruleApplyLevel=e})),l.Ub(),l.Ub(),l.Vb(42,"div",36),l.Vb(43,"span",34),l.Mc(44,"Rule Category "),l.Ub(),l.Vb(45,"p-dropdown",37),l.dc("ngModelChange",(function(e){return t.rmanContHeaderSearch.ruleCategory=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(46,"div",32),l.Vb(47,"div",33),l.Vb(48,"span",34),l.Mc(49,"Rule Name "),l.Ub(),l.Vb(50,"span",38),l.Vb(51,"input",39),l.dc("ngModelChange",(function(e){return t.rmanContHeaderSearch.ruleName=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(52,"div",36),l.Vb(53,"span",34),l.Mc(54,"Description "),l.Ub(),l.Vb(55,"span",38),l.Vb(56,"input",40),l.dc("ngModelChange",(function(e){return t.rmanContHeaderSearch.description=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(57,"p-footer"),l.Vb(58,"div",27),l.Vb(59,"button",41),l.dc("click",(function(){return t.search()})),l.Ub(),l.Vb(60,"button",29),l.dc("click",(function(){return t.displaySearchDialog=!1,t.cancelSearch()})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(61,"p-dialog",42),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancelEdit()})),l.Vb(62,"form",43),l.Kc(63,de,73,37,"div",44),l.Ub(),l.Vb(64,"p-footer"),l.Vb(65,"div",27),l.Vb(66,"button",45),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(67,"button",29),l.dc("click",(function(){return t.cancelEdit()})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(68,"div",46),l.Vb(69,"div",47),l.Vb(70,"div",48),l.Vb(71,"div",49),l.Vb(72,"button",50),l.Mc(73,"\xd7"),l.Ub(),l.Vb(74,"h4",51),l.Mc(75),l.Ub(),l.Ub(),l.Vb(76,"form",52),l.Vb(77,"div",53),l.Vb(78,"div",54),l.Kc(79,ue,2,0,"p",55),l.Kc(80,be,2,0,"p",55),l.Kc(81,pe,2,0,"p",55),l.Ub(),l.Ub(),l.Vb(82,"div",56),l.Vb(83,"button",57),l.Mc(84,"OK"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(85,"p-confirmDialog",58)}2&e&&(l.Eb(12),l.oc("isAuthorized",l.rc(50,te)),l.Eb(1),l.oc("isAuthorized",l.rc(51,te)),l.Eb(5),l.oc("ngIf",!t.showAddColumns),l.Eb(2),l.oc("loading",t.loading)("columns",t.columns)("value",t.rmanContHeaderList)("selection",t.selectedRmanContHeader)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("resizableColumns",!0),l.Eb(6),l.oc("visible",t.diaplyPickListDialog)("modal",!0)("blockScroll",!0)("draggable",!0),l.Eb(2),l.oc("source",t.srcRmanContTemplates)("target",t.trgRmanContTemplates)("sourceStyle",l.rc(52,ge))("targetStyle",l.rc(53,ge))("showSourceControls",!1)("showTargetControls",!1),l.Eb(6),l.oc("visible",t.displaySearchDialog)("modal",!0)("draggable",!0)("blockScroll",!0),l.Eb(7),l.oc("options",t.rmanLookupsV1)("ngModelOptions",l.rc(54,he))("ngModel",t.rmanContHeaderSearch.ruleApplyLevel)("filter",!0),l.Eb(4),l.oc("options",t.rmanLookupsV)("ngModelOptions",l.rc(55,he))("ngModel",t.rmanContHeaderSearch.ruleCategory)("filter",!0),l.Eb(6),l.oc("ngModelOptions",l.rc(56,he))("ngModel",t.rmanContHeaderSearch.ruleName),l.Eb(5),l.oc("ngModelOptions",l.rc(57,he))("ngModel",t.rmanContHeaderSearch.description),l.Eb(5),l.pc("header",t.newRmanContHeader?"Create New Contingency Code":"Edit Contingency Code"),l.oc("visible",t.displayDialog)("modal",!0)("draggable",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.contHeaderForm),l.Eb(1),l.oc("ngIf",t.rmanContHeader),l.Eb(3),l.oc("disabled",!t.contHeaderForm.valid),l.Eb(9),l.Nc("Error"),l.Eb(4),l.oc("ngIf",8==t.showMsg),l.Eb(1),l.oc("ngIf",9==t.showMsg),l.Eb(1),l.oc("ngIf",10==t.showMsg))},directives:[V.a,v.o,y.j,o.f,M.a,U.a,o.b,C.b,n.v,n.l,n.m,R.a,n.k,n.n,n.b,S.a,n.s,n.g,E.a,D.a,k.b,k.c,n.a,v.p,v.n,y.g,y.i,n.e,w.a,A.a],pipes:[v.f,O.a],encapsulation:2}),e})();class Ve{constructor(e,t,i,a,n,o,r,l,s,c,d,u,b,p,g,h,m,f,V,v,y,M,U,C,R,S,E,D,k,w,A,O,P,I,F,N,T,L,x,B,H,q,K,z,j,$,_,Q,G){this.dealFlag=e,this.attribute30=t,this.ruleHeaderId=i,this.lastUpdateDate=a,this.ranking=n,this.approverId=o,this.attribute29=r,this.attribute28=l,this.attribute27=s,this.attribute26=c,this.attribute3=d,this.createdBy=u,this.attribute2=b,this.lastUpdatedBy=p,this.attribute1=g,this.creationDate=h,this.attribute9=m,this.attribute8=f,this.attribute7=V,this.attribute6=v,this.attribute5=y,this.ruleApplyLevel=M,this.attribute4=U,this.attribute10=C,this.attribute14=R,this.attribute13=S,this.attribute12=E,this.attribute11=D,this.ruleName=k,this.comments=w,this.ruleMasterId=A,this.cogsFlag=O,this.ruleEndDate=P,this.sequenceNumber=I,this.ruleCategory=F,this.description=N,this.ruleStartDate=T,this.attribute21=L,this.attribute20=x,this.revFlag=B,this.attribute25=H,this.attribute24=q,this.attribute23=K,this.attribute22=z,this.attribute18=j,this.attribute17=$,this.attribute16=_,this.attribute15=Q,this.attribute19=G}}class ve{constructor(e,t,i,a,n,o,r,l,s,c,d,u,b,p,g,h,m,f,V,v,y,M,U,C,R,S,E,D,k){this.attribute10=e,this.invoiceHold=t,this.attribute14=i,this.attribute13=a,this.attribute12=n,this.cogs=o,this.attribute11=r,this.applyType=l,this.lastUpdateDate=s,this.templateId=c,this.description=d,this.effectiveEndDate=u,this.attribute3=b,this.createdBy=p,this.attribute2=g,this.lastUpdatedBy=h,this.attribute1=m,this.revenue=f,this.creationDate=V,this.attribute9=v,this.attribute8=y,this.attribute7=M,this.attribute6=U,this.defaultDays=C,this.attribute5=R,this.attribute4=S,this.effectiveStartDate=E,this.templateName=D,this.attribute15=k}}class ye{constructor(e,t,i,a,n,o,r,l,s,c,d,u,b,p,g,h,m,f,V,v,y,M){this.attribute3=e,this.attribute10=t,this.createdBy=i,this.attribute2=a,this.lastUpdatedBy=n,this.attribute1=o,this.attribute14=r,this.ruleHeaderId=l,this.attribute13=s,this.attribute12=c,this.attribute11=d,this.creationDate=u,this.attribute9=b,this.attribute8=p,this.attribute7=g,this.lastUpdateDate=h,this.attribute6=m,this.templateId=f,this.attribute5=V,this.attribute4=v,this.attribute15=y,this.key=M}}function Me(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",53),l.dc("click",(function(){return l.Dc(e),l.gc().showDialogToAdd()})),l.Qb(1,"em",54),l.Ub()}}function Ue(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",66),l.dc("onDragStart",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDragStart(t)}))("onDrop",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDrop(t)})),l.Vb(2,"div",67),l.Vb(3,"input",68),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label"),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField),l.Eb(2),l.Nc(e.header)}}const Ce=function(){return{color:"grey"}};function Re(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",69),l.Vb(2,"div"),l.Vb(3,"input",70),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label",71),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),l.Eb(1),l.oc("ngStyle",l.rc(5,Ce)),l.Eb(1),l.Nc(e.header)}}function Se(e,t){if(1&e&&(l.Kc(0,Ue,6,3,"div",49),l.Kc(1,Re,6,6,"div",49)),2&e){const e=t.$implicit;l.oc("ngIf",e.drag),l.Eb(1),l.oc("ngIf",!e.drag)}}const Ee=function(){return{width:"100%",height:"100%"}};function De(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",55),l.Vb(1,"div",56),l.Vb(2,"div",57),l.Vb(3,"input",58),l.dc("click",(function(){return l.Dc(e),l.gc().onSelectAll()})),l.Ub(),l.Vb(4,"label",59),l.Mc(5,"Select All"),l.Ub(),l.Vb(6,"a",60),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(7,"\xd7"),l.Ub(),l.Vb(8,"p-listbox",61),l.Kc(9,Se,2,2,"ng-template",62),l.Ub(),l.Ub(),l.Vb(10,"div",63),l.Vb(11,"a",64),l.dc("click",(function(){return l.Dc(e),l.gc().saveColumns()})),l.Mc(12,"Save"),l.Ub(),l.Vb(13,"a",65),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(14,"Cancel"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(3),l.oc("checked",e.isSelectAllChecked),l.Eb(5),l.Ic(l.rc(4,Ee)),l.oc("options",e.globalCols)}}function ke(e,t){1&e&&l.Qb(0,"col")}function we(e,t){if(1&e&&(l.Vb(0,"colgroup"),l.Qb(1,"col"),l.Kc(2,ke,1,0,"col",72),l.Ub()),2&e){const e=t.$implicit;l.Eb(2),l.oc("ngForOf",e)}}const Ae=function(e){return{display:e}};function Oe(e,t){if(1&e&&(l.Vb(0,"th",75),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,Ae,e.display)),l.Eb(1),l.Nc(e.header)}}function Pe(e,t){if(1&e&&(l.Vb(0,"th",76),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,Ae,e.display)),l.Eb(1),l.Nc(e.header)}}function Ie(e,t){if(1&e&&(l.Tb(0),l.Kc(1,Oe,2,5,"th",73),l.Kc(2,Pe,2,5,"th",74),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type||"date"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function Fe(e,t){if(1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Kc(2,Ie,3,2,"ng-container",72),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.oc("ngForOf",e.columns)}}function Ne(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",80),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().editRow(t)})),l.Ub()}}function Te(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",81),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().delete(t)})),l.Ub()}}function Le(e,t){if(1&e&&(l.Vb(0,"td",84),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,Ae,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function xe(e,t){if(1&e&&(l.Vb(0,"td",85),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,Ae,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function Be(e,t){if(1&e&&(l.Vb(0,"td",84),l.hc(1,"date"),l.Mc(2),l.hc(3,"date"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.jc(1,3,t[e.field],"MM/dd/yyyy")),l.oc("ngStyle",l.sc(9,Ae,e.display)),l.Eb(2),l.Oc(" ",l.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function He(e,t){if(1&e&&(l.Vb(0,"td",85),l.hc(1,"round"),l.Mc(2),l.hc(3,"round"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.ic(1,3,t[e.field])),l.oc("ngStyle",l.sc(7,Ae,e.display)),l.Eb(2),l.Oc(" ",l.ic(3,5,t[e.field])," ")}}function qe(e,t){if(1&e&&(l.Tb(0),l.Kc(1,Le,2,5,"td",82),l.Kc(2,xe,2,5,"td",83),l.Kc(3,Be,4,11,"td",82),l.Kc(4,He,4,9,"td",83),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type),l.Eb(1),l.oc("ngIf","date"==e.type),l.Eb(1),l.oc("ngIf","round"==e.type)}}const Ke=function(){return["write","MT"]};function ze(e,t){if(1&e&&(l.Vb(0,"tr",77),l.Vb(1,"td"),l.Kc(2,Ne,1,0,"a",78),l.Kc(3,Te,1,0,"a",79),l.Ub(),l.Kc(4,qe,5,4,"ng-container",72),l.Ub()),2&e){const e=t.columns;l.oc("pSelectableRow",t.$implicit),l.Eb(2),l.oc("isAuthorized",l.rc(4,Ke)),l.Eb(1),l.oc("isAuthorized",l.rc(5,Ke)),l.Eb(1),l.oc("ngForOf",e)}}function je(e,t){if(1&e&&(l.Vb(0,"div",86),l.Vb(1,"p"),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.Nc(e.noData)}}function $e(e,t){if(1&e&&(l.Vb(0,"div",140),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.name," ")}}function _e(e,t){if(1&e&&(l.Vb(0,"div",140),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.type," ")}}function Qe(e,t){if(1&e&&(l.Vb(0,"div",140),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.cogs," ")}}function Ge(e,t){if(1&e&&(l.Vb(0,"div",140),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.revenue," ")}}function We(e,t){if(1&e&&(l.Vb(0,"div",140),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.startDate," ")}}const Ye=function(){return{standalone:!0}};function Je(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",23),l.Vb(1,"div",24),l.Vb(2,"div",25),l.Vb(3,"span",26),l.Vb(4,"span",27),l.Mc(5,"Template Name"),l.Vb(6,"span",87),l.Mc(7,"*"),l.Ub(),l.Ub(),l.Vb(8,"input",88),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.templateName=t})),l.Ub(),l.Kc(9,$e,2,1,"div",89),l.Ub(),l.Ub(),l.Vb(10,"div",29),l.Vb(11,"span",26),l.Vb(12,"span",27),l.Mc(13,"Description"),l.Ub(),l.Vb(14,"input",30),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.description=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(15,"div",24),l.Vb(16,"div",25),l.Vb(17,"span",27),l.Mc(18," Apply Type"),l.Vb(19,"span",87),l.Mc(20,"*"),l.Ub(),l.Ub(),l.Vb(21,"p-dropdown",90),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.applyType=t})),l.Ub(),l.Kc(22,_e,2,1,"div",89),l.Ub(),l.Vb(23,"div",29),l.Vb(24,"span",27),l.Mc(25," Invoice Hold "),l.Ub(),l.Vb(26,"p-dropdown",32),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.invoiceHold=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(27,"div",24),l.Vb(28,"div",25),l.Vb(29,"span",26),l.Vb(30,"span",27),l.Mc(31,"Cogs"),l.Ub(),l.Vb(32,"input",91),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.cogs=t})),l.Ub(),l.Kc(33,Qe,2,1,"div",89),l.Ub(),l.Ub(),l.Vb(34,"div",29),l.Vb(35,"span",26),l.Vb(36,"span",27),l.Mc(37,"Revenue"),l.Ub(),l.Vb(38,"input",92),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.revenue=t})),l.Ub(),l.Kc(39,Ge,2,1,"div",89),l.Ub(),l.Ub(),l.Ub(),l.Vb(40,"div",24),l.Vb(41,"div",25),l.Vb(42,"span",27),l.Mc(43,"Effective Start Date"),l.Vb(44,"span",87),l.Mc(45,"*"),l.Ub(),l.Ub(),l.Vb(46,"p-calendar",93),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.effectiveStartDate=t})),l.Ub(),l.Kc(47,We,2,1,"div",89),l.Ub(),l.Vb(48,"div",29),l.Vb(49,"span",27),l.Mc(50,"Effective End Date"),l.Ub(),l.Vb(51,"p-calendar",94),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.effectiveEndDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(52,"div",95),l.Vb(53,"div",96),l.Vb(54,"label",97),l.Mc(55),l.Ub(),l.Ub(),l.Vb(56,"div",98),l.Vb(57,"input",99),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.templateId=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(58,"div",95),l.Vb(59,"div",96),l.Vb(60,"label",100),l.Mc(61),l.Ub(),l.Ub(),l.Vb(62,"div",98),l.Vb(63,"input",101),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute1=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(64,"div",95),l.Vb(65,"div",96),l.Vb(66,"label",102),l.Mc(67),l.Ub(),l.Ub(),l.Vb(68,"div",98),l.Vb(69,"input",103),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute2=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(70,"div",95),l.Vb(71,"div",96),l.Vb(72,"label",104),l.Mc(73),l.Ub(),l.Ub(),l.Vb(74,"div",98),l.Vb(75,"input",105),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute3=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(76,"div",95),l.Vb(77,"div",96),l.Vb(78,"label",106),l.Mc(79),l.Ub(),l.Ub(),l.Vb(80,"div",98),l.Vb(81,"input",107),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute4=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(82,"div",95),l.Vb(83,"div",96),l.Vb(84,"label",108),l.Mc(85),l.Ub(),l.Ub(),l.Vb(86,"div",98),l.Vb(87,"input",109),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute5=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(88,"div",95),l.Vb(89,"div",96),l.Vb(90,"label",110),l.Mc(91),l.Ub(),l.Ub(),l.Vb(92,"div",98),l.Vb(93,"input",111),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute6=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(94,"div",95),l.Vb(95,"div",96),l.Vb(96,"label",112),l.Mc(97),l.Ub(),l.Ub(),l.Vb(98,"div",98),l.Vb(99,"input",113),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute7=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(100,"div",95),l.Vb(101,"div",96),l.Vb(102,"label",114),l.Mc(103),l.Ub(),l.Ub(),l.Vb(104,"div",98),l.Vb(105,"input",115),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute8=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(106,"div",95),l.Vb(107,"div",96),l.Vb(108,"label",116),l.Mc(109),l.Ub(),l.Ub(),l.Vb(110,"div",98),l.Vb(111,"input",117),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute9=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(112,"div",95),l.Vb(113,"div",96),l.Vb(114,"label",118),l.Mc(115),l.Ub(),l.Ub(),l.Vb(116,"div",98),l.Vb(117,"input",119),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute10=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(118,"div",95),l.Vb(119,"div",96),l.Vb(120,"label",120),l.Mc(121),l.Ub(),l.Ub(),l.Vb(122,"div",98),l.Vb(123,"input",121),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute11=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(124,"div",95),l.Vb(125,"div",96),l.Vb(126,"label",122),l.Mc(127),l.Ub(),l.Ub(),l.Vb(128,"div",98),l.Vb(129,"input",123),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute12=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(130,"div",95),l.Vb(131,"div",96),l.Vb(132,"label",124),l.Mc(133),l.Ub(),l.Ub(),l.Vb(134,"div",98),l.Vb(135,"input",125),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute13=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(136,"div",95),l.Vb(137,"div",96),l.Vb(138,"label",126),l.Mc(139),l.Ub(),l.Ub(),l.Vb(140,"div",98),l.Vb(141,"input",127),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute14=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(142,"div",95),l.Vb(143,"div",96),l.Vb(144,"label",128),l.Mc(145),l.Ub(),l.Ub(),l.Vb(146,"div",98),l.Vb(147,"input",129),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.attribute15=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(148,"div",95),l.Vb(149,"div",96),l.Vb(150,"label",130),l.Mc(151),l.Ub(),l.Ub(),l.Vb(152,"div",98),l.Vb(153,"input",131),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.creationDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(154,"div",95),l.Vb(155,"div",96),l.Vb(156,"label",132),l.Mc(157),l.Ub(),l.Ub(),l.Vb(158,"div",98),l.Vb(159,"input",133),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.createdBy=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(160,"div",95),l.Vb(161,"div",96),l.Vb(162,"label",134),l.Mc(163),l.Ub(),l.Ub(),l.Vb(164,"div",98),l.Vb(165,"input",135),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.lastUpdateDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(166,"div",95),l.Vb(167,"div",96),l.Vb(168,"label",136),l.Mc(169),l.Ub(),l.Ub(),l.Vb(170,"div",98),l.Vb(171,"input",137),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.lastUpdatedBy=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(172,"div",95),l.Vb(173,"div",96),l.Vb(174,"label",138),l.Mc(175),l.Ub(),l.Ub(),l.Vb(176,"div",98),l.Vb(177,"input",139),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanContTemplate.defaultDays=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(8),l.oc("ngModel",e.rmanContTemplate.templateName),l.Eb(1),l.oc("ngIf",e.formErrors.name),l.Eb(5),l.oc("ngModelOptions",l.rc(87,Ye))("ngModel",e.rmanContTemplate.description),l.Eb(7),l.oc("options",e.rmanLookupsV1)("ngModel",e.rmanContTemplate.applyType)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.type),l.Eb(4),l.oc("options",e.rmanLookupsV)("ngModelOptions",l.rc(88,Ye))("ngModel",e.rmanContTemplate.invoiceHold)("filter",!0),l.Eb(6),l.oc("ngModel",e.rmanContTemplate.cogs),l.Eb(1),l.oc("ngIf",e.formErrors.cogs),l.Eb(5),l.oc("ngModel",e.rmanContTemplate.revenue),l.Eb(1),l.oc("ngIf",e.formErrors.revenue),l.Eb(7),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",e.rmanContTemplate.effectiveStartDate),l.Eb(1),l.oc("ngIf",e.formErrors.startDate),l.Eb(4),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModelOptions",l.rc(89,Ye))("ngModel",e.rmanContTemplate.effectiveEndDate),l.Eb(4),l.Nc(e.columns.templateId),l.Eb(2),l.oc("ngModelOptions",l.rc(90,Ye))("ngModel",e.rmanContTemplate.templateId),l.Eb(4),l.Nc(e.columns.attribute1),l.Eb(2),l.oc("ngModelOptions",l.rc(91,Ye))("ngModel",e.rmanContTemplate.attribute1),l.Eb(4),l.Nc(e.columns.attribute2),l.Eb(2),l.oc("ngModelOptions",l.rc(92,Ye))("ngModel",e.rmanContTemplate.attribute2),l.Eb(4),l.Nc(e.columns.attribute3),l.Eb(2),l.oc("ngModelOptions",l.rc(93,Ye))("ngModel",e.rmanContTemplate.attribute3),l.Eb(4),l.Nc(e.columns.attribute4),l.Eb(2),l.oc("ngModelOptions",l.rc(94,Ye))("ngModel",e.rmanContTemplate.attribute4),l.Eb(4),l.Nc(e.columns.attribute5),l.Eb(2),l.oc("ngModelOptions",l.rc(95,Ye))("ngModel",e.rmanContTemplate.attribute5),l.Eb(4),l.Nc(e.columns.attribute6),l.Eb(2),l.oc("ngModelOptions",l.rc(96,Ye))("ngModel",e.rmanContTemplate.attribute6),l.Eb(4),l.Nc(e.columns.attribute7),l.Eb(2),l.oc("ngModelOptions",l.rc(97,Ye))("ngModel",e.rmanContTemplate.attribute7),l.Eb(4),l.Nc(e.columns.attribute8),l.Eb(2),l.oc("ngModelOptions",l.rc(98,Ye))("ngModel",e.rmanContTemplate.attribute8),l.Eb(4),l.Nc(e.columns.attribute9),l.Eb(2),l.oc("ngModelOptions",l.rc(99,Ye))("ngModel",e.rmanContTemplate.attribute9),l.Eb(4),l.Nc(e.columns.attribute10),l.Eb(2),l.oc("ngModelOptions",l.rc(100,Ye))("ngModel",e.rmanContTemplate.attribute10),l.Eb(4),l.Nc(e.columns.attribute11),l.Eb(2),l.oc("ngModelOptions",l.rc(101,Ye))("ngModel",e.rmanContTemplate.attribute11),l.Eb(4),l.Nc(e.columns.attribute12),l.Eb(2),l.oc("ngModelOptions",l.rc(102,Ye))("ngModel",e.rmanContTemplate.attribute12),l.Eb(4),l.Nc(e.columns.attribute13),l.Eb(2),l.oc("ngModelOptions",l.rc(103,Ye))("ngModel",e.rmanContTemplate.attribute13),l.Eb(4),l.Nc(e.columns.attribute14),l.Eb(2),l.oc("ngModelOptions",l.rc(104,Ye))("ngModel",e.rmanContTemplate.attribute14),l.Eb(4),l.Nc(e.columns.attribute15),l.Eb(2),l.oc("ngModelOptions",l.rc(105,Ye))("ngModel",e.rmanContTemplate.attribute15),l.Eb(4),l.Nc(e.columns.creationDate),l.Eb(2),l.oc("ngModelOptions",l.rc(106,Ye))("ngModel",e.rmanContTemplate.creationDate),l.Eb(4),l.Nc(e.columns.createdBy),l.Eb(2),l.oc("ngModelOptions",l.rc(107,Ye))("ngModel",e.rmanContTemplate.createdBy),l.Eb(4),l.Nc(e.columns.lastUpdateDate),l.Eb(2),l.oc("ngModelOptions",l.rc(108,Ye))("ngModel",e.rmanContTemplate.lastUpdateDate),l.Eb(4),l.Nc(e.columns.lastUpdatedBy),l.Eb(2),l.oc("ngModelOptions",l.rc(109,Ye))("ngModel",e.rmanContTemplate.lastUpdatedBy),l.Eb(4),l.Nc(e.columns.defaultDays),l.Eb(2),l.oc("ngModelOptions",l.rc(110,Ye))("ngModel",e.rmanContTemplate.defaultDays)}}function Ze(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Template name"),l.Ub())}function Xe(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Apply Type"),l.Ub())}function et(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Effective Start Date"),l.Ub())}const tt=i("+yMW");let it=(()=>{class e{constructor(e,t,i,a,n,o,r){this.ref=e,this.rmanContTemplateService=t,this.rmanLookupsVService=i,this.formBuilder=a,this.confirmationService=n,this.notificationService=o,this.commonSharedService=r,this.rmanContTemplate=new at,this.rmanContTemplateSearch=new at,this.isSerached=0,this.msgs=[],this.rmanLookupsVList=[],this.rmanLookupsV1List=[],this.noData=tt.noData,this.collapsed=!0,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.formErrors={startDate:"",type:"",name:"",cogs:"",revenue:""},this.validationMessages={startDate:{required:"Name is required"},type:{required:"Apply Type is Required"},name:{required:"Template Name is required (minimum length is 4 and maximum length is 20 characters)",minlength:"Template Name must be at least 4 characters long.",maxlength:"Template Name cannot be more than 20 characters long."},cogs:{pattern:"Only number values are allowed [0-9]"},revenue:{pattern:"Only number values are allowed [0-9]"}},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.loading=!0,this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"ENABLED_FLAG"}).then(e=>{this.rmanLookupsVList=e.content,this.prepareRmanLookupsVObject(),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"CONT_APPLY_TYPE"}).then(e=>{this.loading=!1,this.rmanLookupsV1List=e.content,this.prepareRmanLookupsV1Object()}).catch(e=>{this.notificationService.showError('Error occured while getting "Apply Type" data'),this.loading=!1})}).catch(e=>{this.notificationService.showError('Error occured while getting "Invoice Hold" data'),this.loading=!1}),this.cref=e}ngAfterViewChecked(){this.cref.detectChanges()}ngOnInit(){this.globalCols=[{field:"templateName",header:"Template Name",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"description",header:"Description",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"applyType",header:"Apply Type",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"revenue",header:"Revenue",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"cogs",header:"cogs",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"invoiceHold",header:"Invoice Hold",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"effectiveStartDate",header:"Effective Start Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"effectiveEndDate",header:"Effective End Date",showField:!0,display:"table-cell",type:"date",drag:!0}],this.columns=[],this.getTableColumns("contingencyTemplates","Templates"),this.buildForm()}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];let t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.globalCols.findIndex(t=>t.field==e),this.onDrop(t))}),this.globalCols.forEach(t=>{-1!==e.tableColumns.indexOf(t.field)?this.columns.push(t):t.showField=!1}),this.columns.length!=this.globalCols.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.globalCols}).catch(()=>{this.notificationService.showError("Error occured while getting table columns data"),this.loading=!1})}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.globalCols.length-1;this.globalCols.forEach((i,a)=>{i.showField&&(e+=i.field,a<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("contingencyTemplates","Templates",e,this.userId).then(e=>{this.columns=this.globalCols.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}selectColumns(e){let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}reset(e){this.paginationOptions={},this.rmanContTemplate=new at,e.reset()}buildForm(){this.contTemplateForm=this.formBuilder.group({type:["",[n.t.required]],startDate:["",[n.t.required]],name:["",[n.t.required,n.t.minLength(4),n.t.maxLength(20)]],cogs:["",[n.t.pattern("^[0-9]*$")]],revenue:["",[n.t.pattern("^[0-9]*$")]]}),this.contTemplateForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}onValueChanged(e){if(!this.contTemplateForm)return;const t=this.contTemplateForm;for(const i in this.formErrors){this.formErrors[i]="";const e=t.get(i);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[i];for(const a in e.errors)this.formErrors[i]+=t[a]+" "}}}transformRmanLookupsV(e){if(e)return e.lookupDescription}transformRmanLookupsV1(e){if(e)return e.lookupDescription}getAllRmanContTemplate(){this.loading=!0,this.rmanContTemplateService.getAllRmanContTemplate(this.paginationOptions,this.rmanContTemplate).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanContTemplateList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size,this.displaySearchDialog=!1}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}getRmanContTemplate(e){this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.rmanContTemplateService.getAllRmanContTemplate(this.paginationOptions,this.rmanContTemplate).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanContTemplateList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}showDialogToAdd(){this.newRmanContTemplate=!0,this.rmanContTemplate=new at,this.displayDialog=!0,this.prepareRmanLookupsVObject(),this.prepareRmanLookupsV1Object(),this.buildForm()}cancelEdit(){this.displayDialog=!1,this.rmanContTemplate=new at}saveOrUpdate(e){this.notificationService.showSuccess(e),this.loading=!1,this.getAllRmanContTemplate()}save(){this.newRmanContTemplate?(this.loading=!0,this.rmanContTemplateService.saveRmanContTemplate(this.rmanContTemplate).then(e=>{this.saveOrUpdate("Saved succesfully")}).catch(e=>{this.notificationService.showError("Error occured while saving the data"),this.loading=!1})):(this.loading=!0,this.rmanContTemplateService.updateRmanContTemplate(this.rmanContTemplate).then(e=>{this.saveOrUpdate("Updated succesfully")}).catch(e=>{this.notificationService.showError("Error occured while updating the data"),this.loading=!1})),this.rmanContTemplate=new at,this.displayDialog=!1}delete(e){this.rmanContTemplate=e,this.rmanContTemplate.effectiveEndDate&&(this.rmanContTemplate.effectiveEndDate=new Date(this.rmanContTemplate.effectiveEndDate)),this.rmanContTemplate.effectiveStartDate&&(this.rmanContTemplate.effectiveStartDate=new Date(this.rmanContTemplate.effectiveStartDate)),this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.rmanContTemplateList.splice(this.findSelectedRmanContTemplateIndex(),1),this.loading=!0,this.rmanContTemplateService.deleteRmanContTemplate(this.rmanContTemplate).then(e=>{this.loading=!1,this.rmanContTemplate=new at,this.getAllRmanContTemplate()}),this.notificationService.showSuccess("Deleted succesfully")},reject:()=>{this.notificationService.showWarning("You have rejected")}})}editRow(e){this.newRmanContTemplate=!1,this.rmanContTemplate=this.cloneRmanContTemplate(e),this.rmanContTemplate.effectiveEndDate&&(this.rmanContTemplate.effectiveEndDate=new Date(this.rmanContTemplate.effectiveEndDate)),this.rmanContTemplate.effectiveStartDate&&(this.rmanContTemplate.effectiveStartDate=new Date(this.rmanContTemplate.effectiveStartDate)),this.displayDialog=!0,this.prepareRmanLookupsVObject(),this.prepareRmanLookupsV1Object()}findSelectedRmanContTemplateIndex(){return this.rmanContTemplateList.indexOf(this.selectedRmanContTemplate)}onRowSelect(e){}cloneRmanContTemplate(e){let t=new at;for(let i in e)t[i]=e[i];return t}toggleColumnMenu(){this.hideColumnMenu=!this.hideColumnMenu}toggleFilterBox(){this.showFilter=!this.showFilter}showDialogToSearch(){this.rmanContTemplateSearch=new at,0==this.isSerached&&(this.rmanContTemplateSearch=new at),this.displaySearchDialog=!0}cancelSearch(){this.displaySearchDialog=!1,this.rmanContTemplateSearch=new at}search(){this.isSerached=1,this.rmanContTemplate=this.rmanContTemplateSearch,this.paginationOptions={},this.getAllRmanContTemplate()}prepareRmanLookupsVObject(){let e=[{label:tt.dropDownOptions.SelectInvoiceHold,value:null}];this.rmanLookupsVList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV=e}prepareRmanLookupsV1Object(){let e=[{label:tt.dropDownOptions.SelectApplyType,value:null}];this.rmanLookupsV1List.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV1=e}onBeforeToggle(e){this.collapsed=e.collapsed}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(l.i),l.Pb(d),l.Pb(u.a),l.Pb(n.c),l.Pb(o.a),l.Pb(m.a),l.Pb(h.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["rmanContTemplate-data"]],features:[l.Db([d,o.a])],decls:77,vars:43,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Add",3,"click",4,"isAuthorized"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","rmanContTemplate-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","columns","value","lazy","paginator","rows","totalRecords","resizableColumns","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Search","width","800","showEffect","fade",3,"visible","modal","draggable","blockScroll","visibleChange","onHide"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["pInputText","","placeholder","Template Name","name","templateName","id","templateName",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],["pInputText","","placeholder","Description","name","description","id","description",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["name","applyType","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],["name","invoiceHold","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["width","800","showEffect","fade",3,"header","draggable","visible","modal","blockScroll","visibleChange","onHide"],["novalidate","",3,"formGroup","ngSubmit"],["class","ui-grid ui-grid-responsive ui-fluid",4,"ngIf"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["id","FieldsMandatory","role","dialog","data-backdrop","static","data-keyboard","false",1,"modal","fade","dialogueBox"],[1,"modal-dialog","modal-sm"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-title"],[1,"form-horizontal"],[1,"modal-body","clearfix"],[1,"col-md-12","col-sm-12","col-xs-12","col-lg-12"],[4,"ngIf"],[1,"modal-footer",2,"padding","3px"],["data-dismiss","modal",1,"btn","btn-primary","pull-right"],["header","Confirmation","icon","fa fa-question-circle","width","425"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow"],["class","icon-edit","title","Edit",3,"click",4,"isAuthorized"],["class","icon-delete","title","Delete",3,"click",4,"isAuthorized"],["title","Edit",1,"icon-edit",3,"click"],["title","Delete",1,"icon-delete",3,"click"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-results-data"],[1,"red-color"],["pInputText","","placeholder","Template Name","name","templateName","id","templateName","formControlName","name",1,"textbox",3,"ngModel","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["required","","name","applyType","formControlName","type","appendTo","body",3,"options","ngModel","filter","ngModelChange"],["pInputText","","placeholder","Cogs","name","cogs","id","cogs","formControlName","cogs",1,"textbox",3,"ngModel","ngModelChange"],["pInputText","","placeholder","Revenue","name","revenue","id","revenue","formControlName","revenue",1,"textbox",3,"ngModel","ngModelChange"],["inputStyleClass","textbox","showAnim","slideDown","name","effectiveStartDate","id","effectiveStartDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","Effective Start Date","formControlName","startDate","appendTo","body",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],["inputStyleClass","textbox","showAnim","slideDown","name","effectiveEndDate","id","effectiveEndDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","Effective End Date","appendTo","body",3,"monthNavigator","yearNavigator","ngModelOptions","ngModel","ngModelChange"],[1,"d-none"],[1,"ui-grid-col-4"],["for","templateId"],[1,"ui-grid-col-8"],["pInputText","","name","templateId","id","templateId","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute1"],["pInputText","","name","attribute1","id","attribute1","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute2"],["pInputText","","name","attribute2","id","attribute2","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute3"],["pInputText","","name","attribute3","id","attribute3","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute4"],["pInputText","","name","attribute4","id","attribute4","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute5"],["pInputText","","name","attribute5","id","attribute5","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute6"],["pInputText","","name","attribute6","id","attribute6","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute7"],["pInputText","","name","attribute7","id","attribute7","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute8"],["pInputText","","name","attribute8","id","attribute8","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute9"],["pInputText","","name","attribute9","id","attribute9","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute10"],["pInputText","","name","attribute10","id","attribute10","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute11"],["pInputText","","name","attribute11","id","attribute11","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute12"],["pInputText","","name","attribute12","id","attribute12","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute13"],["pInputText","","name","attribute13","id","attribute13","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute14"],["pInputText","","name","attribute14","id","attribute14","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute15"],["pInputText","","name","attribute15","id","attribute15","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","creationDate"],["pInputText","","name","creationDate","id","creationDate","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","createdBy"],["pInputText","","name","createdBy","id","createdBy","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","lastUpdateDate"],["pInputText","","name","lastUpdateDate","id","lastUpdateDate","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","lastUpdatedBy"],["pInputText","","name","lastUpdatedBy","id","lastUpdatedBy","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","defaultDays"],["pInputText","","name","defaultDays","id","defaultDays","required","",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(e,t){if(1&e){const e=l.Wb();l.Qb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"h2"),l.Mc(7,"Manage Contingency Templates"),l.Ub(),l.Vb(8,"div",6),l.Vb(9,"a",7),l.dc("click",(function(e){return t.onConfiguringColumns(e)})),l.Qb(10,"em",8),l.Mc(11,"Columns"),l.Ub(),l.Kc(12,Me,2,0,"a",9),l.Vb(13,"a",10),l.dc("click",(function(){return t.showDialogToSearch()})),l.Qb(14,"em",11),l.Ub(),l.Vb(15,"a",12),l.dc("click",(function(){l.Dc(e);const i=l.Bc(20);return t.reset(i)})),l.Qb(16,"em",13),l.Ub(),l.Kc(17,De,15,5,"div",14),l.Ub(),l.Vb(18,"div",15),l.Vb(19,"p-table",16,17),l.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getRmanContTemplate(e)})),l.Kc(21,we,3,1,"ng-template",18),l.Kc(22,Fe,3,1,"ng-template",19),l.Kc(23,ze,5,6,"ng-template",20),l.Kc(24,je,3,1,"ng-template",21),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(25,"p-dialog",22),l.dc("visibleChange",(function(e){return t.displaySearchDialog=e}))("onHide",(function(){return t.cancelSearch()})),l.Vb(26,"form"),l.Vb(27,"div",23),l.Vb(28,"div",24),l.Vb(29,"div",25),l.Vb(30,"span",26),l.Vb(31,"span",27),l.Mc(32,"Template Name"),l.Ub(),l.Vb(33,"input",28),l.dc("ngModelChange",(function(e){return t.rmanContTemplateSearch.templateName=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(34,"div",29),l.Vb(35,"span",26),l.Vb(36,"span",27),l.Mc(37,"Description"),l.Ub(),l.Vb(38,"input",30),l.dc("ngModelChange",(function(e){return t.rmanContTemplateSearch.description=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(39,"div",24),l.Vb(40,"div",25),l.Vb(41,"span",27),l.Mc(42," Apply Type "),l.Ub(),l.Vb(43,"p-dropdown",31),l.dc("ngModelChange",(function(e){return t.rmanContTemplateSearch.applyType=e})),l.Ub(),l.Ub(),l.Vb(44,"div",29),l.Vb(45,"span",27),l.Mc(46," Invoice Hold "),l.Ub(),l.Vb(47,"p-dropdown",32),l.dc("ngModelChange",(function(e){return t.rmanContTemplateSearch.invoiceHold=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(48,"p-footer"),l.Vb(49,"div",33),l.Vb(50,"button",34),l.dc("click",(function(){return t.search()})),l.Ub(),l.Vb(51,"button",35),l.dc("click",(function(){return t.cancelSearch()})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(52,"p-dialog",36),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancelEdit()})),l.Vb(53,"form",37),l.dc("ngSubmit",(function(){return t.save()})),l.Kc(54,Je,178,111,"div",38),l.Ub(),l.Vb(55,"p-footer"),l.Vb(56,"div",33),l.Vb(57,"button",39),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(58,"button",35),l.dc("click",(function(){return t.cancelEdit()})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(59,"div",40),l.Vb(60,"div",41),l.Vb(61,"div",42),l.Vb(62,"div",43),l.Vb(63,"button",44),l.Mc(64,"\xd7"),l.Ub(),l.Vb(65,"h4",45),l.Mc(66),l.Ub(),l.Ub(),l.Vb(67,"form",46),l.Vb(68,"div",47),l.Vb(69,"div",48),l.Kc(70,Ze,2,0,"p",49),l.Kc(71,Xe,2,0,"p",49),l.Kc(72,et,2,0,"p",49),l.Ub(),l.Ub(),l.Vb(73,"div",50),l.Vb(74,"button",51),l.Mc(75,"OK"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(76,"p-confirmDialog",52)}2&e&&(l.Eb(12),l.oc("isAuthorized",l.rc(38,Ke)),l.Eb(5),l.oc("ngIf",!t.showAddColumns),l.Eb(2),l.oc("loading",t.loading)("columns",t.columns)("value",t.rmanContTemplateList)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("resizableColumns",!0),l.Eb(6),l.oc("visible",t.displaySearchDialog)("modal",!0)("draggable",!0)("blockScroll",!0),l.Eb(8),l.oc("ngModelOptions",l.rc(39,Ye))("ngModel",t.rmanContTemplateSearch.templateName),l.Eb(5),l.oc("ngModelOptions",l.rc(40,Ye))("ngModel",t.rmanContTemplateSearch.description),l.Eb(5),l.oc("options",t.rmanLookupsV1)("ngModelOptions",l.rc(41,Ye))("ngModel",t.rmanContTemplateSearch.applyType)("filter",!0),l.Eb(4),l.oc("options",t.rmanLookupsV)("ngModelOptions",l.rc(42,Ye))("ngModel",t.rmanContTemplateSearch.invoiceHold)("filter",!0),l.Eb(5),l.pc("header",t.newRmanContTemplate?"Create New Contingency Template Code":"Edit Contingency Template Code"),l.oc("draggable",!0)("visible",t.displayDialog)("modal",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.contTemplateForm),l.Eb(1),l.oc("ngIf",t.rmanContTemplate),l.Eb(3),l.oc("disabled",!t.contTemplateForm.valid),l.Eb(9),l.Nc("Error"),l.Eb(4),l.oc("ngIf",11==t.showMsg),l.Eb(1),l.oc("ngIf",12==t.showMsg),l.Eb(1),l.oc("ngIf",13==t.showMsg))},directives:[V.a,v.o,y.j,o.f,M.a,n.v,n.l,n.m,n.b,S.a,n.k,n.n,R.a,o.b,C.b,n.g,E.a,D.a,k.b,k.c,n.a,v.p,v.n,y.g,y.i,n.e,n.s,w.a],pipes:[v.f,O.a],encapsulation:2}),e})();class at{constructor(e,t,i,a,n,o,r,l,s,c,d,u,b,p,g,h,m,f,V,v,y,M,U,C,R,S,E,D,k){this.attribute10=e,this.invoiceHold=t,this.attribute14=i,this.attribute13=a,this.attribute12=n,this.cogs=o,this.attribute11=r,this.applyType=l,this.lastUpdateDate=s,this.templateId=c,this.description=d,this.effectiveEndDate=u,this.attribute3=b,this.createdBy=p,this.attribute2=g,this.lastUpdatedBy=h,this.attribute1=m,this.revenue=f,this.creationDate=V,this.attribute9=v,this.attribute8=y,this.attribute7=M,this.attribute6=U,this.defaultDays=C,this.attribute5=R,this.attribute4=S,this.effectiveStartDate=E,this.templateName=D,this.attribute15=k}}var nt=i("x4eS"),ot=i("FpCA");const rt=i("+yMW"),lt={headers:new r.f({"Content-Type":"application/json"})};let st=(()=>{class e{constructor(e,t){this.http=e,this.datePipe=t}getServiceUrl(e,t,i,a){let n=rt.apiUrl+"/rmanConversionRatesExport?";0==a&&(n=rt.apiUrl+"/rmanConversionRatesSearch?");let o="";return null!=t.fromCurrency&&""!=t.fromCurrency&&(o=o+"fromCurrency:"+t.fromCurrency+","),null!=t.toCurrency&&""!=t.toCurrency&&(o=o+"toCurrency:"+t.toCurrency+","),null!=t.conversionType&&""!=t.conversionType&&(o=o+"conversionType:"+t.conversionType+","),null!=t.conversionRate&&""!=t.conversionRate&&(o=o+"conversionRate:"+t.conversionRate+","),null!=t.conversionStartDate&&""!=t.conversionStartDate&&(o=o+"conversionStartDate:"+t.conversionStartDate+","),null!=t.conversionEndDate&&""!=t.conversionEndDate&&(o=o+"conversionEndDate:"+t.conversionEndDate+","),null!=t.attribute1&&""!=t.attribute1&&(o=o+"attribute1:"+t.attribute1+","),null!=t.attribute2&&""!=t.attribute2&&(o=o+"attribute2:"+t.attribute2+","),null!=t.attribute3&&""!=t.attribute3&&(o=o+"attribute3:"+t.attribute3+","),null!=t.attribute4&&""!=t.attribute4&&(o=o+"attribute4:"+t.attribute4+","),null!=t.attribute5&&""!=t.attribute5&&(o=o+"attribute5:"+t.attribute5+","),null!=t.attribute6&&""!=t.attribute6&&(o=o+"attribute6:"+t.attribute6+","),null!=t.attribute7&&""!=t.attribute7&&(o=o+"attribute7:"+t.attribute7+","),null!=t.attribute8&&""!=t.attribute8&&(o=o+"attribute8:"+t.attribute8+","),null!=t.attribute9&&""!=t.attribute9&&(o=o+"attribute9:"+t.attribute9+","),null!=t.attribute10&&""!=t.attribute10&&(o=o+"attribute10:"+t.attribute10+","),null!=t.attribute11&&""!=t.attribute11&&(o=o+"attribute11:"+t.attribute11+","),null!=t.attribute12&&""!=t.attribute12&&(o=o+"attribute12:"+t.attribute12+","),null!=t.attribute13&&""!=t.attribute13&&(o=o+"attribute13:"+t.attribute13+","),null!=t.attribute14&&""!=t.attribute14&&(o=o+"attribute14:"+t.attribute14+","),null!=t.attribute15&&""!=t.attribute15&&(o=o+"attribute15:"+t.attribute15+","),null!=t.createdDate&&""!=t.createdDate&&(o=o+"createdDate:"+t.createdDate+","),null!=t.createdBy&&""!=t.createdBy&&(o=o+"createdBy:"+t.createdBy+","),null!=t.lastUpdatedDate&&""!=t.lastUpdatedDate&&(o=o+"lastUpdatedDate:"+t.lastUpdatedDate+","),null!=t.lastUpdatedBy&&""!=t.lastUpdatedBy&&(o=o+"lastUpdatedBy:"+t.lastUpdatedBy),null!=t.statusCode&&""!=t.statusCode&&(o=o+"statusCode:"+t.statusCode),null!=t.conversionDate&&""!=t.conversionDate&&(o=o+"conversionDate:"+this.datePipe.transform(t.conversionDate,"yyyyMMdd")+","),""==o?n+="search=%25":n=n+"search="+o,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(n=n+"&page="+e.pageNumber+"&size="+e.pageSize),null!=i&&null!=i&&(n=n+"&exportCols="+i),n}getAllRmanConversionRates(e,t,i){let a=this.getServiceUrl(e,t,i,0);return this.http.get(a).toPromise().then(e=>e)}searchRmanConversionRates(e){return this.http.get(rt.apiUrl+"/RMAN_CONVERSION_RATES/search/findByFromCurrencyAndToCurrencyAndConversionTypeAndConversionRateAndConversionStartDateAndConversionEndDateAndAttribute1AndAttribute2AndAttribute3AndAttribute4AndAttribute5AndAttribute6AndAttribute7AndAttribute8AndAttribute9AndAttribute10AndAttribute11AndAttribute12AndAttribute13AndAttribute14AndAttribute15AndCreatedDateAndCreatedByAndLastUpdatedDateAndLastUpdatedBy?fromCurrency="+e.fromCurrency+"&toCurrency="+e.toCurrency+"&conversionType="+e.conversionType+"&conversionRate="+e.conversionRate+"&conversionStartDate="+e.conversionStartDate+"&conversionEndDate="+e.conversionEndDate+"&attribute1="+e.attribute1+"&attribute2="+e.attribute2+"&attribute3="+e.attribute3+"&attribute4="+e.attribute4+"&attribute5="+e.attribute5+"&attribute6="+e.attribute6+"&attribute7="+e.attribute7+"&attribute8="+e.attribute8+"&attribute9="+e.attribute9+"&attribute10="+e.attribute10+"&attribute11="+e.attribute11+"&attribute12="+e.attribute12+"&attribute13="+e.attribute13+"&attribute14="+e.attribute14+"&attribute15="+e.attribute15+"&createdDate="+e.createdDate+"&createdBy="+e.createdBy+"&lastUpdatedDate="+e.lastUpdatedDate+"&lastUpdatedBy="+e.lastUpdatedBy).toPromise().then(e=>e)}saveRmanConversionRates(e){let t=JSON.stringify(e);return this.http.post(rt.apiUrl+"/RMAN_CONVERSION_RATES",t,lt).toPromise().then(e=>e)}updateRmanConversionRates(e){delete e._links,delete e.interests;let t=JSON.stringify(e);return this.http.put(rt.apiUrl+"/RMAN_CONVERSION_RATES/"+e.fromCurrency,t,lt).toPromise().then(e=>e)}deleteRmanConversionRates(e){return this.http.delete(rt.apiUrl+"/RMAN_CONVERSION_RATES/"+e.fromCurrency,lt).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b),l.Zb(v.f))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac}),e})();var ct=i("NCSE"),dt=i("azuL");function ut(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",47),l.dc("click",(function(){return l.Dc(e),l.gc().showDialogToAdd()})),l.Qb(1,"em",48),l.Ub()}}function bt(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",49),l.dc("click",(function(){return l.Dc(e),l.gc().importFile()})),l.Qb(1,"em",50),l.Ub()}}function pt(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",51),l.dc("click",(function(){return l.Dc(e),l.gc().exportExcel()})),l.Qb(1,"em",52),l.Ub()}}function gt(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",65),l.dc("onDragStart",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDragStart(t)}))("onDrop",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDrop(t)})),l.Vb(2,"div",66),l.Vb(3,"input",67),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label"),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField),l.Eb(2),l.Nc(e.header)}}const ht=function(){return{color:"grey"}};function mt(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",68),l.Vb(2,"div"),l.Vb(3,"input",69),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label",70),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),l.Eb(1),l.oc("ngStyle",l.rc(5,ht)),l.Eb(1),l.Nc(e.header)}}function ft(e,t){if(1&e&&(l.Kc(0,gt,6,3,"div",64),l.Kc(1,mt,6,6,"div",64)),2&e){const e=t.$implicit;l.oc("ngIf",e.drag),l.Eb(1),l.oc("ngIf",!e.drag)}}const Vt=function(){return{width:"100%",height:"100%"}};function vt(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",53),l.Vb(1,"div",54),l.Vb(2,"div",55),l.Vb(3,"input",56),l.dc("click",(function(){return l.Dc(e),l.gc().onSelectAll()})),l.Ub(),l.Vb(4,"label",57),l.Mc(5,"Select All"),l.Ub(),l.Vb(6,"a",58),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(7,"\xd7"),l.Ub(),l.Vb(8,"p-listbox",59),l.Kc(9,ft,2,2,"ng-template",60),l.Ub(),l.Ub(),l.Vb(10,"div",61),l.Vb(11,"a",62),l.dc("click",(function(){return l.Dc(e),l.gc().saveColumns()})),l.Mc(12,"Save"),l.Ub(),l.Vb(13,"a",63),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(14,"Cancel"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(3),l.oc("checked",e.isSelectAllChecked),l.Eb(5),l.Ic(l.rc(4,Vt)),l.oc("options",e.globalCols)}}function yt(e,t){1&e&&l.Qb(0,"col")}function Mt(e,t){if(1&e&&(l.Vb(0,"colgroup"),l.Kc(1,yt,1,0,"col",71),l.Ub()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngForOf",e)}}const Ut=function(e){return{display:e}};function Ct(e,t){if(1&e&&(l.Vb(0,"th",74),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,Ut,e.display)),l.Eb(1),l.Nc(e.header)}}function Rt(e,t){if(1&e&&(l.Vb(0,"th",75),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,Ut,e.display)),l.Eb(1),l.Nc(e.header)}}function St(e,t){if(1&e&&(l.Tb(0),l.Kc(1,Ct,2,5,"th",72),l.Kc(2,Rt,2,5,"th",73),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type||"date"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function Et(e,t){if(1&e&&(l.Vb(0,"tr"),l.Kc(1,St,3,2,"ng-container",71),l.Ub()),2&e){const e=l.gc();l.Eb(1),l.oc("ngForOf",e.columns)}}function Dt(e,t){if(1&e&&(l.Vb(0,"td",80),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc(2).$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,Ut,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function kt(e,t){if(1&e&&(l.Vb(0,"td",81),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc(2).$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,Ut,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function wt(e,t){if(1&e&&(l.Vb(0,"td",80),l.hc(1,"date"),l.Mc(2),l.hc(3,"date"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc(2).$implicit;l.pc("title",l.jc(1,3,t[e.field],"MM/dd/yyyy")),l.oc("ngStyle",l.sc(9,Ut,e.display)),l.Eb(2),l.Oc(" ",l.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function At(e,t){if(1&e&&(l.Vb(0,"td",81),l.hc(1,"round"),l.Mc(2),l.hc(3,"round"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc(2).$implicit;l.pc("title",l.ic(1,3,t[e.field])),l.oc("ngStyle",l.sc(7,Ut,e.display)),l.Eb(2),l.Oc(" ",l.ic(3,5,t[e.field])," ")}}function Ot(e,t){if(1&e&&(l.Tb(0),l.Kc(1,Dt,2,5,"td",78),l.Kc(2,kt,2,5,"td",79),l.Kc(3,wt,4,11,"td",78),l.Kc(4,At,4,9,"td",79),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type),l.Eb(1),l.oc("ngIf","date"==e.type),l.Eb(1),l.oc("ngIf","round"==e.type)}}function Pt(e,t){if(1&e&&(l.Vb(0,"tr",77),l.Kc(1,Ot,5,4,"ng-container",71),l.Ub()),2&e){const e=l.gc(),t=e.$implicit,i=e.columns,a=l.gc();l.oc("pSelectableRow",t)("pSelectableRowIndex",a.rowIndex),l.Eb(1),l.oc("ngForOf",i)}}function It(e,t){1&e&&l.Kc(0,Pt,2,3,"tr",76),2&e&&l.oc("ngIf",null!=t.$implicit)}function Ft(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td",82),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc(2);l.Eb(2),l.Nc(e.noData)}}function Nt(e,t){1&e&&l.Kc(0,Ft,3,1,"tr",64),2&e&&l.oc("ngIf",!t.$implicit)}function Tt(e,t){1&e&&(l.Vb(0,"div",83),l.Qb(1,"div"),l.Qb(2,"div"),l.Qb(3,"div"),l.Qb(4,"div"),l.Qb(5,"div"),l.Qb(6,"div"),l.Qb(7,"div"),l.Qb(8,"div"),l.Ub())}function Lt(e,t){if(1&e&&(l.Vb(0,"div",99),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.fromCurrency," ")}}function xt(e,t){if(1&e&&(l.Vb(0,"div",100),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.toCurrency," ")}}function Bt(e,t){if(1&e&&(l.Vb(0,"div",100),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.conversionType," ")}}function Ht(e,t){if(1&e&&(l.Vb(0,"div",100),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.conversionRate," ")}}function qt(e,t){1&e&&(l.Vb(0,"span",87),l.Mc(1,"*"),l.Ub())}function Kt(e,t){if(1&e&&(l.Vb(0,"div",100),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.conversionStartDate," ")}}function zt(e,t){1&e&&(l.Vb(0,"span",87),l.Mc(1,"*"),l.Ub())}function jt(e,t){if(1&e&&(l.Vb(0,"div",100),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.conversionEndDate," ")}}function $t(e,t){1&e&&(l.Vb(0,"span",87),l.Mc(1,"*"),l.Ub())}function _t(e,t){if(1&e&&(l.Vb(0,"div",100),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.conversionDate," ")}}function Qt(e,t){if(1&e&&(l.Vb(0,"div",100),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.statusCode," ")}}function Gt(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",84),l.Vb(1,"div",85),l.Vb(2,"div",86),l.Vb(3,"div",30),l.Vb(4,"div",31),l.Vb(5,"span",32),l.Mc(6," From Currency "),l.Vb(7,"span",87),l.Mc(8,"*"),l.Ub(),l.Ub(),l.Vb(9,"p-dropdown",88),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanConversionRates.fromCurrency=t})),l.Ub(),l.Kc(10,Lt,2,1,"div",89),l.Ub(),l.Vb(11,"div",34),l.Vb(12,"span",32),l.Mc(13," To Currency "),l.Vb(14,"span",87),l.Mc(15,"*"),l.Ub(),l.Ub(),l.Vb(16,"p-dropdown",90),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanConversionRates.toCurrency=t})),l.Ub(),l.Kc(17,xt,2,1,"div",91),l.Ub(),l.Ub(),l.Vb(18,"div",30),l.Vb(19,"div",31),l.Vb(20,"span",37),l.Vb(21,"span",32),l.Mc(22,"Conversion Type "),l.Vb(23,"span",87),l.Mc(24,"*"),l.Ub(),l.Ub(),l.Vb(25,"p-dropdown",92),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanConversionRates.conversionType=t}))("onChange",(function(t){return l.Dc(e),l.gc().onConversionTypeChange(t)})),l.Ub(),l.Kc(26,Bt,2,1,"div",91),l.Ub(),l.Ub(),l.Vb(27,"div",34),l.Vb(28,"span",37),l.Vb(29,"span",32),l.Mc(30,"Conversion Rate "),l.Vb(31,"span",87),l.Mc(32,"*"),l.Ub(),l.Ub(),l.Vb(33,"input",93),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanConversionRates.conversionRate=t})),l.Ub(),l.Kc(34,Ht,2,1,"div",91),l.Ub(),l.Ub(),l.Ub(),l.Vb(35,"div",30),l.Vb(36,"div",31),l.Vb(37,"span",32),l.Mc(38,"Start Date "),l.Kc(39,qt,2,0,"span",94),l.Ub(),l.Vb(40,"p-calendar",95),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanConversionRates.conversionStartDate=t})),l.Ub(),l.Kc(41,Kt,2,1,"div",91),l.Ub(),l.Vb(42,"div",34),l.Vb(43,"span",32),l.Mc(44,"End Date "),l.Kc(45,zt,2,0,"span",94),l.Ub(),l.Vb(46,"p-calendar",96),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanConversionRates.conversionEndDate=t})),l.Ub(),l.Kc(47,jt,2,1,"div",91),l.Ub(),l.Ub(),l.Vb(48,"div",30),l.Vb(49,"div",31),l.Vb(50,"span",32),l.Mc(51,"Efective Date "),l.Kc(52,$t,2,0,"span",94),l.Ub(),l.Vb(53,"p-calendar",97),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanConversionRates.conversionDate=t})),l.Ub(),l.Kc(54,_t,2,1,"div",91),l.Ub(),l.Vb(55,"div",34),l.Vb(56,"span",37),l.Vb(57,"span",32),l.Mc(58,"Status Code "),l.Vb(59,"span",87),l.Mc(60,"*"),l.Ub(),l.Ub(),l.Vb(61,"p-dropdown",98),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanConversionRates.statusCode=t})),l.Ub(),l.Kc(62,Qt,2,1,"div",91),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(9),l.oc("options",e.rmanFromCurrencyList)("ngModel",e.rmanConversionRates.fromCurrency)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.fromCurrency),l.Eb(6),l.oc("options",e.rmanToCurrencyList)("ngModel",e.rmanConversionRates.toCurrency)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.toCurrency),l.Eb(8),l.oc("options",e.rmanLookupsV2)("ngModel",e.rmanConversionRates.conversionType)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.conversionType),l.Eb(7),l.oc("ngModel",e.rmanConversionRates.conversionRate),l.Eb(1),l.oc("ngIf",e.formErrors.conversionRate),l.Eb(5),l.oc("ngIf",null!=e.conversionRatesForm.controls.conversionStartDate.validator),l.Eb(1),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",e.rmanConversionRates.conversionStartDate),l.Eb(1),l.oc("ngIf",e.formErrors.conversionStartDate),l.Eb(4),l.oc("ngIf",null!=e.conversionRatesForm.controls.conversionEndDate.validator),l.Eb(1),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",e.rmanConversionRates.conversionEndDate),l.Eb(1),l.oc("ngIf",e.formErrors.conversionEndDate),l.Eb(5),l.oc("ngIf",null!=e.conversionRatesForm.controls.conversionDate.validator),l.Eb(1),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",e.rmanConversionRates.conversionDate),l.Eb(1),l.oc("ngIf",e.formErrors.conversionDate),l.Eb(7),l.oc("options",e.rmanLookupsV)("ngModel",e.rmanConversionRates.statusCode)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.statusCode)}}const Wt=function(){return["write","MCR"]},Yt=function(){return["upload","MCR"]},Jt=function(){return{standalone:!0}},Zt=i("+yMW");let Xt=(()=>{class e{constructor(e,t,i,a,n,o,r){this.formBuilder=e,this.rmanCurrencyService=t,this.rmanConversionRatesService=i,this.notificationService=a,this._uploadService=n,this.rmanLookupsVService=o,this.commonSharedService=r,this.displayConvRatesImportDialog=!1,this.uploadLoading=!1,this.rmanConversionRates=new ei,this.rmanConversionRatesSearch=new ei,this.isSerached=0,this.paginationOptions={},this.collapsed=!0,this.rmanCurrencyList=[],this.rmanFromCurrencyList=[],this.rmanToCurrencyList=[],this.isSelectAllChecked=!0,this.showPaginator=!0,this.showAddColumns=!0,this.exportCols=[],this.statusList=[{label:Zt.dropDownOptions.SelectStatus,value:null},{label:"Active",value:"Active"},{label:"Inactive",value:"Inactive"}],this.noData=Zt.noData,this.rmanLookupsVList=[],this.rmanLookupsV2List=[],this.formErrors={fromCurrency:"",toCurrency:"",conversionType:"",conversionRate:"",conversionDate:"",statusCode:""},this.validationMessages={fromCurrency:{required:"From Currency is required"},toCurrency:{required:"To Currency is Required"},conversionType:{required:"Conversion Type is Required (minimum length is 4 and maximum length is 10 characters)",minlength:"Conversion Type must be at least 4 characters long.",maxlength:"Conversion Type cannot be more than 10 characters long."},conversionRate:{required:"Conversion Rate is Required (Only number values are allowed [0-9] )",pattern:"Only number values are allowed [0-9]"},conversionDate:{required:"Effective date is Required"},statusCode:{required:"Status Code is Required"}},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.loading=!0,this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"Record_Status"}).then(e=>{this.rmanLookupsVList=e.content,this.preparermanLookupsVObject()}),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"CONVERSION_TYPE"}).then(e=>{this.rmanLookupsV2List=e.content,this.preparermanLookupsV2Object()}),this.rmanCurrencyService.getAllRmanCurrency(this.paginationOptions,{}).then(e=>{this.rmanCurrencyList=e.content,this.prepareCurrencyListObject(),this.loading=!1})}ngOnInit(){this.globalCols=[{field:"fromCurrency",header:"From Currency",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"toCurrency",header:"To Currency",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"conversionType",header:"Conversion Type",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"conversionRate",header:"Conversion Rate",showField:!0,drag:!0,display:"table-cell",type:"number"},{field:"conversionDate",header:"Effective Date",showField:!0,drag:!0,display:"table-cell",type:"date"},{field:"conversionStartDate",header:"Start Date",showField:!0,drag:!0,display:"table-cell",type:"date"},{field:"conversionEndDate",header:"End Date",showField:!0,drag:!0,display:"table-cell",type:"date"},{field:"statusCode",header:"Status Code",showField:!0,drag:!0,display:"table-cell",type:"text"}],this.columns=[],this.getTableColumns("rmanConversionRates","Conversion Rates"),this.buildForm()}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];let t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.globalCols.findIndex(t=>t.field==e),this.onDrop(t))}),this.globalCols.forEach(t=>{-1!==e.tableColumns.indexOf(t.field)?this.columns.push(t):t.showField=!1}),this.columns.length!=this.globalCols.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.globalCols}).catch(()=>{this.notificationService.showError("Error occured while getting table columns data"),this.loading=!1})}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.globalCols.length-1;this.globalCols.forEach((i,a)=>{i.showField&&(e+=i.field,a<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("rmanConversionRates","Conversion Rates",e,this.userId).then(e=>{this.columns=this.globalCols.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}selectColumns(e){let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}preparermanLookupsVObject(){let e=[{label:Zt.dropDownOptions.selectItemStatus,value:null}];this.rmanLookupsVList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV=e}preparermanLookupsV2Object(){let e=[{label:Zt.dropDownOptions.selectConversionType,value:null}];this.rmanLookupsV2List.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV2=e}onConversionTypeChange(e){console.log(this.conversionRatesForm.controls.conversionType.value),"SPOT"==this.conversionRatesForm.controls.conversionType.value?(this.conversionRatesForm.get("conversionDate").setValidators([n.t.required]),this.conversionRatesForm.get("statusCode").setValidators([n.t.required]),this.conversionRatesForm.get("conversionDate").enable(),this.conversionRatesForm.get("statusCode").enable(),this.conversionRatesForm.get("conversionStartDate").clearValidators(),this.conversionRatesForm.get("conversionEndDate").clearValidators(),this.conversionRatesForm.get("conversionStartDate").disable(),this.conversionRatesForm.get("conversionEndDate").disable(),this.conversionRatesForm.patchValue({conversionEndDate:"",conversionStartDate:""}),this.conversionRatesForm.updateValueAndValidity()):"CORPORATE"==this.conversionRatesForm.controls.conversionType.value&&(this.conversionRatesForm.get("conversionStartDate").setValidators([n.t.required]),this.conversionRatesForm.get("conversionEndDate").setValidators([n.t.required]),this.conversionRatesForm.get("statusCode").setValidators([n.t.required]),this.conversionRatesForm.get("conversionStartDate").enable(),this.conversionRatesForm.get("conversionEndDate").enable(),this.conversionRatesForm.get("statusCode").enable(),this.conversionRatesForm.get("conversionDate").clearValidators(),this.conversionRatesForm.get("conversionDate").disable(),this.conversionRatesForm.patchValue({conversionDate:""}),this.conversionRatesForm.updateValueAndValidity())}getAllRmanConversionRates(){this.loading=!0,this.rmanConversionRatesService.getAllRmanConversionRates(this.paginationOptions,this.rmanConversionRates,this.exportCols).then(e=>{this.datasource=e.content,this.rmanConversionRatesList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size,this.displaySearchDialog=!1,this.loading=!1}).catch(e=>{this.notificationService.showError("Error occured while getting  data"),this.loading=!1})}reset(e){this.paginationOptions={},this.rmanConversionRates=new ei,e.reset()}getRmanConversionRates(e){this.loading=!0,this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.rmanConversionRatesService.getAllRmanConversionRates(this.paginationOptions,this.rmanConversionRates,this.exportCols).then(e=>{this.datasource=e.content,this.rmanConversionRatesList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size,this.loading=!1}).catch(e=>{this.notificationService.showError("Error occured while getting  data"),this.loading=!1})}buildForm(){this.conversionRatesForm=this.formBuilder.group({fromCurrency:["",[n.t.required]],toCurrency:["",[n.t.required]],conversionType:["",[n.t.required,n.t.minLength(4),n.t.maxLength(10)]],conversionRate:["",[n.t.required,n.t.pattern(/^[0-9]+(.[0-9]{0,2})?$/)]],conversionDate:["",[n.t.required]],statusCode:["",[n.t.required]],conversionStartDate:[""],conversionEndDate:[""]}),this.conversionRatesForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}onValueChanged(e){if(!this.conversionRatesForm)return;const t=this.conversionRatesForm;for(const i in this.formErrors){this.formErrors[i]="";const e=t.get(i);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[i];for(const a in e.errors)this.formErrors[i]+=t[a]+" "}}}importFile(){this._uploadService.uploadDialog=!0,this.displayConvRatesImportDialog=!0}showUploadLoader(){this.uploadLoading=!0}fileUploadHandler(e,t){this._uploadService.processUpload(e,t)}onConvRatesUpload(e){this.notificationService.showSuccess("File Uploaded successfully"),this.displayConvRatesImportDialog=!1,this.uploadLoading=!1}onErrorConvRatesFileupload(e){this.displayConvRatesImportDialog=!1,this.uploadLoading=!1;let t="";t+=e.files[0].name+" file upload process failed due to ",e.xhr.response&&(t+=JSON.parse(e.xhr.response).message),this.notificationService.showError(t)}cancelConversionRatesUpload(){this._uploadService.uploadDialog=!1,this.displayConvRatesImportDialog=!1}showDialogToAdd(){this.newRmanConversionRates=!0,this.rmanConversionRates=new ei,this.displayDialog=!0,this.buildForm()}cancelAddEdit(){this.rmanConversionRates=new ei,this.displayDialog=!1}save(){this.newRmanConversionRates?(this.loading=!0,this.rmanConversionRatesService.saveRmanConversionRates(this.rmanConversionRates).then(e=>{this.getAllRmanConversionRates(),this.notificationService.showSuccess("Saved successfully"),this.loading=!1}).catch(e=>{this.notificationService.showError("Error occured while saving  data"),this.loading=!1})):(this.loading=!0,this.rmanConversionRatesService.updateRmanConversionRates(this.rmanConversionRates).then(e=>{this.getAllRmanConversionRates(),this.notificationService.showError("Error occured while saving data"),this.loading=!1}).catch(e=>{this.notificationService.showError("Error occured while saving data"),this.loading=!1})),this.rmanConversionRates=new ei,this.displayDialog=!1}exportExcel(){this.loading=!0,this.exportCols=[];for(let t=0;t<this.columns.length;t++)this.columns[t].showField&&this.exportCols.push(this.columns[t].field);let e=this.rmanConversionRatesService.getServiceUrl(this.paginationOptions,this.rmanConversionRates,this.exportCols,1);this.loading=!1,window.location.href=e}delete(e){this.rmanConversionRates=e,this.displayDialog=!1,window.confirm("Are you sure you want to delete this record?")&&(this.rmanConversionRatesList.splice(this.findSelectedRmanConversionRatesIndex(),1),this.rmanConversionRatesService.deleteRmanConversionRates(this.rmanConversionRates).then(e=>{this.rmanConversionRates=new ei,this.getAllRmanConversionRates()}))}editRow(e){this.newRmanConversionRates=!1,this.rmanConversionRates=this.cloneRmanConversionRates(e),this.displayDialog=!0}findSelectedRmanConversionRatesIndex(){return this.rmanConversionRatesList.indexOf(this.selectedRmanConversionRates)}onRowSelect(e){}cloneRmanConversionRates(e){let t=new ei;for(let i in e)t[i]=e[i];return t}toggleColumnMenu(){this.hideColumnMenu=!this.hideColumnMenu}toggleFilterBox(){this.showFilter=!this.showFilter}showDialogToSearch(){this.rmanConversionRatesSearch=new ei,0==this.isSerached&&(this.rmanConversionRatesSearch=new ei),this.displaySearchDialog=!0}cancelSearch(){this.displaySearchDialog=!1,this.rmanConversionRatesSearch=new ei}onBeforeToggle(e){this.collapsed=e.collapsed}search(){this.paginationOptions={},this.isSerached=1,this.rmanConversionRates=this.rmanConversionRatesSearch,this.getAllRmanConversionRates()}prepareCurrencyListObject(){let e=[];this.rmanCurrencyList.forEach(t=>{e.push({label:t.currencyCode,value:t.currencyCode})}),this.rmanFromCurrencyList=[...e],this.rmanToCurrencyList=[...e],this.rmanFromCurrencyList.unshift({label:Zt.dropDownOptions.selectFromCurrency,value:null}),this.rmanToCurrencyList.unshift({label:Zt.dropDownOptions.selectToCurrency,value:null})}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(n.c),l.Pb(nt.a),l.Pb(st),l.Pb(m.a),l.Pb(ot.a),l.Pb(u.a),l.Pb(h.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["rmanConversionRates-data"]],features:[l.Db([st,nt.a])],decls:64,vars:49,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Add",3,"click",4,"isAuthorized"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Import",3,"click",4,"isAuthorized"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Export",3,"click",4,"isAuthorized"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","rmanConversion-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","lazy","paginator","rows","totalRecords","columns","resizableColumns","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["class","lds-roller","style","top: 0px;",4,"ngIf"],["header","Upload  Conversion Rates ","width","500","showEffect","fade",3,"visible","draggable","modal","visibleChange","onAfterHide"],["id","upload-bookings-input","name","file","customUpload","true","accept",".csv","invalidFileTypeMessageSummary","{0}:Invalid file Type",3,"uploadHandler"],["header","Search","width","auto","showEffect","fade",3,"draggable","visible","modal","blockScroll","visibleChange","onHide"],[3,"ngSubmit"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"selectSpan"],["name","fromCurrency","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],[1,"ui-g-6","pull-right"],["name","toCurrency","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],["inputStyleClass","textbox","showAnim","slideDown","name","conversionDate","id","conversionDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","Effective Date","appendTo","body",3,"monthNavigator","yearNavigator","ngModelOptions","ngModel","ngModelChange"],[1,"md-inputfield"],["pInputText","","placeholder","Status Code","name","transLineId","id","releaseLinestransLineId",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix","pull-right"],["type","submit","pButton","","label","Search",1,"primary-btn"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["width","700","showEffect","fade",3,"header","visible","draggable","modal","blockScroll","visibleChange","onHide"],["novaldiate","",3,"formGroup","ngSubmit"],["class","ui-g ui-fluid",4,"ngIf"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["title","Import",3,"click"],[1,"fa","fa-upload"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow","pSelectableRowIndex",4,"ngIf"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-data"],[1,"lds-roller",2,"top","0px"],[1,"ui-g","ui-fluid"],[1,"ui-g-12","form-group"],[1,"ui-grid-row"],[1,"red-color"],["name","fromCurrency","id","fromCurrency","formControlName","fromCurrency",3,"options","ngModel","filter","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all","appendTo","body",4,"ngIf"],["name","toCurrency","id","toCurrency","formControlName","toCurrency","appendTo","body",3,"options","ngModel","filter","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["name","conversionType","id","conversionType","formControlName","conversionType","appendTo","body",3,"options","ngModel","filter","ngModelChange","onChange"],["placeholder","Conversion Rate","pInputText","","id","conversionRate","name","conversionRate","formControlName","conversionRate",1,"textbox",3,"ngModel","ngModelChange"],["class","red-color",4,"ngIf"],["inputStyleClass","textbox","showAnim","slideDown","name","conversionStartDate","id","conversionStartDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","Start Date","formControlName","conversionStartDate","appendTo","body",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],["inputStyleClass","textbox","showAnim","slideDown","name","conversionEndDate","id","conversionEndDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","End Date","formControlName","conversionEndDate","appendTo","body",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],["inputStyleClass","textbox","showAnim","slideDown","name","conversionDate","id","conversionDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","Effective Date","formControlName","conversionDate","appendTo","body",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],["name","statusCode","id","statusCode","formControlName","statusCode","appendTo","body",3,"options","ngModel","filter","ngModelChange"],["appendTo","body",1,"ui-message","ui-messages-error","ui-corner-all"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(e,t){if(1&e){const e=l.Wb();l.Qb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"h2"),l.Mc(7,"Conversion Rates"),l.Ub(),l.Vb(8,"div",6),l.Vb(9,"a",7),l.dc("click",(function(e){return t.onConfiguringColumns(e)})),l.Qb(10,"em",8),l.Mc(11,"Columns"),l.Ub(),l.Kc(12,ut,2,0,"a",9),l.Vb(13,"a",10),l.dc("click",(function(){return t.showDialogToSearch()})),l.Qb(14,"em",11),l.Ub(),l.Kc(15,bt,2,0,"a",12),l.Vb(16,"a",13),l.dc("click",(function(){l.Dc(e);const i=l.Bc(22);return t.reset(i)})),l.Qb(17,"em",14),l.Ub(),l.Kc(18,pt,2,0,"a",15),l.Kc(19,vt,15,5,"div",16),l.Ub(),l.Vb(20,"div",17),l.Vb(21,"p-table",18,19),l.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getRmanConversionRates(e)})),l.Kc(23,Mt,2,1,"ng-template",20),l.Kc(24,Et,2,1,"ng-template",21),l.Kc(25,It,1,1,"ng-template",22),l.Kc(26,Nt,1,1,"ng-template",23),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Kc(27,Tt,9,0,"div",24),l.Vb(28,"p-dialog",25),l.dc("visibleChange",(function(e){return t._uploadService.uploadDialog=e}))("onAfterHide",(function(){return t.cancelConversionRatesUpload()})),l.Vb(29,"p-fileUpload",26),l.dc("uploadHandler",(function(e){return t.fileUploadHandler(e,"/upload/fxRates")})),l.Ub(),l.Qb(30,"progress-bar"),l.Ub(),l.Vb(31,"p-dialog",27),l.dc("visibleChange",(function(e){return t.displaySearchDialog=e}))("onHide",(function(){return t.cancelSearch()})),l.Vb(32,"form",28),l.dc("ngSubmit",(function(){return t.search()})),l.Vb(33,"div",29),l.Vb(34,"div",30),l.Vb(35,"div",31),l.Vb(36,"span",32),l.Mc(37," From Currency"),l.Ub(),l.Vb(38,"p-dropdown",33),l.dc("ngModelChange",(function(e){return t.rmanConversionRatesSearch.fromCurrency=e})),l.Ub(),l.Ub(),l.Vb(39,"div",34),l.Vb(40,"span",32),l.Mc(41," To Currency"),l.Ub(),l.Vb(42,"p-dropdown",35),l.dc("ngModelChange",(function(e){return t.rmanConversionRatesSearch.toCurrency=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(43,"div",30),l.Vb(44,"div",31),l.Vb(45,"span",32),l.Mc(46,"Effective Date"),l.Ub(),l.Vb(47,"p-calendar",36),l.dc("ngModelChange",(function(e){return t.rmanConversionRatesSearch.conversionDate=e})),l.Ub(),l.Ub(),l.Vb(48,"div",34),l.Vb(49,"span",37),l.Vb(50,"span",32),l.Mc(51,"Status Code"),l.Ub(),l.Vb(52,"input",38),l.dc("ngModelChange",(function(e){return t.rmanConversionRatesSearch.statusCode=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(53,"p-footer"),l.Vb(54,"div",39),l.Qb(55,"button",40),l.Vb(56,"button",41),l.dc("click",(function(){return t.displaySearchDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(57,"p-dialog",42),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancelAddEdit()})),l.Vb(58,"form",43),l.dc("ngSubmit",(function(){return t.save()})),l.Kc(59,Gt,63,33,"div",44),l.Ub(),l.Vb(60,"p-footer"),l.Vb(61,"div",45),l.Vb(62,"button",46),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(63,"button",41),l.dc("click",(function(){return t.displayDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub()}2&e&&(l.Eb(12),l.oc("isAuthorized",l.rc(42,Wt)),l.Eb(3),l.oc("isAuthorized",l.rc(43,Yt)),l.Eb(3),l.oc("isAuthorized",l.rc(44,Wt)),l.Eb(1),l.oc("ngIf",!t.showAddColumns),l.Eb(2),l.oc("loading",t.loading)("value",t.rmanConversionRatesList)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("columns",t.columns)("resizableColumns",!0),l.Eb(6),l.oc("ngIf",t.uploadLoading),l.Eb(1),l.oc("visible",t._uploadService.uploadDialog)("draggable",!0)("modal",!0),l.Eb(3),l.oc("draggable",!0)("visible",t.displaySearchDialog)("modal",!0)("blockScroll",!0),l.Eb(7),l.oc("options",t.rmanFromCurrencyList)("ngModelOptions",l.rc(45,Jt))("ngModel",t.rmanConversionRatesSearch.fromCurrency)("filter",!0),l.Eb(4),l.oc("options",t.rmanToCurrencyList)("ngModelOptions",l.rc(46,Jt))("ngModel",t.rmanConversionRatesSearch.toCurrency)("filter",!0),l.Eb(5),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModelOptions",l.rc(47,Jt))("ngModel",t.rmanConversionRatesSearch.conversionDate),l.Eb(5),l.oc("ngModelOptions",l.rc(48,Jt))("ngModel",t.rmanConversionRatesSearch.statusCode),l.Eb(5),l.pc("header",t.newRmanConversionRates?"Create Conversion Rate":"Edit Conversion Rate"),l.oc("visible",t.displayDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.conversionRatesForm),l.Eb(1),l.oc("ngIf",t.rmanConversionRates),l.Eb(3),l.oc("disabled",!t.conversionRatesForm.valid))},directives:[V.a,v.o,y.j,o.f,M.a,ct.a,dt.a,n.v,n.l,n.m,R.a,n.k,n.n,w.a,n.b,S.a,o.b,C.b,n.g,D.a,k.b,k.c,n.a,v.p,v.n,y.g,y.i,n.e],pipes:[v.f,O.a],encapsulation:2}),e})();class ei{constructor(e,t,i,a,n,o,r,l,s,c,d,u,b,p,g,h,m,f,V,v,y,M,U,C,R,S,E){this.attribute10=e,this.conversionStartDate=t,this.attribute14=i,this.attribute13=a,this.createdDate=n,this.attribute12=o,this.attribute11=r,this.conversionType=l,this.toCurrency=s,this.attribute3=c,this.createdBy=d,this.attribute2=u,this.lastUpdatedBy=b,this.attribute1=p,this.conversionRate=g,this.attribute9=h,this.attribute8=m,this.attribute7=f,this.attribute6=V,this.attribute5=v,this.attribute4=y,this.lastUpdatedDate=M,this.fromCurrency=U,this.attribute15=C,this.conversionEndDate=R,this.conversionDate=S,this.statusCode=E}}class ti{constructor(){this.fieldLabels={},this.fieldLabels.attribute10="Attribute10",this.fieldLabels.attribute14="Attribute14",this.fieldLabels.attribute13="Attribute13",this.fieldLabels.createdDate="Created Date",this.fieldLabels.attribute12="Attribute12",this.fieldLabels.attribute11="Attribute11",this.fieldLabels.bucketId="Bucket Id",this.fieldLabels.endDate="End Date",this.fieldLabels.numberOfYears="Number Of Years",this.fieldLabels.attribute3="Attribute3",this.fieldLabels.createdBy="Created By",this.fieldLabels.attribute2="Attribute2",this.fieldLabels.lastUpdatedBy="Last Updated By",this.fieldLabels.attribute1="Attribute1",this.fieldLabels.numberOfBuckets="Number Of Buckets",this.fieldLabels.startDate="Start Date",this.fieldLabels.attribute9="Attribute9",this.fieldLabels.attribute8="Attribute8",this.fieldLabels.attribute7="Attribute7",this.fieldLabels.latestFlag="Latest Flag",this.fieldLabels.attribute6="Attribute6",this.fieldLabels.attribute5="Attribute5",this.fieldLabels.name="Name",this.fieldLabels.attribute4="Attribute4",this.fieldLabels.lastUpdatedDate="Last Updated Date",this.fieldLabels.numberOfQtrs="Number Of Qtrs",this.fieldLabels.version="Version",this.fieldLabels.numberOfPeriods="Number Of Periods",this.fieldLabels.attribute15="Attribute15"}}const ii=i("+yMW"),ai={headers:new r.f({"Content-Type":"application/json"})};let ni=(()=>{class e{constructor(e){this.http=e}getAllRmanFcBuckets(e,t){let i=ii.apiUrl+"/rmanFcBucketsSearch?",a="";return null!=t.bucketId&&""!=t.bucketId&&(a=a+"bucketId:"+t.bucketId+","),null!=t.name&&""!=t.name&&(a=a+"name:"+t.name+","),null!=t.version&&""!=t.version&&(a=a+"version:"+t.version+","),null!=t.numberOfBuckets&&""!=t.numberOfBuckets&&(a=a+"numberOfBuckets:"+t.numberOfBuckets+","),null!=t.numberOfPeriods&&""!=t.numberOfPeriods&&(a=a+"numberOfPeriods:"+t.numberOfPeriods+","),null!=t.numberOfQtrs&&""!=t.numberOfQtrs&&(a=a+"numberOfQtrs:"+t.numberOfQtrs+","),null!=t.numberOfYears&&""!=t.numberOfYears&&(a=a+"numberOfYears:"+t.numberOfYears+","),null!=t.startDate&&""!=t.startDate&&(a=a+"startDate:"+t.startDate+","),null!=t.endDate&&""!=t.endDate&&(a=a+"endDate:"+t.endDate+","),null!=t.attribute1&&""!=t.attribute1&&(a=a+"attribute1:"+t.attribute1+","),null!=t.attribute2&&""!=t.attribute2&&(a=a+"attribute2:"+t.attribute2+","),null!=t.attribute3&&""!=t.attribute3&&(a=a+"attribute3:"+t.attribute3+","),null!=t.attribute4&&""!=t.attribute4&&(a=a+"attribute4:"+t.attribute4+","),null!=t.attribute5&&""!=t.attribute5&&(a=a+"attribute5:"+t.attribute5+","),null!=t.attribute6&&""!=t.attribute6&&(a=a+"attribute6:"+t.attribute6+","),null!=t.attribute7&&""!=t.attribute7&&(a=a+"attribute7:"+t.attribute7+","),null!=t.attribute8&&""!=t.attribute8&&(a=a+"attribute8:"+t.attribute8+","),null!=t.attribute9&&""!=t.attribute9&&(a=a+"attribute9:"+t.attribute9+","),null!=t.attribute10&&""!=t.attribute10&&(a=a+"attribute10:"+t.attribute10+","),null!=t.attribute11&&""!=t.attribute11&&(a=a+"attribute11:"+t.attribute11+","),null!=t.attribute12&&""!=t.attribute12&&(a=a+"attribute12:"+t.attribute12+","),null!=t.attribute13&&""!=t.attribute13&&(a=a+"attribute13:"+t.attribute13+","),null!=t.attribute14&&""!=t.attribute14&&(a=a+"attribute14:"+t.attribute14+","),null!=t.attribute15&&""!=t.attribute15&&(a=a+"attribute15:"+t.attribute15+","),null!=t.createdDate&&""!=t.createdDate&&(a=a+"createdDate:"+t.createdDate+","),null!=t.createdBy&&""!=t.createdBy&&(a=a+"createdBy:"+t.createdBy+","),null!=t.lastUpdatedDate&&""!=t.lastUpdatedDate&&(a=a+"lastUpdatedDate:"+t.lastUpdatedDate+","),null!=t.lastUpdatedBy&&""!=t.lastUpdatedBy&&(a=a+"lastUpdatedBy:"+t.lastUpdatedBy+","),null!=t.latestFlag&&""!=t.latestFlag&&(a=a+"latestFlag:"+t.latestFlag),""==a?i+="search=%25":i=i+"search="+a,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(i=i+"&page="+e.pageNumber+"&size="+e.pageSize),this.http.get(i).toPromise().then(e=>e)}saveRmanFcBuckets(e){let t=JSON.stringify(e);return this.http.post(ii.apiUrl+"/RMAN_FC_BUCKETS",t,ai).toPromise().then(e=>e)}updateRmanFcBuckets(e){delete e._links,delete e.interests;let t=JSON.stringify(e);return this.http.put(ii.apiUrl+"/RMAN_FC_BUCKETS/"+e.bucketId,t,ai).toPromise().then(e=>e)}deleteRmanFcBuckets(e){return this.http.delete(ii.apiUrl+"/RMAN_FC_BUCKETS/"+e.bucketId,ai).toPromise().then(e=>e)}getFcBucketsList(){return this.http.get(ii.apiUrl+"/FcBucketsSearch").toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac}),e})();var oi=i("7CaW");function ri(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",36),l.Vb(1,"a",37),l.dc("click",(function(){return l.Dc(e),l.gc().showDialogToAdd()})),l.Ub(),l.Vb(2,"a",38),l.dc("click",(function(){return l.Dc(e),l.gc().showDialogToSearch()})),l.Ub(),l.Vb(3,"a",39),l.dc("click",(function(){l.Dc(e);const t=l.gc(),i=l.Bc(6);return t.reset(i)})),l.Ub(),l.Ub()}}function li(e,t){if(1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Vb(2,"th"),l.Mc(3),l.Ub(),l.Vb(4,"th",40),l.Mc(5),l.Ub(),l.Vb(6,"th",40),l.Mc(7),l.Ub(),l.Vb(8,"th",40),l.Mc(9),l.Ub(),l.Vb(10,"th",40),l.Mc(11),l.Ub(),l.Vb(12,"th",41),l.Mc(13),l.Ub(),l.Vb(14,"th",41),l.Mc(15),l.Ub(),l.Ub()),2&e){const e=l.gc();l.Eb(3),l.Nc(e.columns.name),l.Eb(2),l.Nc(e.columns.numberOfBuckets),l.Eb(2),l.Nc(e.columns.numberOfPeriods),l.Eb(2),l.Nc(e.columns.numberOfQtrs),l.Eb(2),l.Nc(e.columns.numberOfYears),l.Eb(2),l.Nc(e.columns.startDate),l.Eb(2),l.Nc(e.columns.endDate)}}function si(e,t){if(1&e){const e=l.Wb();l.Vb(0,"tr",42),l.Vb(1,"td"),l.Vb(2,"a",43),l.dc("click",(function(){l.Dc(e);const i=t.$implicit;return l.gc().editRow(i)})),l.Ub(),l.Vb(3,"a",44),l.dc("click",(function(){l.Dc(e);const i=t.$implicit;return l.gc().delete(i)})),l.Ub(),l.Ub(),l.Vb(4,"td",45),l.Mc(5),l.Ub(),l.Vb(6,"td",46),l.Mc(7),l.Ub(),l.Vb(8,"td",46),l.Mc(9),l.Ub(),l.Vb(10,"td",46),l.Mc(11),l.Ub(),l.Vb(12,"td",46),l.Mc(13),l.Ub(),l.Vb(14,"td",47),l.hc(15,"date"),l.Mc(16),l.hc(17,"date"),l.Ub(),l.Vb(18,"td",47),l.hc(19,"date"),l.Mc(20),l.hc(21,"date"),l.Ub(),l.Ub()}if(2&e){const e=t.$implicit;l.oc("pSelectableRow",t.$implicit),l.Eb(4),l.pc("title",e.name),l.Eb(1),l.Nc(e.name),l.Eb(1),l.pc("title",e.numberOfBuckets),l.Eb(1),l.Nc(e.numberOfBuckets),l.Eb(1),l.pc("title",e.numberOfPeriods),l.Eb(1),l.Nc(e.numberOfPeriods),l.Eb(1),l.pc("title",e.numberOfQtrs),l.Eb(1),l.Nc(e.numberOfQtrs),l.Eb(1),l.pc("title",e.numberOfYears),l.Eb(1),l.Nc(e.numberOfYears),l.Eb(1),l.pc("title",l.jc(15,15,e.startDate,"MM/dd/yyyy ")),l.Eb(2),l.Nc(l.jc(17,18,e.startDate,"MM/dd/yyyy ")),l.Eb(2),l.pc("title",l.jc(19,21,e.endDate,"MM/dd/yyyy ")),l.Eb(2),l.Nc(l.jc(21,24,e.endDate,"MM/dd/yyyy "))}}function ci(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td",48),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc(2);l.Eb(2),l.Nc(e.noData)}}function di(e,t){1&e&&l.Kc(0,ci,3,1,"tr",32),2&e&&l.oc("ngIf",!t.$implicit)}function ui(e,t){if(1&e&&(l.Vb(0,"div",113),l.Qb(1,"span",114),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.oc("innerHtml",e.formErrors.name,l.Ec)}}function bi(e,t){if(1&e&&(l.Vb(0,"div",113),l.Qb(1,"span",114),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.oc("innerHtml",e.formErrors.numberOfBuckets,l.Ec)}}function pi(e,t){1&e&&(l.Vb(0,"span",115),l.Mc(1,"Start Date"),l.Ub())}function gi(e,t){if(1&e&&(l.Vb(0,"div",113),l.Qb(1,"span",114),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.oc("innerHtml",e.formErrors.fcStartDate,l.Ec)}}function hi(e,t){1&e&&(l.Vb(0,"span",115),l.Mc(1,"End Date"),l.Ub())}function mi(e,t){if(1&e&&(l.Vb(0,"div",113),l.Qb(1,"span",114),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.oc("innerHtml",e.formErrors.numberOfPeriods,l.Ec)}}function fi(e,t){if(1&e&&(l.Vb(0,"div",113),l.Qb(1,"span",114),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.oc("innerHtml",e.formErrors.numberOfQtrs,l.Ec)}}function Vi(e,t){if(1&e&&(l.Vb(0,"div",113),l.Qb(1,"span",114),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.oc("innerHtml",e.formErrors.numberOfYears,l.Ec)}}const vi=function(){return{standalone:!0}};function yi(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",10),l.Vb(1,"div",11),l.Vb(2,"div",12),l.Vb(3,"span",13),l.Vb(4,"input",49),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.name=t})),l.Ub(),l.Kc(5,ui,2,1,"div",50),l.Vb(6,"label",15),l.Mc(7),l.Vb(8,"span",51),l.Mc(9,"*"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(10,"div",52),l.Vb(11,"span",13),l.Vb(12,"input",53),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.numberOfBuckets=t})),l.Ub(),l.Kc(13,bi,2,1,"div",50),l.Vb(14,"label",54),l.Mc(15),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(16,"div",11),l.Vb(17,"div",12),l.Kc(18,pi,2,0,"span",55),l.Vb(19,"p-calendar",56),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.startDate=t})),l.Ub(),l.Kc(20,gi,2,1,"div",50),l.Ub(),l.Vb(21,"div",52),l.Kc(22,hi,2,0,"span",55),l.Vb(23,"p-calendar",57),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.endDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(24,"div",58),l.Vb(25,"div",59),l.Mc(26,"Forecasting buckets Allocation"),l.Ub(),l.Ub(),l.Vb(27,"div",11),l.Vb(28,"div",12),l.Vb(29,"span",13),l.Vb(30,"input",60),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.numberOfPeriods=t})),l.Ub(),l.Kc(31,mi,2,1,"div",50),l.Vb(32,"label",61),l.Mc(33),l.Ub(),l.Ub(),l.Ub(),l.Vb(34,"div",52),l.Vb(35,"span",13),l.Vb(36,"input",62),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.numberOfQtrs=t})),l.Ub(),l.Kc(37,fi,2,1,"div",50),l.Vb(38,"label",63),l.Mc(39),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(40,"div",11),l.Vb(41,"div",12),l.Vb(42,"span",13),l.Vb(43,"input",64),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.numberOfYears=t})),l.Ub(),l.Kc(44,Vi,2,1,"div",50),l.Vb(45,"label",65),l.Mc(46),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(47,"div",66),l.Vb(48,"div",67),l.Vb(49,"label",68),l.Mc(50),l.Vb(51,"span",51),l.Mc(52,"*"),l.Ub(),l.Ub(),l.Ub(),l.Vb(53,"div",69),l.Vb(54,"input",70),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.version=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(55,"div",66),l.Vb(56,"div",67),l.Vb(57,"label",71),l.Mc(58),l.Ub(),l.Ub(),l.Vb(59,"div",69),l.Vb(60,"input",72),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.bucketId=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(61,"div",66),l.Vb(62,"div",67),l.Vb(63,"label",73),l.Mc(64),l.Ub(),l.Ub(),l.Vb(65,"div",69),l.Vb(66,"input",74),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute1=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(67,"div",66),l.Vb(68,"div",67),l.Vb(69,"label",75),l.Mc(70),l.Ub(),l.Ub(),l.Vb(71,"div",69),l.Vb(72,"input",76),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute2=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(73,"div",66),l.Vb(74,"div",67),l.Vb(75,"label",77),l.Mc(76),l.Ub(),l.Ub(),l.Vb(77,"div",69),l.Vb(78,"input",78),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute3=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(79,"div",66),l.Vb(80,"div",67),l.Vb(81,"label",79),l.Mc(82),l.Ub(),l.Ub(),l.Vb(83,"div",69),l.Vb(84,"input",80),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute4=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(85,"div",66),l.Vb(86,"div",67),l.Vb(87,"label",81),l.Mc(88),l.Ub(),l.Ub(),l.Vb(89,"div",69),l.Vb(90,"input",82),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute5=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(91,"div",66),l.Vb(92,"div",67),l.Vb(93,"label",83),l.Mc(94),l.Ub(),l.Ub(),l.Vb(95,"div",69),l.Vb(96,"input",84),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute6=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(97,"div",66),l.Vb(98,"div",67),l.Vb(99,"label",85),l.Mc(100),l.Ub(),l.Ub(),l.Vb(101,"div",69),l.Vb(102,"input",86),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute7=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(103,"div",66),l.Vb(104,"div",67),l.Vb(105,"label",87),l.Mc(106),l.Ub(),l.Ub(),l.Vb(107,"div",69),l.Vb(108,"input",88),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute8=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(109,"div",66),l.Vb(110,"div",67),l.Vb(111,"label",89),l.Mc(112),l.Ub(),l.Ub(),l.Vb(113,"div",69),l.Vb(114,"input",90),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute9=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(115,"div",66),l.Vb(116,"div",67),l.Vb(117,"label",91),l.Mc(118),l.Ub(),l.Ub(),l.Vb(119,"div",69),l.Vb(120,"input",92),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute10=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(121,"div",66),l.Vb(122,"div",67),l.Vb(123,"label",93),l.Mc(124),l.Ub(),l.Ub(),l.Vb(125,"div",69),l.Vb(126,"input",94),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute11=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(127,"div",66),l.Vb(128,"div",67),l.Vb(129,"label",95),l.Mc(130),l.Ub(),l.Ub(),l.Vb(131,"div",69),l.Vb(132,"input",96),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute12=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(133,"div",66),l.Vb(134,"div",67),l.Vb(135,"label",97),l.Mc(136),l.Ub(),l.Ub(),l.Vb(137,"div",69),l.Vb(138,"input",98),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute13=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(139,"div",66),l.Vb(140,"div",67),l.Vb(141,"label",99),l.Mc(142),l.Ub(),l.Ub(),l.Vb(143,"div",69),l.Vb(144,"input",100),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute14=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(145,"div",66),l.Vb(146,"div",67),l.Vb(147,"label",101),l.Mc(148),l.Ub(),l.Ub(),l.Vb(149,"div",69),l.Vb(150,"input",102),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.attribute15=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(151,"div",66),l.Vb(152,"div",67),l.Vb(153,"label",103),l.Mc(154),l.Ub(),l.Ub(),l.Vb(155,"div",69),l.Vb(156,"input",104),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.createdDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(157,"div",66),l.Vb(158,"div",67),l.Vb(159,"label",105),l.Mc(160),l.Ub(),l.Ub(),l.Vb(161,"div",69),l.Vb(162,"input",106),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.createdBy=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(163,"div",66),l.Vb(164,"div",67),l.Vb(165,"label",107),l.Mc(166),l.Ub(),l.Ub(),l.Vb(167,"div",69),l.Vb(168,"input",108),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.lastUpdatedDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(169,"div",66),l.Vb(170,"div",67),l.Vb(171,"label",109),l.Mc(172),l.Ub(),l.Ub(),l.Vb(173,"div",69),l.Vb(174,"input",110),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.lastUpdatedBy=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(175,"div",66),l.Vb(176,"div",67),l.Vb(177,"label",111),l.Mc(178),l.Ub(),l.Ub(),l.Vb(179,"div",69),l.Vb(180,"input",112),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFcBuckets.latestFlag=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(4),l.oc("ngModel",e.rmanFcBuckets.name),l.Eb(1),l.oc("ngIf",e.formErrors.name),l.Eb(2),l.Oc("",e.columns.name,"\xa0 "),l.Eb(5),l.oc("ngModel",e.rmanFcBuckets.numberOfBuckets),l.Eb(1),l.oc("ngIf",e.formErrors.numberOfBuckets),l.Eb(2),l.Nc(e.columns.numberOfBuckets),l.Eb(3),l.oc("ngIf",e.rmanFcBuckets.startDate),l.Eb(1),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",e.rmanFcBuckets.startDate),l.Eb(1),l.oc("ngIf",e.formErrors.fcStartDate),l.Eb(2),l.oc("ngIf",e.rmanFcBuckets.endDate),l.Eb(1),l.oc("ngModelOptions",l.rc(91,vi))("ngModel",e.rmanFcBuckets.endDate)("monthNavigator",!0)("yearNavigator",!0),l.Eb(7),l.oc("ngModel",e.rmanFcBuckets.numberOfPeriods),l.Eb(1),l.oc("ngIf",e.formErrors.numberOfPeriods),l.Eb(2),l.Nc(e.columns.numberOfPeriods),l.Eb(3),l.oc("ngModel",e.rmanFcBuckets.numberOfQtrs),l.Eb(1),l.oc("ngIf",e.formErrors.numberOfQtrs),l.Eb(2),l.Nc(e.columns.numberOfQtrs),l.Eb(4),l.oc("ngModel",e.rmanFcBuckets.numberOfYears),l.Eb(1),l.oc("ngIf",e.formErrors.numberOfYears),l.Eb(2),l.Nc(e.columns.numberOfYears),l.Eb(4),l.Oc("",e.columns.version,"\xa0 "),l.Eb(4),l.oc("ngModelOptions",l.rc(92,vi))("ngModel",e.rmanFcBuckets.version),l.Eb(4),l.Nc(e.columns.bucketId),l.Eb(2),l.oc("ngModelOptions",l.rc(93,vi))("ngModel",e.rmanFcBuckets.bucketId),l.Eb(4),l.Nc(e.columns.attribute1),l.Eb(2),l.oc("ngModelOptions",l.rc(94,vi))("ngModel",e.rmanFcBuckets.attribute1),l.Eb(4),l.Nc(e.columns.attribute2),l.Eb(2),l.oc("ngModelOptions",l.rc(95,vi))("ngModel",e.rmanFcBuckets.attribute2),l.Eb(4),l.Nc(e.columns.attribute3),l.Eb(2),l.oc("ngModelOptions",l.rc(96,vi))("ngModel",e.rmanFcBuckets.attribute3),l.Eb(4),l.Nc(e.columns.attribute4),l.Eb(2),l.oc("ngModelOptions",l.rc(97,vi))("ngModel",e.rmanFcBuckets.attribute4),l.Eb(4),l.Nc(e.columns.attribute5),l.Eb(2),l.oc("ngModelOptions",l.rc(98,vi))("ngModel",e.rmanFcBuckets.attribute5),l.Eb(4),l.Nc(e.columns.attribute6),l.Eb(2),l.oc("ngModelOptions",l.rc(99,vi))("ngModel",e.rmanFcBuckets.attribute6),l.Eb(4),l.Nc(e.columns.attribute7),l.Eb(2),l.oc("ngModelOptions",l.rc(100,vi))("ngModel",e.rmanFcBuckets.attribute7),l.Eb(4),l.Nc(e.columns.attribute8),l.Eb(2),l.oc("ngModelOptions",l.rc(101,vi))("ngModel",e.rmanFcBuckets.attribute8),l.Eb(4),l.Nc(e.columns.attribute9),l.Eb(2),l.oc("ngModelOptions",l.rc(102,vi))("ngModel",e.rmanFcBuckets.attribute9),l.Eb(4),l.Nc(e.columns.attribute10),l.Eb(2),l.oc("ngModelOptions",l.rc(103,vi))("ngModel",e.rmanFcBuckets.attribute10),l.Eb(4),l.Nc(e.columns.attribute11),l.Eb(2),l.oc("ngModelOptions",l.rc(104,vi))("ngModel",e.rmanFcBuckets.attribute11),l.Eb(4),l.Nc(e.columns.attribute12),l.Eb(2),l.oc("ngModelOptions",l.rc(105,vi))("ngModel",e.rmanFcBuckets.attribute12),l.Eb(4),l.Nc(e.columns.attribute13),l.Eb(2),l.oc("ngModelOptions",l.rc(106,vi))("ngModel",e.rmanFcBuckets.attribute13),l.Eb(4),l.Nc(e.columns.attribute14),l.Eb(2),l.oc("ngModelOptions",l.rc(107,vi))("ngModel",e.rmanFcBuckets.attribute14),l.Eb(4),l.Nc(e.columns.attribute15),l.Eb(2),l.oc("ngModelOptions",l.rc(108,vi))("ngModel",e.rmanFcBuckets.attribute15),l.Eb(4),l.Nc(e.columns.createdDate),l.Eb(2),l.oc("ngModelOptions",l.rc(109,vi))("ngModel",e.rmanFcBuckets.createdDate),l.Eb(4),l.Nc(e.columns.createdBy),l.Eb(2),l.oc("ngModelOptions",l.rc(110,vi))("ngModel",e.rmanFcBuckets.createdBy),l.Eb(4),l.Nc(e.columns.lastUpdatedDate),l.Eb(2),l.oc("ngModelOptions",l.rc(111,vi))("ngModel",e.rmanFcBuckets.lastUpdatedDate),l.Eb(4),l.Nc(e.columns.lastUpdatedBy),l.Eb(2),l.oc("ngModelOptions",l.rc(112,vi))("ngModel",e.rmanFcBuckets.lastUpdatedBy),l.Eb(4),l.Nc(e.columns.latestFlag),l.Eb(2),l.oc("ngModelOptions",l.rc(113,vi))("ngModel",e.rmanFcBuckets.latestFlag)}}function Mi(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Name"),l.Ub())}function Ui(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Start Date"),l.Ub())}const Ci=function(){return{"margin-bottom":"20px"}},Ri=i("+yMW");let Si=(()=>{class e{constructor(e,t,i,a,n){this.ref=e,this.rmanFcBucketsService=t,this.formBuilder=i,this.confirmationService=a,this.notificationService=n,this.rmanFcBuckets=new Ei,this.rmanFcBucketsSearch=new Ei,this.isSerached=0,this.msgs=[],this.collapsed=!0,this.noData=Ri.noData,this.formErrors={name:"",fcStartDate:"",numberOfBuckets:"",numberOfPeriods:"",numberOfQtrs:"",numberOfYears:""},this.validationMessages={name:{required:"Name is required"},fcStartDate:{required:"Start Date is Required"},numberOfBuckets:{pattern:"invlid pattern(Only numbers allowed)",min:"minimun number 0"},numberOfPeriods:{pattern:"invlid pattern(Only numbers allowed)",min:"minimun number 0",max:"maximum number 12"},numberOfQtrs:{pattern:"invlid pattern(Only numbers allowed)",min:"minimun number 0",max:"maximum number 3"},numberOfYears:{pattern:"invlid pattern(Only numbers allowed)",min:"minimun number 0"}},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.cref=e}ngAfterViewChecked(){this.cref.detectChanges()}ngOnInit(){this.getAllRmanFcBuckets();let e=new ti;this.columns=e.fieldLabels,this.buildForm()}reset(e){this.paginationOptions={},this.rmanFcBuckets=new Ei,e.reset()}buildForm(){this.forecastingBucketsForm=this.formBuilder.group({name:["",[n.t.required]],fcStartDate:["",[n.t.required]],numberOfBuckets:[""],numberOfPeriods:[""],numberOfQtrs:[""],numberOfYears:[""]}),this.forecastingBucketsForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}onValueChanged(e){if(!this.forecastingBucketsForm)return;const t=this.forecastingBucketsForm;for(const i in this.formErrors){this.formErrors[i]="";const e=t.get(i);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[i];for(const a in e.errors)this.formErrors[i]+="<div>"+t[a]+" </div>"}}}getAllRmanFcBuckets(){this.loading=!0,this.rmanFcBucketsService.getAllRmanFcBuckets(this.paginationOptions,this.rmanFcBuckets).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanFcBucketsList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size,this.displaySearchDialog=!1}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}getRmanFcBuckets(e){this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.rmanFcBucketsService.getAllRmanFcBuckets(this.paginationOptions,this.rmanFcBuckets).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanFcBucketsList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}showDialogToAdd(){this.newRmanFcBuckets=!0,this.rmanFcBuckets=new Ei,this.displayDialog=!0,this.buildForm()}cancelEdit(){this.rmanFcBuckets=new Ei,this.displayDialog=!1}saveOrUpdate(e){this.notificationService.showSuccess(e),this.loading=!1,this.getAllRmanFcBuckets()}save(){this.rmanFcBuckets.numberOfBuckets||(this.rmanFcBuckets.numberOfBuckets=0),this.rmanFcBuckets.numberOfPeriods||(this.rmanFcBuckets.numberOfPeriods=0),this.rmanFcBuckets.numberOfQtrs||(this.rmanFcBuckets.numberOfQtrs=0),this.rmanFcBuckets.numberOfYears||(this.rmanFcBuckets.numberOfYears=0),this.newRmanFcBuckets?(this.loading=!0,this.rmanFcBucketsService.saveRmanFcBuckets(this.rmanFcBuckets).then(e=>{this.saveOrUpdate("Saved Successfully")}).catch(e=>{this.notificationService.showError("Error occured while saving the data"),this.loading=!1})):(this.loading=!0,this.rmanFcBucketsService.updateRmanFcBuckets(this.rmanFcBuckets).then(e=>{this.saveOrUpdate("Updated Successfully")}).catch(e=>{this.notificationService.showError("Error occured while updating the data"),this.loading=!1})),this.rmanFcBuckets=new Ei,this.displayDialog=!1}delete(e){this.rmanFcBuckets=e,this.rmanFcBuckets.startDate&&(this.rmanFcBuckets.startDate=new Date(this.rmanFcBuckets.startDate)),this.rmanFcBuckets.endDate&&(this.rmanFcBuckets.endDate=new Date(this.rmanFcBuckets.endDate)),this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.rmanFcBucketsList.splice(this.findSelectedRmanFcBucketsIndex(),1),this.loading=!0,this.rmanFcBucketsService.deleteRmanFcBuckets(this.rmanFcBuckets).then(e=>{this.loading=!1,this.rmanFcBuckets=new Ei,this.getAllRmanFcBuckets()}),this.notificationService.showSuccess("Deleted succesfully")},reject:()=>{this.notificationService.showWarning("You have rejected")}})}editRow(e){this.newRmanFcBuckets=!1,this.rmanFcBuckets=this.cloneRmanFcBuckets(e),this.rmanFcBuckets.startDate&&(this.rmanFcBuckets.startDate=new Date(this.rmanFcBuckets.startDate)),this.rmanFcBuckets.endDate&&(this.rmanFcBuckets.endDate=new Date(this.rmanFcBuckets.endDate)),this.displayDialog=!0}findSelectedRmanFcBucketsIndex(){return this.rmanFcBucketsList.indexOf(this.selectedRmanFcBuckets)}onRowSelect(e){}cloneRmanFcBuckets(e){let t=new Ei;for(let i in e)t[i]=e[i];return t}toggleColumnMenu(){this.hideColumnMenu=!this.hideColumnMenu}toggleFilterBox(){this.showFilter=!this.showFilter}showDialogToSearch(){this.rmanFcBucketsSearch=new Ei,0==this.isSerached&&(this.rmanFcBucketsSearch=new Ei),this.displaySearchDialog=!0}cancelSearch(){this.displaySearchDialog=!1,this.rmanFcBucketsSearch=new Ei}search(){this.isSerached=1,this.rmanFcBuckets=this.rmanFcBucketsSearch,this.paginationOptions={},this.getAllRmanFcBuckets()}onBeforeToggle(e){this.collapsed=e.collapsed}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(l.i),l.Pb(ni),l.Pb(n.c),l.Pb(o.a),l.Pb(m.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["rmanFcBuckets-data"]],features:[l.Db([ni,o.a])],decls:47,vars:28,consts:[[1,"ContentSideSections","Implementation"],[1,"content-section","implementation"],["header","Manage Forecasting Buckets",3,"onBeforeToggle"],["class","pull-right",4,"ngIf"],["selectionMode","single","scrollable","true",1,"ui-datatable",3,"loading","value","lazy","paginator","rows","totalRecords","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Search","width","800","showEffect","fade",3,"visible","modal","draggable","visibleChange","onHide"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-5"],[1,"md-inputfield"],["pInputText","","name","name","id","name",3,"ngModelOptions","ngModel","ngModelChange"],["for","name"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","button","pButton","","label","Cancel",3,"click"],["type","submit","pButton","","label","Search",3,"click"],["width","800","showEffect","fade",3,"header","visible","draggable","modal","blockScroll","visibleChange","onHide"],["novalidate","",3,"formGroup","ngSubmit"],["class","ui-grid ui-grid-responsive ui-fluid",4,"ngIf"],["type","submit","pButton","","label","Save",3,"disabled","click"],["id","FieldsMandatory","role","dialog","data-backdrop","static","data-keyboard","false",1,"modal","fade","dialogueBox"],[1,"modal-dialog","modal-sm"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-title"],[1,"form-horizontal"],[1,"modal-body","clearfix"],[1,"col-md-12","col-sm-12","col-xs-12","col-lg-12"],[4,"ngIf"],[1,"modal-footer",2,"padding","3px"],["data-dismiss","modal",1,"btn","btn-primary","pull-right"],["header","Confirmation","icon","fa fa-question-circle","width","425"],[1,"pull-right"],["title","Add",1,"icon-add",3,"click"],["title","Search",1,"icon-search",3,"click"],["title","Reset",1,"icon-reset",3,"click"],[2,"text-align","left"],[2,"text-align","center"],[3,"pSelectableRow"],["title","Edit",1,"icon-edit",3,"click"],["title","Delete",1,"icon-delete",3,"click"],[3,"title"],[2,"text-align","left",3,"title"],[2,"text-align","center",3,"title"],[1,"no-data"],["pInputText","","name","name","id","name","formControlName","name",3,"ngModel","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"red-color"],[1,"ui-g-5","pull-right"],["pInputText","","name","numberOfBuckets","id","numberOfBuckets","formControlName","numberOfBuckets",3,"ngModel","ngModelChange"],["for","numberOfBuckets"],["class","selectSpan",4,"ngIf"],["showAnim","slideDown","name","startDate","id","startDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","Start Date*","formControlName","fcStartDate","appendTo","body",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],["showAnim","slideDown","name","endDate","id","endDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","End Date","appendTo","body",3,"ngModelOptions","ngModel","monthNavigator","yearNavigator","ngModelChange"],[1,"ui-grid-row"],[1,"ui-grid-col-12",2,"text-align","left","font-weight","bold","color","cornflowerblue"],["pInputText","","name","numberOfPeriods","id","numberOfPeriods","formControlName","numberOfPeriods",3,"ngModel","ngModelChange"],["for","numberOfPeriods"],["pInputText","","name","numberOfQtrs","id","numberOfQtrs","formControlName","numberOfQtrs",3,"ngModel","ngModelChange"],["for","numberOfQtrs"],["pInputText","","name","numberOfYears","id","numberOfYears","formControlName","numberOfYears",3,"ngModel","ngModelChange"],["for","numberOfYears"],[1,"d-none"],[1,"ui-grid-col-4"],["for","version"],[1,"ui-grid-col-8"],["pInputText","","name","version","id","version",3,"ngModelOptions","ngModel","ngModelChange"],["for","bucketId"],["pInputText","","name","bucketId","id","bucketId","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute1"],["pInputText","","name","attribute1","id","attribute1","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute2"],["pInputText","","name","attribute2","id","attribute2","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute3"],["pInputText","","name","attribute3","id","attribute3","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute4"],["pInputText","","name","attribute4","id","attribute4","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute5"],["pInputText","","name","attribute5","id","attribute5","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute6"],["pInputText","","name","attribute6","id","attribute6","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute7"],["pInputText","","name","attribute7","id","attribute7","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute8"],["pInputText","","name","attribute8","id","attribute8","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute9"],["pInputText","","name","attribute9","id","attribute9","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute10"],["pInputText","","name","attribute10","id","attribute10","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute11"],["pInputText","","name","attribute11","id","attribute11","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute12"],["pInputText","","name","attribute12","id","attribute12","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute13"],["pInputText","","name","attribute13","id","attribute13","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute14"],["pInputText","","name","attribute14","id","attribute14","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute15"],["pInputText","","name","attribute15","id","attribute15","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","createdDate"],["pInputText","","name","createdDate","id","createdDate","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","createdBy"],["pInputText","","name","createdBy","id","createdBy","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","lastUpdatedDate"],["pInputText","","name","lastUpdatedDate","id","lastUpdatedDate","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","lastUpdatedBy"],["pInputText","","name","lastUpdatedBy","id","lastUpdatedBy","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","latestFlag"],["pInputText","","name","latestFlag","id","latestFlag","required","",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-message","ui-messages-error","ui-corner-all"],[3,"innerHtml"],[1,"selectSpan"]],template:function(e,t){1&e&&(l.Vb(0,"div",0),l.Qb(1,"div",1),l.Vb(2,"p-panel",2),l.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),l.Vb(3,"p-header"),l.Kc(4,ri,4,0,"div",3),l.Ub(),l.Vb(5,"p-table",4,5),l.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getRmanFcBuckets(e)})),l.Kc(7,li,16,7,"ng-template",6),l.Kc(8,si,22,27,"ng-template",7),l.Kc(9,di,1,1,"ng-template",8),l.Ub(),l.Ub(),l.Vb(10,"p-dialog",9),l.dc("visibleChange",(function(e){return t.displaySearchDialog=e}))("onHide",(function(){return t.cancelSearch()})),l.Vb(11,"form"),l.Vb(12,"div",10),l.Vb(13,"div",11),l.Vb(14,"div",12),l.Vb(15,"span",13),l.Vb(16,"input",14),l.dc("ngModelChange",(function(e){return t.rmanFcBucketsSearch.name=e})),l.Ub(),l.Vb(17,"label",15),l.Mc(18),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(19,"p-footer"),l.Vb(20,"div",16),l.Vb(21,"button",17),l.dc("click",(function(){return t.cancelSearch()})),l.Ub(),l.Vb(22,"button",18),l.dc("click",(function(){return t.search()})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(23,"p-dialog",19),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancelEdit()})),l.Vb(24,"form",20),l.dc("ngSubmit",(function(){return t.save()})),l.Kc(25,yi,181,114,"div",21),l.Ub(),l.Vb(26,"p-footer"),l.Vb(27,"div",16),l.Vb(28,"button",17),l.dc("click",(function(){return t.cancelEdit()})),l.Ub(),l.Vb(29,"button",22),l.dc("click",(function(){return t.save()})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(30,"div",23),l.Vb(31,"div",24),l.Vb(32,"div",25),l.Vb(33,"div",26),l.Vb(34,"button",27),l.Mc(35,"\xd7"),l.Ub(),l.Vb(36,"h4",28),l.Mc(37),l.Ub(),l.Ub(),l.Vb(38,"form",29),l.Vb(39,"div",30),l.Vb(40,"div",31),l.Kc(41,Mi,2,0,"p",32),l.Kc(42,Ui,2,0,"p",32),l.Ub(),l.Ub(),l.Vb(43,"div",33),l.Vb(44,"button",34),l.Mc(45,"OK"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(46,"p-confirmDialog",35)),2&e&&(l.Eb(2),l.Ic(l.rc(26,Ci)),l.Eb(2),l.oc("ngIf",t.collapsed),l.Eb(1),l.oc("loading",t.loading)("value",t.rmanFcBucketsList)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements),l.Eb(5),l.oc("visible",t.displaySearchDialog)("modal",!0)("draggable",!0),l.Eb(6),l.oc("ngModelOptions",l.rc(27,vi))("ngModel",t.rmanFcBucketsSearch.name),l.Eb(2),l.Nc(t.columns.name),l.Eb(5),l.pc("header",t.newRmanFcBuckets?"Define Forecasting Periods&Buckets":"Edit Forecasting Periods&Buckets"),l.oc("visible",t.displayDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.forecastingBucketsForm),l.Eb(1),l.oc("ngIf",t.rmanFcBuckets),l.Eb(4),l.oc("disabled",!t.forecastingBucketsForm.valid),l.Eb(8),l.Nc("Error"),l.Eb(4),l.oc("ngIf",14==t.showMsg),l.Eb(1),l.oc("ngIf",15==t.showMsg))},directives:[oi.a,o.c,v.o,y.j,o.f,M.a,n.v,n.l,n.m,n.b,S.a,n.k,n.n,o.b,C.b,n.g,E.a,y.i,n.e,w.a,n.s],pipes:[v.f],encapsulation:2}),e})();class Ei{constructor(e,t,i,a,n,o,r,l,s,c,d,u,b,p,g,h,m,f,V,v,y,M,U,C,R,S,E,D,k){this.attribute10=e,this.attribute14=t,this.attribute13=i,this.createdDate=a,this.attribute12=n,this.attribute11=o,this.bucketId=r,this.endDate=l,this.numberOfYears=s,this.attribute3=c,this.createdBy=d,this.attribute2=u,this.lastUpdatedBy=b,this.attribute1=p,this.numberOfBuckets=g,this.startDate=h,this.attribute9=m,this.attribute8=f,this.attribute7=V,this.latestFlag=v,this.attribute6=y,this.attribute5=M,this.name=U,this.attribute4=C,this.lastUpdatedDate=R,this.numberOfQtrs=S,this.version=E,this.numberOfPeriods=D,this.attribute15=k}}var Di=i("/8oK");function ki(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",55),l.dc("click",(function(){return l.Dc(e),l.gc().showDialogToAdd()})),l.Qb(1,"em",56),l.Ub()}}function wi(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",57),l.dc("click",(function(){return l.Dc(e),l.gc().importFile()})),l.Qb(1,"em",58),l.Ub()}}function Ai(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",70),l.dc("onDragStart",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDragStart(t)}))("onDrop",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDrop(t)})),l.Vb(2,"div",71),l.Vb(3,"input",72),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label"),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField),l.Eb(2),l.Nc(e.header)}}const Oi=function(){return{color:"grey"}};function Pi(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",73),l.Vb(2,"div"),l.Vb(3,"input",74),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label",75),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),l.Eb(1),l.oc("ngStyle",l.rc(5,Oi)),l.Eb(1),l.Nc(e.header)}}function Ii(e,t){if(1&e&&(l.Kc(0,Ai,6,3,"div",51),l.Kc(1,Pi,6,6,"div",51)),2&e){const e=t.$implicit;l.oc("ngIf",e.drag),l.Eb(1),l.oc("ngIf",!e.drag)}}const Fi=function(){return{width:"100%",height:"100%"}};function Ni(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",59),l.Vb(1,"div",60),l.Vb(2,"div",61),l.Vb(3,"input",62),l.dc("click",(function(){return l.Dc(e),l.gc().onSelectAll()})),l.Ub(),l.Vb(4,"label",63),l.Mc(5,"Select All"),l.Ub(),l.Vb(6,"a",64),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(7,"\xd7"),l.Ub(),l.Vb(8,"p-listbox",65),l.Kc(9,Ii,2,2,"ng-template",66),l.Ub(),l.Ub(),l.Vb(10,"div",67),l.Vb(11,"a",68),l.dc("click",(function(){return l.Dc(e),l.gc().saveColumns()})),l.Mc(12,"Save"),l.Ub(),l.Vb(13,"a",69),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(14,"Cancel"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(3),l.oc("checked",e.isSelectAllChecked),l.Eb(5),l.Ic(l.rc(4,Fi)),l.oc("options",e.globalCols)}}function Ti(e,t){1&e&&l.Qb(0,"col")}function Li(e,t){if(1&e&&(l.Vb(0,"colgroup"),l.Qb(1,"col"),l.Kc(2,Ti,1,0,"col",76),l.Ub()),2&e){const e=t.$implicit;l.Eb(2),l.oc("ngForOf",e)}}const xi=function(e){return{display:e}};function Bi(e,t){if(1&e&&(l.Vb(0,"th",79),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,xi,e.display)),l.Eb(1),l.Nc(e.header)}}function Hi(e,t){if(1&e&&(l.Vb(0,"th",80),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,xi,e.display)),l.Eb(1),l.Nc(e.header)}}function qi(e,t){if(1&e&&(l.Tb(0),l.Kc(1,Bi,2,5,"th",77),l.Kc(2,Hi,2,5,"th",78),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type||"date"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function Ki(e,t){if(1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Kc(2,qi,3,2,"ng-container",76),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.oc("ngForOf",e.columns)}}function zi(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",84),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().editRow(t)})),l.Ub()}}function ji(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",85),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().delete(t)})),l.Ub()}}function $i(e,t){if(1&e&&(l.Vb(0,"td",88),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,xi,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function _i(e,t){if(1&e&&(l.Vb(0,"td",89),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,xi,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function Qi(e,t){if(1&e&&(l.Vb(0,"td",88),l.hc(1,"date"),l.Mc(2),l.hc(3,"date"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.jc(1,3,t[e.field],"MM/dd/yyyy")),l.oc("ngStyle",l.sc(9,xi,e.display)),l.Eb(2),l.Oc(" ",l.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function Gi(e,t){if(1&e&&(l.Vb(0,"td",89),l.hc(1,"round"),l.Mc(2),l.hc(3,"round"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.ic(1,3,t[e.field])),l.oc("ngStyle",l.sc(7,xi,e.display)),l.Eb(2),l.Oc(" ",l.ic(3,5,t[e.field])," ")}}function Wi(e,t){if(1&e&&(l.Tb(0),l.Kc(1,$i,2,5,"td",86),l.Kc(2,_i,2,5,"td",87),l.Kc(3,Qi,4,11,"td",86),l.Kc(4,Gi,4,9,"td",87),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type),l.Eb(1),l.oc("ngIf","date"==e.type),l.Eb(1),l.oc("ngIf","round"==e.type)}}const Yi=function(){return["write","MAP"]};function Ji(e,t){if(1&e&&(l.Vb(0,"tr",81),l.Vb(1,"td"),l.Kc(2,zi,1,0,"a",82),l.Kc(3,ji,1,0,"a",83),l.Ub(),l.Kc(4,Wi,5,4,"ng-container",76),l.Ub()),2&e){const e=t.$implicit,i=t.columns,a=l.gc();l.oc("pSelectableRow",e)("pSelectableRowIndex",a.rowIndex),l.Eb(2),l.oc("isAuthorized",l.rc(5,Yi)),l.Eb(1),l.oc("isAuthorized",l.rc(6,Yi)),l.Eb(1),l.oc("ngForOf",i)}}function Zi(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td",90),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc(2);l.Eb(2),l.Nc(e.noData)}}function Xi(e,t){1&e&&l.Kc(0,Zi,3,1,"tr",51),2&e&&l.oc("ngIf",!t.$implicit)}function ea(e,t){1&e&&(l.Vb(0,"div",91),l.Qb(1,"div"),l.Qb(2,"div"),l.Qb(3,"div"),l.Qb(4,"div"),l.Qb(5,"div"),l.Qb(6,"div"),l.Qb(7,"div"),l.Qb(8,"div"),l.Ub())}function ta(e,t){if(1&e&&(l.Vb(0,"div",106),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.periodNum," ")}}function ia(e,t){if(1&e&&(l.Vb(0,"div",106),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.periodYear," ")}}function aa(e,t){if(1&e&&(l.Vb(0,"div",106),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.periodName," ")}}function na(e,t){if(1&e&&(l.Vb(0,"div",106),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.quarterName," ")}}function oa(e,t){if(1&e&&(l.Vb(0,"div",106),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.ledgerName," ")}}function ra(e,t){if(1&e&&(l.Vb(0,"div",106),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.adjustmentPeriodFlag," ")}}function la(e,t){if(1&e&&(l.Vb(0,"div",106),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.quarterNum," ")}}const sa=function(){return{standalone:!0}};function ca(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",27),l.Vb(1,"div",28),l.Vb(2,"div",29),l.Vb(3,"div",28),l.Vb(4,"span",31),l.Mc(5," Period Status "),l.Ub(),l.Vb(6,"p-dropdown",92),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFiscalPeriods.periodStatus=t}))("onChange",(function(t){return l.Dc(e),l.gc().onSelectStatus(t.value)})),l.Ub(),l.Ub(),l.Vb(7,"div",28),l.Vb(8,"span",30),l.Vb(9,"span",31),l.Mc(10," Period Number "),l.Vb(11,"span",93),l.Mc(12,"*"),l.Ub(),l.Ub(),l.Vb(13,"input",94),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFiscalPeriods.periodNum=t})),l.Ub(),l.Kc(14,ta,2,1,"div",95),l.Ub(),l.Ub(),l.Vb(15,"div",28),l.Vb(16,"span",30),l.Vb(17,"span",31),l.Mc(18," Period Year "),l.Vb(19,"span",93),l.Mc(20,"*"),l.Ub(),l.Ub(),l.Vb(21,"input",96),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFiscalPeriods.periodYear=t})),l.Ub(),l.Kc(22,ia,2,1,"div",95),l.Ub(),l.Ub(),l.Vb(23,"div",28),l.Vb(24,"span",30),l.Vb(25,"span",31),l.Mc(26," Period Name "),l.Vb(27,"span",93),l.Mc(28,"*"),l.Ub(),l.Ub(),l.Vb(29,"input",97),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFiscalPeriods.periodName=t})),l.Ub(),l.Kc(30,aa,2,1,"div",95),l.Ub(),l.Ub(),l.Vb(31,"div",28),l.Vb(32,"span",30),l.Vb(33,"span",31),l.Mc(34," Quarter Name "),l.Vb(35,"span",93),l.Mc(36,"*"),l.Ub(),l.Ub(),l.Vb(37,"input",98),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFiscalPeriods.quarterName=t})),l.Ub(),l.Kc(38,na,2,1,"div",95),l.Ub(),l.Ub(),l.Vb(39,"div",28),l.Vb(40,"span",31),l.Mc(41,"Year Start Date"),l.Ub(),l.Vb(42,"p-calendar",99),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFiscalPeriods.yearStartDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(43,"div",29),l.Vb(44,"div",28),l.Vb(45,"span",30),l.Vb(46,"span",31),l.Mc(47," Ledger Name "),l.Vb(48,"span",93),l.Mc(49,"*"),l.Ub(),l.Ub(),l.Vb(50,"input",100),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFiscalPeriods.ledgerName=t})),l.Ub(),l.Kc(51,oa,2,1,"div",95),l.Ub(),l.Ub(),l.Vb(52,"div",28),l.Vb(53,"span",31),l.Mc(54,"Start Date"),l.Ub(),l.Vb(55,"p-calendar",101),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFiscalPeriods.startDate=t})),l.Ub(),l.Ub(),l.Vb(56,"div",28),l.Vb(57,"span",31),l.Mc(58,"End Date"),l.Ub(),l.Vb(59,"p-calendar",102),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFiscalPeriods.endDate=t})),l.Ub(),l.Ub(),l.Vb(60,"div",28),l.Vb(61,"span",30),l.Vb(62,"span",31),l.Mc(63," Adjustement Period Flag "),l.Vb(64,"span",93),l.Mc(65,"*"),l.Ub(),l.Ub(),l.Vb(66,"input",103),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFiscalPeriods.adjustmentPeriodFlag=t})),l.Ub(),l.Kc(67,ra,2,1,"div",95),l.Ub(),l.Ub(),l.Vb(68,"div",28),l.Vb(69,"span",30),l.Vb(70,"span",31),l.Mc(71," Quarter Number "),l.Vb(72,"span",93),l.Mc(73,"*"),l.Ub(),l.Ub(),l.Vb(74,"input",104),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFiscalPeriods.quarterNum=t})),l.Ub(),l.Kc(75,la,2,1,"div",95),l.Ub(),l.Ub(),l.Vb(76,"div",28),l.Vb(77,"span",31),l.Mc(78,"Quarter Start Date"),l.Ub(),l.Vb(79,"p-calendar",105),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanFiscalPeriods.quarterStartDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(6),l.oc("options",e.rmanLookupsV)("ngModel",e.rmanFiscalPeriods.periodStatus)("ngModelOptions",l.rc(34,sa))("filter",!0),l.Eb(7),l.oc("ngModel",e.rmanFiscalPeriods.periodNum),l.Eb(1),l.oc("ngIf",e.formErrors.periodNum),l.Eb(7),l.oc("ngModel",e.rmanFiscalPeriods.periodYear),l.Eb(1),l.oc("ngIf",e.formErrors.periodYear),l.Eb(7),l.oc("ngModel",e.rmanFiscalPeriods.periodName),l.Eb(1),l.oc("ngIf",e.formErrors.periodName),l.Eb(7),l.oc("ngModel",e.rmanFiscalPeriods.quarterName),l.Eb(1),l.oc("ngIf",e.formErrors.quarterName),l.Eb(4),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",e.rmanFiscalPeriods.yearStartDate)("ngModelOptions",l.rc(35,sa)),l.Eb(8),l.oc("ngModel",e.rmanFiscalPeriods.ledgerName),l.Eb(1),l.oc("ngIf",e.formErrors.ledgerName),l.Eb(4),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",e.rmanFiscalPeriods.startDate)("ngModelOptions",l.rc(36,sa)),l.Eb(4),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",e.rmanFiscalPeriods.endDate)("ngModelOptions",l.rc(37,sa)),l.Eb(7),l.oc("ngModel",e.rmanFiscalPeriods.adjustmentPeriodFlag),l.Eb(1),l.oc("ngIf",e.formErrors.adjustmentPeriodFlag),l.Eb(7),l.oc("ngModel",e.rmanFiscalPeriods.quarterNum),l.Eb(1),l.oc("ngIf",e.formErrors.quarterNum),l.Eb(4),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",e.rmanFiscalPeriods.quarterStartDate)("ngModelOptions",l.rc(38,sa))}}function da(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Period Number"),l.Ub())}function ua(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Period Year"),l.Ub())}function ba(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Period Name"),l.Ub())}function pa(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Ledger Name"),l.Ub())}function ga(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Start Date"),l.Ub())}function ha(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter End Date"),l.Ub())}const ma=function(){return["upload","MAP"]},fa=i("+yMW");let Va=(()=>{class e{constructor(e,t,i,a,n,o,r,l){this.ref=e,this.rmanFiscalPeriodsService=t,this.rmanLookupsVService=i,this.confirmationService=a,this.formBuilder=n,this.notificationService=o,this._uploadService=r,this.commonSharedService=l,this.displayPeriodsDialog=!1,this.uploadLoading=!1,this.rmanFiscalPeriods=new va,this.rmanPeriods=new va,this.rmanFiscalPeriodsSearch=new va,this.isSerached=0,this.msgs=[],this.rmanLookupsVList=[],this.collapsed=!0,this.noData=fa.noData,this.isSelectAllChecked=!0,this.showPaginator=!0,this.showAddColumns=!0,this.formErrors={periodNum:"",periodYear:"",periodName:"",quarterName:"",ledgerName:"",adjustmentPeriodFlag:"",quarterNum:""},this.validationMessages={periodNum:{required:"Period number is required (minimum length is 1 and maximum length is 12 characters)",minlength:"Period number must be 1 character.",maxlength:"Period number must be 12 characters long."},periodYear:{required:"Period year is Required (Must be 4 characters long)",minlength:"Period year must be 4 characters long.",maxlength:"Period year must be 4 characters long.",pattern:"Only number values are allowed [0-9] and"},periodName:{required:"Period name is required (Must be 6 characters long)",minlength:"Period name must be 6 characters long.",maxlength:"Period name must be 6 characters long."},quarterName:{required:"Quarter name is required (Must be 7 characters long)",minlength:"Quarter name must be 7 characters long.",maxlength:"Quarter name must be 7 characters long."},ledgerName:{required:"Ledger Name is Required (minimum length is 4 and maximum length is 30 characters)",minlength:"Ledger Name must be at least 4 characters long.",maxlength:"Ledger Name cannot be more than 30 characters long."},adjustmentPeriodFlag:{required:"Adjustment period flag is required"},quarterNum:{required:"Quarter number is required (minimum length is 1 and maximum length is 4 characters)",minlength:"Quarter number must be 1 character.",maxlength:"Quarter number must be 4 characters long."}},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.loading=!0,this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"RMAN_PERIOD_STATUS"}).then(e=>{this.loading=!1,this.rmanLookupsVList=e.content,this.prepareRmanLookupsVObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Period Status" data'),this.loading=!1}),this.cref=e}ngAfterViewChecked(){this.cref.detectChanges()}ngOnInit(){this.globalCols=[{field:"periodStatus",header:"Period Status",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"periodNum",header:"Period Number",showField:!0,drag:!0,display:"table-cell",type:"number"},{field:"periodYear",header:"Period Year",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"periodName",header:"Period Name",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"ledgerName",header:"Ledger Name",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"startDate",header:"Start Date",showField:!0,drag:!0,display:"table-cell",type:"date"},{field:"endDate",header:"End Date",showField:!0,drag:!0,display:"table-cell",type:"date"}],this.columns=[],this.getTableColumns("rmanFiscalPeriods","Accounting Periods"),this.buildForm()}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];let t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.globalCols.findIndex(t=>t.field==e),this.onDrop(t))}),this.globalCols.forEach(t=>{-1!==e.tableColumns.indexOf(t.field)?this.columns.push(t):t.showField=!1}),this.columns.length!=this.globalCols.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.globalCols}).catch(()=>{this.notificationService.showError("Error occured while getting table columns data"),this.loading=!1})}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.globalCols.length-1;this.globalCols.forEach((i,a)=>{i.showField&&(e+=i.field,a<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("rmanFiscalPeriods","Accounting Periods",e,this.userId).then(e=>{this.columns=this.globalCols.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}selectColumns(e){let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}buildForm(){this.fiscalPeriodsForm=this.formBuilder.group({periodNum:["",[n.t.required,n.t.minLength(1),n.t.maxLength(12)]],periodYear:["",[n.t.required,n.t.pattern("^[0-9]*$"),n.t.minLength(4),n.t.maxLength(4)]],periodName:["",[n.t.required,n.t.minLength(6),n.t.maxLength(6)]],quarterName:["",[n.t.required,n.t.minLength(7),n.t.maxLength(7)]],ledgerName:["",[n.t.required,n.t.minLength(4),n.t.maxLength(30)]],adjustmentPeriodFlag:["",[n.t.required]],quarterNum:["",[n.t.required,n.t.minLength(1),n.t.maxLength(4)]]}),this.fiscalPeriodsForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}onValueChanged(e){if(!this.fiscalPeriodsForm)return;const t=this.fiscalPeriodsForm;for(const i in this.formErrors){this.formErrors[i]="";const e=t.get(i);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[i];for(const a in e.errors)this.formErrors[i]+=t[a]+" "}}}transformRmanLookupsV(e){if(e)return e.lookupDescription}reset(e){this.paginationOptions={},this.rmanFiscalPeriods=new va,e.reset()}getAllRmanFiscalPeriods(){this.loading=!0,this.rmanFiscalPeriodsService.getAllRmanFiscalPeriods(this.paginationOptions,this.rmanFiscalPeriods).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanFiscalPeriodsList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size,this.displaySearchDialog=!1}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}getRmanFiscalPeriods(e){this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.rmanFiscalPeriodsService.getAllRmanFiscalPeriods(this.paginationOptions,this.rmanFiscalPeriods).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanFiscalPeriodsList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}showDialogToAdd(){this.newRmanFiscalPeriods=!0,this.rmanFiscalPeriods=new va,this.rmanFiscalPeriods.adjustmentPeriodFlag="N",this.displayDialog=!0,this.prepareRmanLookupsVObject(),this.buildForm()}cancelAddEdit(){this.rmanFiscalPeriods=new va,this.displayDialog=!1}save(){delete this.rmanFiscalPeriods.rmanLookupsV,this.rmanPeriods=this.rmanFiscalPeriods,this.loading=!0,this.newRmanFiscalPeriods?this.rmanFiscalPeriodsService.validatePeriods(this.rmanFiscalPeriods).then(e=>{"success"!=e?(this.loading=!1,this.notificationService.showError(e)):"success"==e&&this.rmanFiscalPeriodsService.saveRmanFiscalPeriods(this.rmanPeriods).then(e=>{this.loading=!1,this.notificationService.showSuccess("Saved succesfully"),this.getAllRmanFiscalPeriods()})}).catch(e=>{this.loading=!1,this.notificationService.showError("Error occured while creating new fiscal period")}):(this.loading=!0,this.rmanFiscalPeriodsService.validatePeriods(this.rmanFiscalPeriods).then(e=>{"success"!=e?(this.loading=!1,this.notificationService.showError(e)):"success"==e&&this.rmanFiscalPeriodsService.updateRmanFiscalPeriods(this.rmanPeriods).then(e=>{this.notificationService.showSuccess("Updated succesfully"),"CLOSED"==e.periodStatus&&this.rmanFiscalPeriodsService.updateGlAcctsStatus(e.periodName).then(e=>{this.loading=!1}),this.getAllRmanFiscalPeriods()})}).catch(e=>{this.notificationService.showError("Error occured while updating the fiscal period"),this.loading=!1})),this.displayDialog=!1}delete(e){this.rmanFiscalPeriods=e,this.rmanFiscalPeriods.startDate&&(this.rmanFiscalPeriods.startDate=new Date(this.rmanFiscalPeriods.startDate)),this.rmanFiscalPeriods.endDate&&(this.rmanFiscalPeriods.endDate=new Date(this.rmanFiscalPeriods.endDate)),this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.rmanFiscalPeriodsList.splice(this.findSelectedRmanFiscalPeriodsIndex(),1),this.loading=!0,this.rmanFiscalPeriodsService.deleteRmanFiscalPeriods(this.rmanFiscalPeriods).then(e=>{this.loading=!1,this.rmanFiscalPeriods=new va,this.getAllRmanFiscalPeriods()}),this.notificationService.showSuccess("Deleted succesfully")},reject:()=>{this.notificationService.showWarning("You have rejected")}})}editRow(e){this.newRmanFiscalPeriods=!1,this.rmanFiscalPeriods=this.cloneRmanFiscalPeriods(e),this.rmanFiscalPeriods.startDate&&(this.rmanFiscalPeriods.startDate=new Date(this.rmanFiscalPeriods.startDate)),this.rmanFiscalPeriods.endDate&&(this.rmanFiscalPeriods.endDate=new Date(this.rmanFiscalPeriods.endDate)),this.rmanFiscalPeriods.startDate&&(this.rmanFiscalPeriods.startDate=new Date(this.rmanFiscalPeriods.startDate)),this.rmanFiscalPeriods.quarterStartDate&&(this.rmanFiscalPeriods.quarterStartDate=new Date(this.rmanFiscalPeriods.quarterStartDate)),this.rmanFiscalPeriods.yearStartDate&&(this.rmanFiscalPeriods.yearStartDate=new Date(this.rmanFiscalPeriods.yearStartDate)),this.displayDialog=!0,this.prepareRmanLookupsVObject()}onSelectStatus(e){"OPEN"==this.rmanFiscalPeriods.periodStatus?this.rmanFiscalPeriods.openFlag="Y":"CLOSED"==this.rmanFiscalPeriods.periodStatus?this.rmanFiscalPeriods.openFlag="N":"FUTURE"==this.rmanFiscalPeriods.periodStatus&&(this.rmanFiscalPeriods.openFlag="F")}findSelectedRmanFiscalPeriodsIndex(){return this.rmanFiscalPeriodsList.indexOf(this.selectedRmanFiscalPeriods)}onRowSelect(e){}cloneRmanFiscalPeriods(e){let t=new va;for(let i in e)t[i]=e[i];return t}toggleColumnMenu(){this.hideColumnMenu=!this.hideColumnMenu}toggleFilterBox(){this.showFilter=!this.showFilter}showDialogToSearch(){this.rmanFiscalPeriodsSearch=new va,0==this.isSerached&&(this.rmanFiscalPeriodsSearch=new va),this.displaySearchDialog=!0}cancelSearch(){this.displaySearchDialog=!1,this.rmanFiscalPeriodsSearch=new va}search(){this.isSerached=1,this.rmanFiscalPeriods=this.rmanFiscalPeriodsSearch,this.getAllRmanFiscalPeriods()}prepareRmanLookupsVObject(){let e=[{label:fa.dropDownOptions.SelectPeriodStatus,value:null}];this.rmanLookupsVList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV=e}onBeforeToggle(e){this.collapsed=e.collapsed}fileUploadHandler(e,t){this._uploadService.processUpload(e,t)}showUploadLoader(){this._uploadService.uploadLoading=!0,this.uploadLoading=!0}importFile(){this._uploadService.uploadDialog=!0,this.displayPeriodsDialog=!0}cancelPeriodsUpload(){this._uploadService.uploadDialog=!1,this.displayPeriodsDialog=!1}onPeriodsUpload(e){this.notificationService.showSuccess("File Uploaded successfully"),this.displayPeriodsDialog=!1,this.uploadLoading=!1}onErrorPeriodsFileupload(e){this.displayPeriodsDialog=!1,this.uploadLoading=!1;let t="";t+=e.files[0].name+" file upload process failed due to ",e.xhr.response&&(t+=JSON.parse(e.xhr.response).message),this.notificationService.showError(t)}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(l.i),l.Pb(Di.a),l.Pb(u.a),l.Pb(o.a),l.Pb(n.c),l.Pb(m.a),l.Pb(ot.a),l.Pb(h.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["rmanFiscalPeriods-data"]],features:[l.Db([Di.a,o.a])],decls:76,vars:38,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Add",3,"click",4,"isAuthorized"],["title","Import",3,"click",4,"isAuthorized"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","accountingPeriods-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","lazy","paginator","rows","totalRecords","columns","resizableColumns","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["class","lds-roller","style","top: 0px;",4,"ngIf"],["header","Upload  Accounting Periods ","width","500","showEffect","fade",3,"visible","draggable","modal","visibleChange","onAfterHide"],["id","upload-bookings-input","name","file","customUpload","true","accept",".csv","invalidFileTypeMessageSummary","{0}:Invalid file Type",3,"uploadHandler"],["header","Search","width","800","showEffect","fade",3,"visible","draggable","modal","blockScroll","visibleChange","onHide"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["placeholder","Ledger Name","pInputText","","name","ledgerName","id","ledgerName",1,"textbox",3,"ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],["placeholder","Period Name","pInputText","","name","periodName","id","periodName",1,"textbox",3,"ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["width","800","showEffect","fade",3,"header","visible","draggable","modal","blockScroll","visibleChange","onHide"],["novaldiate","",3,"formGroup","ngSubmit"],["class","ui-grid ui-grid-responsive ui-fluid",4,"ngIf"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["id","FieldsMandatory","role","dialog","data-backdrop","static","data-keyboard","false",1,"modal","fade","dialogueBox"],[1,"modal-dialog","modal-sm"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-title"],[1,"form-horizontal"],[1,"modal-body","clearfix"],[1,"col-md-12","col-sm-12","col-xs-12","col-lg-12"],[4,"ngIf"],[1,"modal-footer",2,"padding","3px"],["data-dismiss","modal",1,"btn","btn-primary","pull-right"],["header","Confirmation","icon","fa fa-question-circle","width","425"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["title","Import",3,"click"],[1,"fa","fa-upload"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow","pSelectableRowIndex"],["class","icon-edit","title","Edit",3,"click",4,"isAuthorized"],["class","icon-delete","title","Delete",3,"click",4,"isAuthorized"],["title","Edit",1,"icon-edit",3,"click"],["title","Delete",1,"icon-delete",3,"click"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-data"],[1,"lds-roller",2,"top","0px"],["name","periodStatus",3,"options","ngModel","ngModelOptions","filter","ngModelChange","onChange"],[1,"red-color"],["pInputText","","placeholder","Period Number","name","periodNum","id","periodNum","formControlName","periodNum",1,"textbox",3,"ngModel","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["pInputText","","placeholder","Period Year","name","periodYear","id","periodYear","formControlName","periodYear",1,"textbox",3,"ngModel","ngModelChange"],["pInputText","","placeholder","Period Name","name","periodName","id","periodName","formControlName","periodName",1,"textbox",3,"ngModel","ngModelChange"],["pInputText","","placeholder","Quarter Name","name","quarterName","id","quarterName","formControlName","quarterName",1,"textbox",3,"ngModel","ngModelChange"],["showAnim","slideDown","inputStyleClass","textbox","appendTo","body","name","yearStartDate","id","yearStartDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","Year Start Date",3,"monthNavigator","yearNavigator","ngModel","ngModelOptions","ngModelChange"],["pInputText","","placeholder","Ledger Name","name","ledgerName","id","ledgerName","formControlName","ledgerName",1,"textbox",3,"ngModel","ngModelChange"],["showAnim","slideDown","inputStyleClass","textbox","name","startDate","id","startDate","appendTo","body","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","Start Date",3,"monthNavigator","yearNavigator","ngModel","ngModelOptions","ngModelChange"],["showAnim","slideDown","inputStyleClass","textbox","appendTo","body","name","endDate","id","endDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","End Date",3,"monthNavigator","yearNavigator","ngModel","ngModelOptions","ngModelChange"],["pInputText","","name","adjustmentPeriodFlag","id","adjustmentPeriodFlag","formControlName","adjustmentPeriodFlag",1,"textbox",3,"ngModel","ngModelChange"],["pInputText","","placeholder","Quarter Number","name","quarterNum","id","quarterNum","formControlName","quarterNum",1,"textbox",3,"ngModel","ngModelChange"],["showAnim","slideDown","inputStyleClass","textbox","appendTo","body","name","quarterStartDate","id","quarterStartDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","Quarter Start Date",3,"monthNavigator","yearNavigator","ngModel","ngModelOptions","ngModelChange"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(e,t){if(1&e){const e=l.Wb();l.Qb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"h2"),l.Mc(7,"Accounting Periods"),l.Ub(),l.Vb(8,"div",6),l.Vb(9,"a",7),l.dc("click",(function(e){return t.onConfiguringColumns(e)})),l.Qb(10,"em",8),l.Mc(11,"Columns"),l.Ub(),l.Kc(12,ki,2,0,"a",9),l.Kc(13,wi,2,0,"a",10),l.Vb(14,"a",11),l.dc("click",(function(){return t.showDialogToSearch()})),l.Qb(15,"em",12),l.Ub(),l.Vb(16,"a",13),l.dc("click",(function(){l.Dc(e);const i=l.Bc(21);return t.reset(i)})),l.Qb(17,"em",14),l.Ub(),l.Kc(18,Ni,15,5,"div",15),l.Ub(),l.Vb(19,"div",16),l.Vb(20,"p-table",17,18),l.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getRmanFiscalPeriods(e)})),l.Kc(22,Li,3,1,"ng-template",19),l.Kc(23,Ki,3,1,"ng-template",20),l.Kc(24,Ji,5,7,"ng-template",21),l.Kc(25,Xi,1,1,"ng-template",22),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Kc(26,ea,9,0,"div",23),l.Vb(27,"p-dialog",24),l.dc("visibleChange",(function(e){return t._uploadService.uploadDialog=e}))("onAfterHide",(function(){return t.cancelPeriodsUpload()})),l.Vb(28,"p-fileUpload",25),l.dc("uploadHandler",(function(e){return t.fileUploadHandler(e,"/upload/periods")})),l.Ub(),l.Qb(29,"progress-bar"),l.Ub(),l.Vb(30,"p-dialog",26),l.dc("visibleChange",(function(e){return t.displaySearchDialog=e}))("onHide",(function(){return t.cancelSearch()})),l.Vb(31,"form"),l.Vb(32,"div",27),l.Vb(33,"div",28),l.Vb(34,"div",29),l.Vb(35,"span",30),l.Vb(36,"span",31),l.Mc(37,"Ledger Name"),l.Ub(),l.Vb(38,"input",32),l.dc("ngModelChange",(function(e){return t.rmanFiscalPeriodsSearch.ledgerName=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(39,"div",33),l.Vb(40,"span",30),l.Vb(41,"span",31),l.Mc(42,"Period Name"),l.Ub(),l.Vb(43,"input",34),l.dc("ngModelChange",(function(e){return t.rmanFiscalPeriodsSearch.periodName=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(44,"p-footer"),l.Vb(45,"div",35),l.Vb(46,"button",36),l.dc("click",(function(){return t.search()})),l.Ub(),l.Vb(47,"button",37),l.dc("click",(function(){return t.displaySearchDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(48,"p-dialog",38),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancelAddEdit()})),l.Vb(49,"form",39),l.dc("ngSubmit",(function(){return t.save()})),l.Kc(50,ca,80,39,"div",40),l.Ub(),l.Vb(51,"p-footer"),l.Vb(52,"div",35),l.Vb(53,"button",41),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(54,"button",37),l.dc("click",(function(){return t.displayDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(55,"div",42),l.Vb(56,"div",43),l.Vb(57,"div",44),l.Vb(58,"div",45),l.Vb(59,"button",46),l.Mc(60,"\xd7"),l.Ub(),l.Vb(61,"h4",47),l.Mc(62),l.Ub(),l.Ub(),l.Vb(63,"form",48),l.Vb(64,"div",49),l.Vb(65,"div",50),l.Kc(66,da,2,0,"p",51),l.Kc(67,ua,2,0,"p",51),l.Kc(68,ba,2,0,"p",51),l.Kc(69,pa,2,0,"p",51),l.Kc(70,ga,2,0,"p",51),l.Kc(71,ha,2,0,"p",51),l.Ub(),l.Ub(),l.Vb(72,"div",52),l.Vb(73,"button",53),l.Mc(74,"OK"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(75,"p-confirmDialog",54)}2&e&&(l.Eb(12),l.oc("isAuthorized",l.rc(36,Yi)),l.Eb(1),l.oc("isAuthorized",l.rc(37,ma)),l.Eb(5),l.oc("ngIf",!t.showAddColumns),l.Eb(2),l.oc("loading",t.loading)("value",t.rmanFiscalPeriodsList)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("columns",t.columns)("resizableColumns",!0),l.Eb(6),l.oc("ngIf",t.uploadLoading),l.Eb(1),l.oc("visible",t._uploadService.uploadDialog)("draggable",!0)("modal",!0),l.Eb(3),l.oc("visible",t.displaySearchDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(8),l.oc("ngModel",t.rmanFiscalPeriodsSearch.ledgerName),l.Eb(5),l.oc("ngModel",t.rmanFiscalPeriodsSearch.periodName),l.Eb(5),l.pc("header",t.newRmanFiscalPeriods?"Define Fiscal Period":"Edit Fiscal Period"),l.oc("visible",t.displayDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.fiscalPeriodsForm),l.Eb(1),l.oc("ngIf",t.rmanFiscalPeriods),l.Eb(3),l.oc("disabled",!t.fiscalPeriodsForm.valid),l.Eb(9),l.Nc("Error"),l.Eb(4),l.oc("ngIf",16==t.showMsg),l.Eb(1),l.oc("ngIf",17==t.showMsg),l.Eb(1),l.oc("ngIf",18==t.showMsg),l.Eb(1),l.oc("ngIf",19==t.showMsg),l.Eb(1),l.oc("ngIf",20==t.showMsg),l.Eb(1),l.oc("ngIf",21==t.showMsg))},directives:[V.a,v.o,y.j,o.f,M.a,ct.a,dt.a,n.v,n.l,n.m,n.b,S.a,n.k,n.n,o.b,C.b,n.g,E.a,D.a,k.b,k.c,n.a,v.p,v.n,y.g,y.i,R.a,n.e,w.a],pipes:[v.f,O.a],encapsulation:2}),e})();class va{constructor(e,t,i,a,n,o,r,l,s,c,d,u,b,p,g,h,m,f,V,v){this.quarterStartDate=e,this.createdBy=t,this.lastUpdatedBy=i,this.periodYear=a,this.adjustmentPeriodFlag=n,this.creationDate=o,this.endDate=r,this.startDate=l,this.quarterNum=s,this.sourcePeriodId=c,this.lastUpdateDate=d,this.periodNum=u,this.ledgerName=b,this.quarterName=p,this.periodName=g,this.enteredPeriodName=h,this.periodStatus=m,this.yearStartDate=f,this.rmanPeriodId=V,this.openFlag=v}}var ya=i("xJ9n"),Ma=i("zYWz"),Ua=i("DBtk"),Ca=i("n75i"),Ra=i("OdxT"),Sa=i("6UWk");const Ea=i("+yMW"),Da={headers:new r.f({"Content-Type":"application/json"})};let ka=(()=>{class e{constructor(e){this.http=e}getServiceUrl(e,t,i,a){let n=Ea.apiUrl+"/rmanPobMappingExport?";0==a&&(n=Ea.apiUrl+"/rmanPobMappingSearch?");let o="";return null!=t.pobMapId&&""!=t.pobMapId&&(o=o+"pobMapId:"+t.pobMapId+","),null!=t.skuType&&""!=t.skuType&&(o=o+"skuType:"+t.skuType+","),null!=t.standaloneSubSku&&""!=t.standaloneSubSku&&(o=o+"standaloneSubSku:"+t.standaloneSubSku+","),null!=t.pobGrouping&&""!=t.pobGrouping&&(o=o+"pobGrouping:"+t.pobGrouping+","),null!=t.splitBasis&&""!=t.splitBasis&&(o=o+"splitBasis:"+t.splitBasis+","),null!=t.split&&""!=t.split&&(o=o+"split:"+t.split+","),null!=t.parentSku&&""!=t.parentSku&&(o=o+"parentSku:"+t.parentSku+","),null!=t.startDate&&""!=t.startDate&&(o=o+"startDate:"+t.startDate+","),null!=t.endDate&&""!=t.endDate&&(o=o+"endDate:"+t.endDate+","),null!=t.status&&""!=t.status&&(o=o+"status:"+t.status+","),null!=t.attribute1&&""!=t.attribute1&&(o=o+"attribute1:"+t.attribute1+","),null!=t.attribute2&&""!=t.attribute2&&(o=o+"attribute2:"+t.attribute2+","),null!=t.attribute3&&""!=t.attribute3&&(o=o+"attribute3:"+t.attribute3+","),null!=t.attribute4&&""!=t.attribute4&&(o=o+"attribute4:"+t.attribute4+","),null!=t.attribute5&&""!=t.attribute5&&(o=o+"attribute5:"+t.attribute5),""==o?n+="search=%25":n=n+"search="+o,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(n=n+"&page="+e.pageNumber+"&size="+e.pageSize),null!=i&&null!=i&&(n=n+"&exportCols="+i),n}getAllRmanPobMapping(e,t,i){let a=this.getServiceUrl(e,t,i,0);return this.http.get(a).toPromise().then(e=>e)}saveRmanPobMapping(e){let t=JSON.stringify(e);return this.http.post(Ea.apiUrl+"/RMAN_POB_MAPPING",t,Da).toPromise().then(e=>e)}updateRmanPobMapping(e){delete e._links,delete e.interests;let t=JSON.stringify(e);return this.http.put(Ea.apiUrl+"/RMAN_POB_MAPPING/"+e.pobMapId,t,Da).toPromise().then(e=>e)}deleteRmanPobMapping(e){return this.http.delete(Ea.apiUrl+"/RMAN_POB_MAPPING/"+e.pobMapId,Da).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac}),e})();var wa=i("+4s0"),Aa=i("V5BG");function Oa(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",60),l.dc("click",(function(){return l.Dc(e),l.gc().showDialogToAdd()})),l.Qb(1,"em",61),l.Ub()}}function Pa(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",62),l.dc("click",(function(){return l.Dc(e),l.gc().importFile()})),l.Qb(1,"em",63),l.Ub()}}function Ia(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",64),l.dc("click",(function(){return l.Dc(e),l.gc().exportExcel()})),l.Qb(1,"em",65),l.Ub()}}function Fa(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",78),l.dc("onDragStart",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDragStart(t)}))("onDrop",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDrop(t)})),l.Vb(2,"div",79),l.Vb(3,"input",80),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label"),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField),l.Eb(2),l.Nc(e.header)}}const Na=function(){return{color:"grey"}};function Ta(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",81),l.Vb(2,"div"),l.Vb(3,"input",82),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label",83),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),l.Eb(1),l.oc("ngStyle",l.rc(5,Na)),l.Eb(1),l.Nc(e.header)}}function La(e,t){if(1&e&&(l.Kc(0,Fa,6,3,"div",77),l.Kc(1,Ta,6,6,"div",77)),2&e){const e=t.$implicit;l.oc("ngIf",e.drag),l.Eb(1),l.oc("ngIf",!e.drag)}}const xa=function(){return{width:"100%",height:"100%"}};function Ba(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",66),l.Vb(1,"div",67),l.Vb(2,"div",68),l.Vb(3,"input",69),l.dc("click",(function(){return l.Dc(e),l.gc().onSelectAll()})),l.Ub(),l.Vb(4,"label",70),l.Mc(5,"Select All"),l.Ub(),l.Vb(6,"a",71),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(7,"\xd7"),l.Ub(),l.Vb(8,"p-listbox",72),l.Kc(9,La,2,2,"ng-template",73),l.Ub(),l.Ub(),l.Vb(10,"div",74),l.Vb(11,"a",75),l.dc("click",(function(){return l.Dc(e),l.gc().saveColumns()})),l.Mc(12,"Save"),l.Ub(),l.Vb(13,"a",76),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(14,"Cancel"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(3),l.oc("checked",e.isSelectAllChecked),l.Eb(5),l.Ic(l.rc(4,xa)),l.oc("options",e.globalCols)}}function Ha(e,t){1&e&&l.Qb(0,"col")}function qa(e,t){if(1&e&&(l.Vb(0,"colgroup"),l.Qb(1,"col"),l.Kc(2,Ha,1,0,"col",84),l.Ub()),2&e){const e=t.$implicit;l.Eb(2),l.oc("ngForOf",e)}}const Ka=function(e){return{display:e}};function za(e,t){if(1&e&&(l.Vb(0,"th",87),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,Ka,e.display)),l.Eb(1),l.Nc(e.header)}}function ja(e,t){if(1&e&&(l.Vb(0,"th",88),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,Ka,e.display)),l.Eb(1),l.Nc(e.header)}}function $a(e,t){if(1&e&&(l.Tb(0),l.Kc(1,za,2,5,"th",85),l.Kc(2,ja,2,5,"th",86),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type||"date"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function _a(e,t){if(1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Kc(2,$a,3,2,"ng-container",84),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.oc("ngForOf",e.columns)}}function Qa(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",92),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().editRow(t)})),l.Ub()}}function Ga(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",93),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().delete(t)})),l.Ub()}}function Wa(e,t){if(1&e&&(l.Vb(0,"td",96),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,Ka,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function Ya(e,t){if(1&e&&(l.Vb(0,"td",96),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit,i=l.gc();l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,Ka,e.display)),l.Eb(1),l.Oc(" ",i.transformRmanLookupsV(t[e.field])," ")}}function Ja(e,t){if(1&e&&(l.Vb(0,"td",97),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,Ka,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function Za(e,t){if(1&e&&(l.Vb(0,"td",96),l.hc(1,"date"),l.Mc(2),l.hc(3,"date"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.jc(1,3,t[e.field],"MM/dd/yyyy")),l.oc("ngStyle",l.sc(9,Ka,e.display)),l.Eb(2),l.Oc(" ",l.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function Xa(e,t){if(1&e&&(l.Vb(0,"td",97),l.hc(1,"round"),l.Mc(2),l.hc(3,"round"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.ic(1,3,t[e.field])),l.oc("ngStyle",l.sc(7,Ka,e.display)),l.Eb(2),l.Oc(" ",l.ic(3,5,t[e.field])," ")}}function en(e,t){if(1&e&&(l.Tb(0),l.Kc(1,Wa,2,5,"td",94),l.Kc(2,Ya,2,5,"td",94),l.Kc(3,Ja,2,5,"td",95),l.Kc(4,Za,4,11,"td",94),l.Kc(5,Xa,4,9,"td",95),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type&&"rmanLookupsV"!=e.field),l.Eb(1),l.oc("ngIf","text"==e.type&&"rmanLookupsV"==e.field),l.Eb(1),l.oc("ngIf","number"==e.type),l.Eb(1),l.oc("ngIf","date"==e.type),l.Eb(1),l.oc("ngIf","round"==e.type)}}const tn=function(){return["write","MPOB"]};function an(e,t){if(1&e&&(l.Vb(0,"tr",89),l.Vb(1,"td"),l.Kc(2,Qa,1,0,"a",90),l.Kc(3,Ga,1,0,"a",91),l.Ub(),l.Kc(4,en,6,5,"ng-container",84),l.Ub()),2&e){const e=t.$implicit,i=t.columns,a=l.gc();l.oc("pSelectableRow",e)("pSelectableRowIndex",a.rowIndex),l.Eb(2),l.oc("isAuthorized",l.rc(5,tn)),l.Eb(1),l.oc("isAuthorized",l.rc(6,tn)),l.Eb(1),l.oc("ngForOf",i)}}function nn(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td",98),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc(2);l.Eb(2),l.Nc(e.noData)}}function on(e,t){1&e&&l.Kc(0,nn,3,1,"tr",77),2&e&&l.oc("ngIf",!t.$implicit)}function rn(e,t){if(1&e&&(l.Vb(0,"div",120),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.skuType," ")}}function ln(e,t){1&e&&(l.Vb(0,"span",99),l.Mc(1,"*"),l.Ub())}function sn(e,t){if(1&e&&(l.Vb(0,"div",120),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.standaloneSubSku," ")}}function cn(e,t){1&e&&(l.Vb(0,"span",99),l.Mc(1,"*"),l.Ub())}function dn(e,t){if(1&e&&(l.Vb(0,"div",120),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.pobGrouping," ")}}function un(e,t){1&e&&(l.Vb(0,"span",99),l.Mc(1,"*"),l.Ub())}function bn(e,t){if(1&e&&(l.Vb(0,"div",120),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.parentSku," ")}}function pn(e,t){1&e&&(l.Vb(0,"span",99),l.Mc(1,"*"),l.Ub())}function gn(e,t){if(1&e&&(l.Vb(0,"div",120),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.splitBasis," ")}}function hn(e,t){1&e&&(l.Vb(0,"span",99),l.Mc(1,"*"),l.Ub())}function mn(e,t){if(1&e&&(l.Vb(0,"div",120),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.split," ")}}function fn(e,t){if(1&e&&(l.Vb(0,"div",120),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.startDate," ")}}function Vn(e,t){if(1&e&&(l.Vb(0,"div",120),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.status," ")}}const vn=function(e){return{noPointer:e}},yn=function(){return{standalone:!0}};function Mn(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",25),l.Vb(1,"div",26),l.Vb(2,"div",27),l.Vb(3,"span",28),l.Mc(4,"Mapping Type "),l.Vb(5,"span",99),l.Mc(6,"*"),l.Ub(),l.Ub(),l.Vb(7,"p-dropdown",100),l.dc("onChange",(function(t){return l.Dc(e),l.gc().OnSelectSkuType(t)}))("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.skuType=t})),l.Ub(),l.Kc(8,rn,2,1,"div",101),l.Ub(),l.Vb(9,"div",30),l.Vb(10,"span",31),l.Vb(11,"span",28),l.Mc(12,"Product Name\xa0 "),l.Kc(13,ln,2,0,"span",102),l.Ub(),l.Vb(14,"input",103),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.standaloneSubSku=t})),l.Ub(),l.Kc(15,sn,2,1,"div",101),l.Vb(16,"a",104),l.dc("click",(function(){l.Dc(e);const t=l.gc(),i=l.Bc(117);return t.productSearchDialog(0,i)})),l.Qb(17,"em",12),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(18,"div",26),l.Vb(19,"div",27),l.Vb(20,"span",31),l.Vb(21,"span",28),l.Mc(22,"POB Grouping "),l.Kc(23,cn,2,0,"span",102),l.Ub(),l.Vb(24,"input",105),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.pobGrouping=t})),l.Ub(),l.Kc(25,dn,2,1,"div",101),l.Ub(),l.Ub(),l.Vb(26,"div",30),l.Vb(27,"span",31),l.Vb(28,"span",28),l.Mc(29,"Parent product "),l.Kc(30,un,2,0,"span",102),l.Ub(),l.Vb(31,"input",106),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.parentSku=t})),l.Ub(),l.Kc(32,bn,2,1,"div",101),l.Vb(33,"span",107),l.Vb(34,"a",104),l.dc("click",(function(){l.Dc(e);const t=l.gc(),i=l.Bc(117);return t.productSearchDialog(1,i)})),l.Qb(35,"em",12),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(36,"div",26),l.Vb(37,"div",27),l.Vb(38,"span",28),l.Mc(39,"Split Type "),l.Kc(40,pn,2,0,"span",102),l.Ub(),l.Vb(41,"p-dropdown",108),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.splitBasis=t}))("onChange",(function(t){return l.Dc(e),l.gc().OnSelectSplitBasis(t)})),l.Ub(),l.Kc(42,gn,2,1,"div",101),l.Ub(),l.Vb(43,"div",30),l.Vb(44,"span",31),l.Vb(45,"span",28),l.Mc(46,"Split "),l.Kc(47,hn,2,0,"span",102),l.Ub(),l.Vb(48,"input",109),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.split=t})),l.Ub(),l.Kc(49,mn,2,1,"div",101),l.Ub(),l.Ub(),l.Ub(),l.Vb(50,"div",26),l.Vb(51,"div",27),l.Vb(52,"span",28),l.Mc(53,"Start Date "),l.Vb(54,"span",99),l.Mc(55,"*"),l.Ub(),l.Ub(),l.Vb(56,"p-calendar",110),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.startDate=t})),l.Kc(57,fn,2,1,"div",101),l.Ub(),l.Ub(),l.Vb(58,"div",30),l.Vb(59,"span",28),l.Mc(60,"End Date"),l.Ub(),l.Vb(61,"p-calendar",111),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.endDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(62,"div",26),l.Vb(63,"div",27),l.Vb(64,"span",31),l.Vb(65,"span",28),l.Mc(66,"Status "),l.Vb(67,"span",99),l.Mc(68,"*"),l.Ub(),l.Ub(),l.Vb(69,"input",112),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.status=t})),l.Ub(),l.Kc(70,Vn,2,1,"div",101),l.Ub(),l.Ub(),l.Vb(71,"div",30),l.Vb(72,"span",28),l.Mc(73,"Legal Entity "),l.Ub(),l.Vb(74,"p-dropdown",113),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.attribute1=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(75,"div",26),l.Vb(76,"div",27),l.Vb(77,"span",31),l.Vb(78,"span",28),l.Mc(79,"Revenue Policy"),l.Ub(),l.Vb(80,"p-autoComplete",114),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.attribute2=t}))("completeMethod",(function(t){return l.Dc(e),l.gc().searchRevenuePoclicyNames(t)})),l.Ub(),l.Ub(),l.Ub(),l.Vb(81,"div",30),l.Vb(82,"span",28),l.Mc(83,"Revenue Template "),l.Ub(),l.Vb(84,"p-dropdown",115),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.revenueTemplateId=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(85,"div",26),l.Vb(86,"div",27),l.Vb(87,"span",31),l.Vb(88,"span",28),l.Mc(89,"Revenue Policy Line"),l.Ub(),l.Vb(90,"p-autoComplete",116),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.attribute4=t}))("completeMethod",(function(t){return l.Dc(e),l.gc().searchRevenuePoclicyLines(t)})),l.Ub(),l.Ub(),l.Ub(),l.Vb(91,"div",30),l.Vb(92,"span",28),l.Mc(93,"Subscription Fee Link"),l.Ub(),l.Vb(94,"p-dropdown",117),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.attribute3=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(95,"div",26),l.Vb(96,"div",27),l.Vb(97,"span",28),l.Mc(98,"Date Dependent Flag"),l.Ub(),l.Vb(99,"p-dropdown",118),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.attribute5=t})),l.Ub(),l.Ub(),l.Vb(100,"div",30),l.Vb(101,"span",31),l.Vb(102,"span",28),l.Mc(103,"Acceptance Language"),l.Ub(),l.Vb(104,"input",119),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanPobMapping.attribute6=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(7),l.oc("options",e.rmanLookupsV)("ngModel",e.rmanPobMapping.skuType)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.skuType),l.Eb(5),l.oc("ngIf",null!=e.pobMappingForm.controls.standaloneSubSku.validator),l.Eb(1),l.oc("ngModel",e.rmanPobMapping.standaloneSubSku),l.Eb(1),l.oc("ngIf",e.formErrors.standaloneSubSku),l.Eb(8),l.oc("ngIf",null!=e.pobMappingForm.controls.pobGrouping.validator),l.Eb(1),l.oc("ngModel",e.rmanPobMapping.pobGrouping),l.Eb(1),l.oc("ngIf",e.formErrors.pobGrouping),l.Eb(5),l.oc("ngIf",null!=e.pobMappingForm.controls.parentSku.validator),l.Eb(1),l.oc("ngModel",e.rmanPobMapping.parentSku),l.Eb(1),l.oc("ngIf",e.formErrors.parentSku),l.Eb(1),l.oc("ngClass",l.sc(54,vn,!e.rmanPobMapping.standaloneSubSku||"POB Group"==(null==e.rmanPobMapping?null:e.rmanPobMapping.skuType))),l.Eb(7),l.oc("ngIf",null!=e.pobMappingForm.controls.splitBasis.validator),l.Eb(1),l.oc("options",e.rmanLookupsV1)("ngModel",e.rmanPobMapping.splitBasis),l.Eb(1),l.oc("ngIf",e.formErrors.splitBasis),l.Eb(5),l.oc("ngIf",null!=e.pobMappingForm.controls.split.validator),l.Eb(1),l.oc("ngModel",e.rmanPobMapping.split)("readonly",!e.rmanPobMapping.splitBasis),l.Eb(1),l.oc("ngIf",e.formErrors.split),l.Eb(7),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",e.rmanPobMapping.startDate),l.Eb(1),l.oc("ngIf",e.formErrors.startDate),l.Eb(4),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModelOptions",l.rc(56,yn))("ngModel",e.rmanPobMapping.endDate),l.Eb(8),l.oc("ngModel",e.rmanPobMapping.status)("readonly",!0),l.Eb(1),l.oc("ngIf",e.formErrors.status),l.Eb(4),l.oc("options",e.rmanLegalEntities)("ngModel",e.rmanPobMapping.attribute1),l.Eb(6),l.oc("ngModel",e.rmanPobMapping.attribute2)("suggestions",e.revPolicyNames)("minLength",2)("ngModelOptions",l.rc(57,yn)),l.Eb(4),l.oc("options",e.rmanRevenueTemplates)("ngModelOptions",l.rc(58,yn))("ngModel",e.rmanPobMapping.revenueTemplateId)("filter",!0),l.Eb(6),l.oc("ngModel",e.rmanPobMapping.attribute4)("suggestions",e.revPolicyLines)("minLength",2)("ngModelOptions",l.rc(59,yn)),l.Eb(4),l.oc("options",e.enabledFlags)("ngModelOptions",l.rc(60,yn))("ngModel",e.rmanPobMapping.attribute3),l.Eb(5),l.oc("options",e.enabledFlags)("ngModelOptions",l.rc(61,yn))("ngModel",e.rmanPobMapping.attribute5),l.Eb(5),l.oc("ngModel",e.rmanPobMapping.attribute6)}}function Un(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"th"),l.Mc(2),l.Ub(),l.Vb(3,"th"),l.Mc(4),l.Ub(),l.Vb(5,"th"),l.Mc(6),l.Ub(),l.Vb(7,"th"),l.Mc(8),l.Ub(),l.Vb(9,"th"),l.Mc(10),l.Ub(),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.Nc(e.productColumns.productName),l.Eb(2),l.Nc(e.productColumns.productDescription),l.Eb(2),l.Nc(e.productColumns.productId),l.Eb(2),l.Nc(e.productColumns.productOrgCode),l.Eb(2),l.Nc(e.productColumns.allowRevrecWoInvoice)}}function Cn(e,t){if(1&e&&(l.Vb(0,"tr",121),l.Vb(1,"td",122),l.Mc(2),l.Ub(),l.Vb(3,"td",122),l.Mc(4),l.Ub(),l.Vb(5,"td",122),l.Mc(6),l.Ub(),l.Vb(7,"td",122),l.Mc(8),l.Ub(),l.Vb(9,"td",122),l.Mc(10),l.Ub(),l.Ub()),2&e){const e=t.$implicit;l.oc("pSelectableRow",e),l.Eb(1),l.pc("title",e.productName),l.Eb(1),l.Nc(e.productName),l.Eb(1),l.pc("title",e.productDescription),l.Eb(1),l.Nc(e.productDescription),l.Eb(1),l.pc("title",e.productId),l.Eb(1),l.Nc(e.productId),l.Eb(1),l.pc("title",e.productOrgCode),l.Eb(1),l.Nc(e.productOrgCode),l.Eb(1),l.pc("title",e.allowRevrecWoInvoice),l.Eb(1),l.Nc(e.allowRevrecWoInvoice)}}function Rn(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td",98),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc(2);l.Eb(2),l.Nc(e.noData)}}function Sn(e,t){1&e&&l.Kc(0,Rn,3,1,"tr",77),2&e&&l.oc("ngIf",!t.$implicit)}const En=function(){return["upload","MPOB"]},Dn=i("+yMW");let kn=(()=>{class e{constructor(e,t,i,a,n,o,r,l,s,c,d,u){this.rmanPobMappingService=e,this.rmanProductsService=t,this.rmanLookupsVService=i,this.rmanRevenueTemplatesService=a,this.formBuilder=n,this.rmanLegalEntitiesService=o,this.confirmationService=r,this.notificationService=l,this.commonSharedService=s,this.rmanLookupCodesService=c,this._uploadService=d,this.dialogDataService=u,this.rmanProductsSearch=new Ca.b,this.rmanProducts=new Ca.b,this.selectedProduct=new Ca.b,this.rmanProductsLabels=new Ra.a,this.rmanPobMapping=new wn,this.rmanPobMappingSearch=new wn,this.isSerached=0,this.searched=0,this.rmanProductsList=[],this.rmanRevenueTemplatesList=[],this.rmanRevenueTemplates=[],this.rmanProductsListSample=[],this.rmanProducts1List=[],this.rmanLookupsVList=[],this.rmanLookupsV1List=[],this.rmanLegalEntitiesList=[],this.enabledFlagsList=[],this.collapsed=!0,this.noData=Dn.noData,this.selectedProductName="",this.isSelectAllChecked=!0,this.showPaginator=!0,this.showAddColumns=!0,this.exportCols=[],this.revPolicyNames=[],this.revPolicyLines=[],this.uploadLoading=!1,this.formErrors={skuType:"",status:"",startDate:"",splitBasis:"",standaloneSubSku:"",parentSku:"",pobGrouping:"",split:""},this.validationMessages={skuType:{required:"Product Type is required"},status:{required:"Status is required"},startDate:{required:"Start Date is required"},splitBasis:{required:"Split Type is required"},standaloneSubSku:{required:"Product Name is required"},parentSku:{required:"Parent Product is required"},pobGrouping:{required:"POB Grouping is required (minimum length is 4 and maximum length is 25 characters)",minlength:"POB Grouping must be at least 4 characters long.",maxlength:"POB Grouping cannot be more than 25 characters long."},split:{required:"Split is required (maximum length should not be more than 100 and only Number values are allowed [0-9] )",maxlength:"Maximum length should not be more than 100",pattern:"Only number values are allowed [0-9]"}},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.loading=!0,this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"ENABLED_FLAG"}).then(e=>{this.enabledFlagsList=e.content,this.prepareEnabledFlagsObject()}).catch(e=>{}),this.rmanProductsService.getAllRmanProducts(this.paginationOptions,{},!1).then(e=>{this.rmanProductsList=e.content,this.prepareRmanProductsObject(),this.rmanLegalEntitiesService.getAllRmanLegalEntities(this.paginationOptions,{},"Y").then(e=>{this.rmanLegalEntitiesList=e.content,this.prepareRmanLegalEntitiesObject(),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"POB_MAPPING_TYPE"}).then(e=>{this.rmanLookupsVList=e.content,this.prepareRmanLookupsVObject(),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"POB_SPLIT_BASIS"}).then(e=>{this.loading=!1,this.rmanLookupsV1List=e.content,this.prepareRmanLookupsV1Object(),this.rmanRevenueTemplatesService.getAllRmanRevenueTemplates(this.paginationOptions,{},!0).then(e=>{this.rmanRevenueTemplatesList=e.content,this.prepareRmanRevenueTemplatesObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Split Type" data'),this.loading=!1})}).catch(e=>{this.notificationService.showError('Error occured while getting "Split Type" data'),this.loading=!1})}).catch(e=>{this.notificationService.showError('Error occured while getting "Mapping Type" data'),this.loading=!1})}).catch(e=>{this.notificationService.showError('Error occured while getting "Legal Entity" data'),this.loading=!1})}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1}),this.dataSubscription=this.dialogDataService.currentRowData$.subscribe(e=>{e&&"POB"==e.type&&(this.rmanPobMapping.pobMapId=e.pobMapId)})}applyFilterAndSearch(e){if(!e)return;this.loading=!0,this.datasource=[],this.rmanPobMappingList=[],this.totalElements=1;let t=this.rmanPobMapping;t.pobMapId=e.pobMapId,this.rmanPobMappingService.getAllRmanPobMapping(this.paginationOptions,t,this.exportCols).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanPobMappingList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}ngOnInit(){this.getAllRmanPobMapping(),this.globalCols=[{field:"skuType",header:"Mapping Type",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"standaloneSubSku",header:"Product Name",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"pobGrouping",header:"POB Grouping",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"rmanLookupsV",header:"Split Basis",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"split",header:"Split",showField:!0,drag:!0,display:"table-cell",type:"number"},{field:"parentSku",header:"Parent Product",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"startDate",header:"Start Date",showField:!0,drag:!0,display:"table-cell",type:"date"},{field:"endDate",header:"End Date",showField:!0,drag:!0,display:"table-cell",type:"date"},{field:"status",header:"Status",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"legalEntityName",header:"Legal Entity",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"revenueTemplateName",header:"Revenue Template",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"accountRule",header:"Account Rule",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"attribute2",header:"Revenue Policy",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"attribute4",header:"Revenue Policy Line",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"attribute3",header:"Subscription Fee Link",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"attribute5",header:"Date Dependent Flag",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"attribute6",header:"Acceptance Language",showField:!0,drag:!0,display:"table-cell",type:"text"}],this.columns=[],this.getTableColumns("rmanPobMapping","POB Mappings");let e=new Ra.a;this.productColumns=e.fieldLabels,this.buildForm()}ngOnDestroy(){this.dataSubscription&&this.dataSubscription.unsubscribe()}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];let t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.globalCols.findIndex(t=>t.field==e),this.onDrop(t))}),this.globalCols.forEach(t=>{-1!==e.tableColumns.indexOf(t.field)?this.columns.push(t):t.showField=!1}),this.columns.length!=this.globalCols.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.globalCols}).catch(()=>{this.notificationService.showError("Error occured while getting table columns data"),this.loading=!1})}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.globalCols.length-1;this.globalCols.forEach((i,a)=>{i.showField&&(e+=i.field,a<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("rmanPobMapping","POB Mappings",e,this.userId).then(e=>{this.columns=this.globalCols.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}selectColumns(e){let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}reset(e){this.paginationOptions={},this.rmanPobMapping=new wn,e.reset()}checkValidators(){"POB Group"==this.pobMappingForm.controls.skuType.value?(this.pobMappingForm.get("pobGrouping").setValidators([n.t.required,n.t.minLength(4),n.t.maxLength(25)]),this.pobMappingForm.get("parentSku").clearValidators(),this.pobMappingForm.get("splitBasis").clearValidators(),this.pobMappingForm.get("split").clearValidators(),this.pobMappingForm.get("splitBasis").disable(),this.pobMappingForm.get("parentSku").disable(),this.pobMappingForm.get("split").disable(),this.pobMappingForm.updateValueAndValidity()):(this.pobMappingForm.get("pobGrouping").clearValidators(),this.pobMappingForm.get("pobGrouping").disable(),this.pobMappingForm.get("splitBasis").enable(),this.pobMappingForm.get("split").disable(),this.pobMappingForm.get("splitBasis").setValidators([n.t.required]),this.pobMappingForm.get("split").setValidators([n.t.required]),this.pobMappingForm.get("parentSku").setValidators([n.t.required]),this.pobMappingForm.get("parentSku").enable(),this.pobMappingForm.updateValueAndValidity()),this.checkSplit()}OnSelectSkuType(e){"POB Group"==this.pobMappingForm.controls.skuType.value?(this.pobMappingForm.get("pobGrouping").setValidators([n.t.required,n.t.minLength(4),n.t.maxLength(25)]),this.pobMappingForm.get("pobGrouping").enable(),this.pobMappingForm.get("standaloneSubSku").setValidators([n.t.required]),this.pobMappingForm.get("standaloneSubSku").enable(),this.pobMappingForm.get("parentSku").clearValidators(),this.pobMappingForm.patchValue({parentSku:"",splitBasis:"",split:""}),this.pobMappingForm.get("splitBasis").clearValidators(),this.pobMappingForm.get("split").clearValidators(),this.pobMappingForm.get("splitBasis").disable(),this.pobMappingForm.get("parentSku").disable(),this.pobMappingForm.get("split").disable(),this.pobMappingForm.updateValueAndValidity()):"Order Line POB Group"==this.pobMappingForm.controls.skuType.value?(this.pobMappingForm.get("pobGrouping").setValidators([n.t.required,n.t.minLength(4),n.t.maxLength(25)]),this.pobMappingForm.get("pobGrouping").enable(),this.pobMappingForm.get("standaloneSubSku").clearValidators(),this.pobMappingForm.get("parentSku").clearValidators(),this.pobMappingForm.get("splitBasis").clearValidators(),this.pobMappingForm.patchValue({standaloneSubSku:"",parentSku:"",splitBasis:"",split:""}),this.pobMappingForm.updateValueAndValidity()):(this.pobMappingForm.get("pobGrouping").clearValidators(),this.pobMappingForm.patchValue({pobGrouping:"",split:""}),this.pobMappingForm.get("pobGrouping").disable(),this.pobMappingForm.get("splitBasis").enable(),this.pobMappingForm.get("split").disable(),this.pobMappingForm.get("splitBasis").setValidators([n.t.required]),this.pobMappingForm.get("split").setValidators([n.t.required,n.t.maxLength(100),n.t.pattern(/^[0-9]+(.[0-9]{0,2})?$/)]),this.pobMappingForm.get("parentSku").setValidators([n.t.required]),this.pobMappingForm.get("parentSku").enable(),this.pobMappingForm.get("standaloneSubSku").setValidators([n.t.required]),this.pobMappingForm.updateValueAndValidity())}checkSplit(){"F"==this.pobMappingForm.controls.splitBasis.value?this.pobMappingForm.get("split").disable():this.pobMappingForm.get("split").enable()}OnSelectSplitBasis(e){"P"==this.pobMappingForm.controls.splitBasis.value&&(this.pobMappingForm.get("split").setValidators([n.t.required,n.t.maxLength(100),n.t.pattern(/^[0-9]+(.[0-9]{0,2})?$/)]),this.pobMappingForm.get("split").updateValueAndValidity()),"F"==this.pobMappingForm.controls.splitBasis.value?(this.pobMappingForm.patchValue({split:""}),this.pobMappingForm.get("split").disable()):this.pobMappingForm.get("split").enable(),this.checkSplit()}buildForm(){let e={skuType:[this.rmanPobMapping.skuType,[n.t.required]],status:[this.rmanPobMapping.status,[n.t.required]],startDate:[this.rmanPobMapping.startDate,[n.t.required]],splitBasis:[this.rmanPobMapping.splitBasis,[n.t.required]],legalEntityId:[this.rmanPobMapping.legalEntityId,[]],standaloneSubSku:[this.rmanPobMapping.standaloneSubSku,[n.t.required]],parentSku:["",[]],pobGrouping:["",[n.t.minLength(4),n.t.maxLength(25)]],split:[{value:null,disabled:!1}],revenueTemplateId:[this.rmanPobMapping.revenueTemplateId,[]],attribute2:[this.rmanPobMapping.attribute2,[]],attribute4:[this.rmanPobMapping.attribute4,[]],attribute3:[this.rmanPobMapping.attribute3,[]],attribute5:[this.rmanPobMapping.attribute5,[]],attribute6:[this.rmanPobMapping.attribute6,[]]};this.pobMappingForm=this.formBuilder.group(e),this.pobMappingForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}onValueChanged(e){if(!this.pobMappingForm)return;const t=this.pobMappingForm;for(const i in this.formErrors){this.formErrors[i]="";const e=t.get(i);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[i];for(const a in e.errors)this.formErrors[i]+=t[a]+" "}}}transformRmanProducts(e){if(e)return e.productDescription}transformRmanProducts1(e){if(e)return e.productDescription}transformRmanLegalEntities(e){if(e)return e.name}transformRmanLookupsV(e){if(e)return e.lookupDescription}transformRmanLookupsV1(e){if(e)return e.lookupDescription}cancelProductSearch(){this.displayItemSearchDialog=!1,this.selectedProduct={}}cancelAddEdit(){this.displayDialog=!1,this.rmanPobMapping=new wn}getRmanProducts(e){this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.itemPageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.rmanProductsService.getAllRmanProducts(this.paginationOptions,this.rmanProducts,!1).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanProductsList=e.content,this.itemTotalElements=e.totalElements,this.itemPageSize=e.size}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}getAllRmanProducts(){this.loading=!0,this.rmanProductsService.getAllRmanProducts(this.paginationOptions,this.rmanProducts,!1).then(e=>{this.loading=!1,this.productdatasource=e.content,this.rmanProductsList=e.content,this.itemTotalElements=e.totalElements,this.itemPageSize=e.size,$(".ui-datatable-scrollable-body").scrollTop(0)}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onRowItemSelect(e){this.rmanProducts.productName=this.selectedProduct.productName,this.rmanProducts.productDescription=this.selectedProduct.productDescription}getAllRmanPobMapping(){this.loading=!0,this.rmanPobMappingService.getAllRmanPobMapping(this.paginationOptions,this.rmanPobMapping,this.exportCols).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanPobMappingList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size,this.displaySearchDialog=!1}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}getRmanPobMapping(e){this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.rmanPobMappingService.getAllRmanPobMapping(this.paginationOptions,this.rmanPobMapping,this.exportCols).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanPobMappingList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}showDialogToAdd(){this.newRmanPobMapping=!0,this.rmanPobMapping=new wn,this.displayDialog=!0,this.rmanPobMapping.status="Active",this.prepareRmanProductsObject(),this.prepareRmanProducts1Object(),this.prepareRmanLookupsVObject(),this.prepareRmanLookupsV1Object(),this.prepareRmanLegalEntitiesObject(),this.prepareRmanRevenueTemplatesObject(),this.prepareEnabledFlagsObject(),this.buildForm()}productSearchDialog(e,t){this.displayItemSearchDialog=!0,this.popupFlag=e,this.rmanProducts=new Ca.b,this.rmanProductsSearch=new Ca.b,1===this.popupFlag&&this.selectedProductName&&(this.rmanProducts.productOrgName=this.selectedProductName),this.selectedProduct={},t.reset()}onSplitChange(e){"PS"!=e?(this.splitFlag=!0,this.rmanPobMapping.split=""):this.splitFlag=!1}saveOrUpdate(e){this.notificationService.showSuccess(e),this.paginationOptions={},this.getAllRmanPobMapping()}save(){delete this.rmanPobMapping.legalEntityName,this.newRmanPobMapping?(this.loading=!0,this.rmanPobMappingService.saveRmanPobMapping(this.rmanPobMapping).then(e=>{this.saveOrUpdate("Saved successfully")}).catch(e=>{this.notificationService.showError("Error occured while saving data"),this.loading=!1})):(this.loading=!0,this.rmanPobMappingService.updateRmanPobMapping(this.rmanPobMapping).then(e=>{this.saveOrUpdate("Updated successfully")}).catch(e=>{this.notificationService.showError("Error occured while updating data"),this.loading=!1})),this.rmanPobMapping=new wn,this.displayDialog=!1}exportExcel(){$.blockUI(),this.exportCols=[];for(let t=0;t<this.columns.length;t++)this.columns[t].showField&&this.exportCols.push(this.columns[t].field);let e=this.rmanPobMappingService.getServiceUrl(this.paginationOptions,this.rmanPobMapping,this.exportCols,1);$.unblockUI(),window.location.href=e}delete(e){this.rmanPobMapping=e,this.rmanPobMapping.startDate=new Date(this.rmanPobMapping.startDate),this.rmanPobMapping.endDate=new Date(this.rmanPobMapping.endDate),this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.rmanPobMappingList.splice(this.findSelectedRmanPobMappingIndex(),1),this.loading=!0,this.rmanPobMappingService.deleteRmanPobMapping(this.rmanPobMapping).then(e=>{this.rmanPobMapping=new wn,this.getAllRmanPobMapping()}),this.notificationService.showSuccess("Deleted successfully")},reject:()=>{this.rmanPobMapping=new wn,this.notificationService.showWarning("You have rejected")}})}editRow(e){this.newRmanPobMapping=!1,this.rmanPobMapping=this.cloneRmanPobMapping(e),this.rmanPobMapping.startDate=new Date(this.rmanPobMapping.startDate),this.rmanPobMapping.endDate&&(this.rmanPobMapping.endDate=new Date(this.rmanPobMapping.endDate)),this.displayDialog=!0,this.prepareRmanProductsObject(),this.prepareRmanProducts1Object(),this.prepareRmanLookupsVObject(),this.prepareRmanLookupsV1Object(),this.prepareRmanLegalEntitiesObject(),this.prepareRmanRevenueTemplatesObject(),this.pobMappingForm.patchValue({legalEntityId:this.rmanPobMapping.rmanLegalEntities.legalEntityId,parentSku:this.rmanPobMapping.parentSku,pobGrouping:this.rmanPobMapping.pobGrouping,skuType:this.rmanPobMapping.skuType,split:this.rmanPobMapping.split,splitBasis:this.rmanPobMapping.splitBasis,standaloneSubSku:this.rmanPobMapping.standaloneSubSku,startDate:this.rmanPobMapping.startDate,status:this.rmanPobMapping.status,attribute2:this.rmanPobMapping.attribute2,attribute4:this.rmanPobMapping.attribute4,attribute3:this.rmanPobMapping.attribute3,attribute5:this.rmanPobMapping.attribute5,attribute6:this.rmanPobMapping.attribute6,revenueTemplateId:this.rmanPobMapping.revenueTemplateId}),this.checkValidators()}findSelectedRmanPobMappingIndex(){return this.rmanPobMappingList.indexOf(this.selectedRmanPobMapping)}onRowSelect(e){}onRowProductSelect(e){}cloneRmanPobMapping(e){let t=new wn;for(let i in e)t[i]=e[i];return t}toggleColumnMenu(){this.hideColumnMenu=!this.hideColumnMenu}toggleFilterBox(){this.showFilter=!this.showFilter}showDialogToSearch(){this.rmanPobMappingSearch=new wn,0==this.isSerached&&(this.rmanPobMappingSearch=new wn),this.displaySearchDialog=!0}searchRevenuePoclicyNames(e){this.rmanLookupCodesService.getAllRmanLookupCodes(this.paginationOptions,{lookupTypeCode:"REVENUE_POLICY_LIST",lookupCode:e.query}).then(e=>{this.revPolicyNames=e.content.map(e=>e.lookupCode)}).catch(e=>{this.revPolicyNames=[]})}searchRevenuePoclicyLines(e){this.rmanLookupCodesService.getAllRmanLookupCodes(this.paginationOptions,{lookupTypeCode:"REVENUE_POLICY_LINES",lookupCode:e.query}).then(e=>{this.revPolicyLines=e.content.map(e=>e.lookupCode)}).catch(e=>{this.revPolicyLines=[]})}search(){this.displaySearchDialog=!1,this.isSerached=1,this.paginationOptions={},this.rmanPobMapping=this.rmanPobMappingSearch,this.getAllRmanPobMapping()}searchProduct(){this.rmanProducts=this.rmanProductsSearch,1===this.popupFlag&&(this.rmanProducts.productOrgName=this.selectedProductName),this.paginationOptions={},this.getAllRmanProducts()}fileUploadHandler(e,t){this._uploadService.processUpload(e,t)}importFile(){this._uploadService.uploadDialog=!0}showUploadLoader(){this.uploadLoading=!0}onPOBMappingUpload(e){this.notificationService.showSuccess("File Uploaded successfully"),this.uploadLoading=!1}onErrorPOBMappingFileupload(e){this.uploadLoading=!1;let t="";t+=e.files[0].name+" file upload process failed due to ",e.xhr.response&&(t+=JSON.parse(e.xhr.response).message),this.notificationService.showError(t)}cancelPOBMappingUpload(){this._uploadService.uploadDialog=!1}populate(){1==this.popupFlag?this.rmanPobMapping.parentSku=this.selectedProduct.productName:(this.rmanPobMapping.standaloneSubSku=this.selectedProduct.productName,this.selectedProductName=this.selectedProduct.productOrgName,this.rmanPobMapping.parentSku=""),this.displayItemSearchDialog=!1}resetProducts(e){this.paginationOptions={},this.rmanProducts=new Ca.b,this.rmanProductsSearch=new Ca.b,1===this.popupFlag&&(this.rmanProducts.productOrgName=this.selectedProductName),e.reset()}prepareRmanProductsObject(){let e=[];this.rmanProductsList.forEach(t=>{e.push({label:t.productDescription,value:t.productName})}),this.rmanProductsSample=e}prepareRmanRevenueTemplatesObject(){let e=[{label:Dn.dropDownOptions.selectRevTemp,value:null}];this.rmanRevenueTemplatesList.forEach(t=>{e.push({label:t.templateName,value:t.revenueTemplateId})}),this.rmanRevenueTemplates=e}prepareRmanLegalEntitiesObject(){let e=[{label:Dn.dropDownOptions.selectLegalEntity,value:null}];this.rmanLegalEntitiesList.forEach(t=>{e.push({label:t.name,value:t.legalEntityId})}),this.rmanLegalEntities=e}prepareRmanProducts1Object(){let e=[{label:Dn.dropDownOptions.SelectStandalone,value:null}];this.rmanProducts1List.forEach(t=>{e.push({label:t.productDescription,value:t.productName})}),this.rmanProducts1=e}prepareEnabledFlagsObject(){let e=[{label:Dn.dropDownOptions.selectEnabledFlag,value:null}];this.enabledFlagsList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.enabledFlags=e}prepareRmanLookupsVObject(){let e=[{label:Dn.dropDownOptions.SelectMapping,value:null}];this.rmanLookupsVList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV=e}prepareRmanLookupsV1Object(){let e=[{label:Dn.dropDownOptions.SelectSplit,value:null}];this.rmanLookupsV1List.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV1=e}onBeforeToggle(e){this.collapsed=e.collapsed}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(ka),l.Pb(Sa.a),l.Pb(u.a),l.Pb(Ma.a),l.Pb(n.c),l.Pb(ya.a),l.Pb(o.a),l.Pb(m.a),l.Pb(h.a),l.Pb(Ua.a),l.Pb(ot.a),l.Pb(wa.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["rmanPobMapping-data"]],features:[l.Db([ka,Sa.a,ya.a,Ma.a,o.a,Ua.a])],decls:129,vars:87,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Add",3,"click",4,"isAuthorized"],["title","Import",3,"click",4,"isAuthorized"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Export",3,"click",4,"isAuthorized"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","pobmappings-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","lazy","paginator","rows","totalRecords","columns","resizableColumns","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Search","width","800","showEffect","fade",3,"visible","draggable","modal","blockScroll","visibleChange"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"selectSpan"],["name","skuType","id","skuType","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],[1,"ui-g-6","pull-right"],[1,"md-inputfield"],["pInputText","","placeholder","Parent Product","name","parentSku","id","parentSku",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","placeholder","POB Grouping","name","pobGrouping","id","pobGrouping",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","placeholder","Product Name","name","standaloneSubSku","id","standaloneSubSku",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["name","splitBasis","id","splitBasis","appendTo","body",3,"options","ngModel","ngModelOptions","ngModelChange"],["pInputText","","placeholder","Split","name","split","id","split",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["inputStyleClass","textbox","showAnim","slideDown","name","startDate","id","startDate","dateFormat","yy-mm-dd","placeholder","Start Date","appendTo","body",3,"ngModelOptions","ngModel","ngModelChange"],["inputStyleClass","textbox","showAnim","slideDown","name","endDate","id","endDate","dateFormat","yy-mm-dd","placeholder","End Date","appendTo","body",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","placeholder","Status","name","status","id","status",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["name","attribute1","id","attribute1","appendTo","body",3,"options","ngModel","ngModelOptions","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Revenue Polilcy Type atleast 2 Characters","id","revenuePolicy",3,"ngModel","suggestions","minLength","ngModelOptions","ngModelChange","completeMethod"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["width","800","showEffect","fade",3,"header","visible","draggable","modal","blockScroll","visibleChange","onHide"],[3,"formGroup"],["class","ui-grid ui-grid-responsive ui-fluid",4,"ngIf"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["header","Product Search","width","800","showEffect","fade",3,"visible","draggable","modal","visibleChange"],["pInputText","","name","productName","placeholder","Product Name","id","productName",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","name","productDescription","placeholder","Product Description","id","productDescription",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix","pull-right"],["type","button","pButton","","label","Reset",1,"secondary-btn",3,"click"],["selectionMode","single",1,"row-active",3,"loading","value","selection","lazy","paginator","rows","totalRecords","selectionChange","onRowSelect","onLazyLoad"],["productsdt",""],["type","button","pButton","","label","Ok",1,"primary-btn",3,"click"],["header","Upload  POB Mappings ","width","500","showEffect","fade",3,"visible","draggable","modal","visibleChange","onAfterHide"],["id","upload-bookings-input","name","file","customUpload","true","accept",".csv","invalidFileTypeMessageSummary","{0}:Invalid file Type",3,"uploadHandler"],["header","Confirmation","icon","fa fa-question-circle","width","425"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["title","Import",3,"click"],[1,"fa","fa-upload"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow","pSelectableRowIndex"],["class","icon-edit",3,"click",4,"isAuthorized"],["class","icon-delete",3,"click",4,"isAuthorized"],[1,"icon-edit",3,"click"],[1,"icon-delete",3,"click"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-data"],[1,"red-color"],["name","skuType","id","skuType","formControlName","skuType",3,"options","ngModel","filter","onChange","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["class","red-color",4,"ngIf"],["pInputText","","placeholder","Product Name","id","standaloneSubSku","name","standaloneSubSku","formControlName","standaloneSubSku","readonly","",1,"textbox",3,"ngModel","ngModelChange"],[1,"searchinput",3,"click"],["pInputText","","placeholder","POB Grouping","name","pobGrouping","id","pobGrouping","formControlName","pobGrouping",1,"textbox",3,"ngModel","ngModelChange"],["pInputText","","placeholder","Parent product","id","parentSku","name","parentSku","readonly","","formControlName","parentSku",1,"textbox",3,"ngModel","ngModelChange"],[3,"ngClass"],["name","splitBasis","id","splitBasis","formControlName","splitBasis",3,"options","ngModel","ngModelChange","onChange"],["pInputText","","placeholder","Split","name","split","id","split","formControlName","split",1,"textbox",3,"ngModel","readonly","ngModelChange"],["inputStyleClass","textbox","showAnim","slideDown","name","startDate","id","startDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","Start Date*","formControlName","startDate","appendTo","body",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],["inputStyleClass","textbox","showAnim","slideDown","name","endDate","id","endDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","End Date","appendTo","body",3,"monthNavigator","yearNavigator","ngModelOptions","ngModel","ngModelChange"],["pInputText","","placeholder","Status","name","status","id","status","formControlName","status",1,"textbox",3,"ngModel","readonly","ngModelChange"],["name","attribute1","id","attribute1","appendTo","body","formControlName","legalEntityId",3,"options","ngModel","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Revenue Polilcy Type atleast 2 Characters","id","attribute2",3,"ngModel","suggestions","minLength","ngModelOptions","ngModelChange","completeMethod"],["name","revenueTemplateId","id","revenueTemplateId","appendTo","body","formControlName","revenueTemplateId",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Policy Line Type atleast 2 characters","id","attribute4",3,"ngModel","suggestions","minLength","ngModelOptions","ngModelChange","completeMethod"],["name","attribute3","id","attribute3","appendTo","body","formControlName","attribute3",3,"options","ngModelOptions","ngModel","ngModelChange"],["name","attribute5","id","attribute5","appendTo","body","formControlName","attribute5",3,"options","ngModelOptions","ngModel","ngModelChange"],["pInputText","","placeholder","Acceptance Language","name","attribute6","id","attribute6","formControlName","attribute6",1,"textbox",3,"ngModel","ngModelChange"],[1,"ui-message","ui-messages-error","ui-corner-all"],[3,"pSelectableRow"],[3,"title"]],template:function(e,t){if(1&e){const e=l.Wb();l.Qb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"h2"),l.Mc(7,"POB Mappings"),l.Ub(),l.Vb(8,"div",6),l.Vb(9,"a",7),l.dc("click",(function(e){return t.onConfiguringColumns(e)})),l.Qb(10,"em",8),l.Mc(11,"Columns"),l.Ub(),l.Kc(12,Oa,2,0,"a",9),l.Kc(13,Pa,2,0,"a",10),l.Vb(14,"a",11),l.dc("click",(function(){return t.showDialogToSearch()})),l.Qb(15,"em",12),l.Ub(),l.Vb(16,"a",13),l.dc("click",(function(){l.Dc(e);const i=l.Bc(22);return t.reset(i)})),l.Qb(17,"em",14),l.Ub(),l.Kc(18,Ia,2,0,"a",15),l.Kc(19,Ba,15,5,"div",16),l.Ub(),l.Vb(20,"div",17),l.Vb(21,"p-table",18,19),l.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getRmanPobMapping(e)})),l.Kc(23,qa,3,1,"ng-template",20),l.Kc(24,_a,3,1,"ng-template",21),l.Kc(25,an,5,7,"ng-template",22),l.Kc(26,on,1,1,"ng-template",23),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(27,"p-dialog",24),l.dc("visibleChange",(function(e){return t.displaySearchDialog=e})),l.Vb(28,"form"),l.Vb(29,"div",25),l.Vb(30,"div",26),l.Vb(31,"div",27),l.Vb(32,"span",28),l.Mc(33,"Mapping Type"),l.Ub(),l.Vb(34,"p-dropdown",29),l.dc("ngModelChange",(function(e){return t.rmanPobMappingSearch.skuType=e})),l.Ub(),l.Ub(),l.Vb(35,"div",30),l.Vb(36,"span",31),l.Vb(37,"span",28),l.Mc(38,"Parent Product"),l.Ub(),l.Vb(39,"input",32),l.dc("ngModelChange",(function(e){return t.rmanPobMappingSearch.parentSku=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(40,"div",26),l.Vb(41,"div",27),l.Vb(42,"span",31),l.Vb(43,"span",28),l.Mc(44,"POB Grouping"),l.Ub(),l.Vb(45,"input",33),l.dc("ngModelChange",(function(e){return t.rmanPobMappingSearch.pobGrouping=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(46,"div",30),l.Vb(47,"span",31),l.Vb(48,"span",28),l.Mc(49,"Product Name"),l.Ub(),l.Vb(50,"input",34),l.dc("ngModelChange",(function(e){return t.rmanPobMappingSearch.standaloneSubSku=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(51,"div",26),l.Vb(52,"div",27),l.Vb(53,"span",28),l.Mc(54,"Split Basis "),l.Ub(),l.Vb(55,"p-dropdown",35),l.dc("ngModelChange",(function(e){return t.rmanPobMappingSearch.splitBasis=e})),l.Ub(),l.Ub(),l.Vb(56,"div",30),l.Vb(57,"span",31),l.Vb(58,"span",28),l.Mc(59,"Split"),l.Ub(),l.Vb(60,"input",36),l.dc("ngModelChange",(function(e){return t.rmanPobMappingSearch.split=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(61,"div",26),l.Vb(62,"div",27),l.Vb(63,"span",28),l.Mc(64,"Start Date"),l.Ub(),l.Vb(65,"p-calendar",37),l.dc("ngModelChange",(function(e){return t.rmanPobMappingSearch.startDate=e})),l.Ub(),l.Ub(),l.Vb(66,"div",30),l.Vb(67,"span",28),l.Mc(68,"End Date"),l.Ub(),l.Vb(69,"p-calendar",38),l.dc("ngModelChange",(function(e){return t.rmanPobMappingSearch.endDate=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(70,"div",26),l.Vb(71,"div",27),l.Vb(72,"span",31),l.Vb(73,"span",28),l.Mc(74,"Status"),l.Ub(),l.Vb(75,"input",39),l.dc("ngModelChange",(function(e){return t.rmanPobMappingSearch.status=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(76,"div",30),l.Vb(77,"span",28),l.Mc(78,"Legal Entity "),l.Ub(),l.Vb(79,"p-dropdown",40),l.dc("ngModelChange",(function(e){return t.rmanPobMappingSearch.attribute1=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(80,"div",26),l.Vb(81,"div",27),l.Vb(82,"span",31),l.Vb(83,"span",28),l.Mc(84,"Revenue Policy"),l.Ub(),l.Vb(85,"p-autoComplete",41),l.dc("ngModelChange",(function(e){return t.rmanPobMappingSearch.attribute2=e}))("completeMethod",(function(e){return t.searchRevenuePoclicyNames(e)})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(86,"p-footer"),l.Vb(87,"div",42),l.Vb(88,"button",43),l.dc("click",(function(){return t.search()})),l.Ub(),l.Vb(89,"button",44),l.dc("click",(function(){return t.displaySearchDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(90,"p-dialog",45),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancelAddEdit()})),l.Vb(91,"form",46),l.Kc(92,Mn,105,62,"div",47),l.Ub(),l.Vb(93,"p-footer"),l.Vb(94,"div",42),l.Vb(95,"button",48),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(96,"button",44),l.dc("click",(function(){return t.cancelAddEdit()})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(97,"p-dialog",49),l.dc("visibleChange",(function(e){return t.displayItemSearchDialog=e})),l.Vb(98,"form"),l.Vb(99,"div",25),l.Vb(100,"div",26),l.Vb(101,"div",27),l.Vb(102,"span",31),l.Vb(103,"span",28),l.Mc(104),l.Ub(),l.Vb(105,"input",50),l.dc("ngModelChange",(function(e){return t.rmanProductsSearch.productName=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(106,"div",30),l.Vb(107,"span",31),l.Vb(108,"span",28),l.Mc(109),l.Ub(),l.Vb(110,"input",51),l.dc("ngModelChange",(function(e){return t.rmanProductsSearch.productDescription=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(111,"div",52),l.Vb(112,"button",43),l.dc("click",(function(){return t.searchProduct()})),l.Ub(),l.Vb(113,"button",53),l.dc("click",(function(){l.Dc(e);const i=l.Bc(117);return t.resetProducts(i)})),l.Ub(),l.Ub(),l.Ub(),l.Vb(114,"div"),l.Vb(115,"div",17),l.Vb(116,"p-table",54,55),l.dc("selectionChange",(function(e){return t.selectedProduct=e}))("onRowSelect",(function(e){return t.onRowProductSelect(e)}))("onLazyLoad",(function(e){return t.getRmanProducts(e)})),l.Kc(118,Un,11,5,"ng-template",21),l.Kc(119,Cn,11,11,"ng-template",22),l.Kc(120,Sn,1,1,"ng-template",23),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(121,"p-footer"),l.Vb(122,"div",42),l.Vb(123,"button",56),l.dc("click",(function(){return t.populate()})),l.Ub(),l.Vb(124,"button",44),l.dc("click",(function(){return t.cancelProductSearch()})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(125,"p-dialog",57),l.dc("visibleChange",(function(e){return t._uploadService.uploadDialog=e}))("onAfterHide",(function(){return t.cancelPOBMappingUpload()})),l.Vb(126,"p-fileUpload",58),l.dc("uploadHandler",(function(e){return t.fileUploadHandler(e,"/upload/pobMappingFile")})),l.Ub(),l.Qb(127,"progress-bar"),l.Ub(),l.Qb(128,"p-confirmDialog",59)}2&e&&(l.Eb(12),l.oc("isAuthorized",l.rc(71,tn)),l.Eb(1),l.oc("isAuthorized",l.rc(72,En)),l.Eb(5),l.oc("isAuthorized",l.rc(73,tn)),l.Eb(1),l.oc("ngIf",!t.showAddColumns),l.Eb(2),l.oc("loading",t.loading)("value",t.rmanPobMappingList)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("columns",t.columns)("resizableColumns",!0),l.Eb(6),l.oc("visible",t.displaySearchDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(7),l.oc("options",t.rmanLookupsV)("ngModelOptions",l.rc(74,yn))("ngModel",t.rmanPobMappingSearch.skuType)("filter",!0),l.Eb(5),l.oc("ngModelOptions",l.rc(75,yn))("ngModel",t.rmanPobMappingSearch.parentSku),l.Eb(6),l.oc("ngModelOptions",l.rc(76,yn))("ngModel",t.rmanPobMappingSearch.pobGrouping),l.Eb(5),l.oc("ngModelOptions",l.rc(77,yn))("ngModel",t.rmanPobMappingSearch.standaloneSubSku),l.Eb(5),l.oc("options",t.rmanLookupsV1)("ngModel",t.rmanPobMappingSearch.splitBasis)("ngModelOptions",l.rc(78,yn)),l.Eb(5),l.oc("ngModelOptions",l.rc(79,yn))("ngModel",t.rmanPobMappingSearch.split),l.Eb(5),l.oc("ngModelOptions",l.rc(80,yn))("ngModel",t.rmanPobMappingSearch.startDate),l.Eb(4),l.oc("ngModelOptions",l.rc(81,yn))("ngModel",t.rmanPobMappingSearch.endDate),l.Eb(6),l.oc("ngModelOptions",l.rc(82,yn))("ngModel",t.rmanPobMappingSearch.status),l.Eb(4),l.oc("options",t.rmanLegalEntities)("ngModel",t.rmanPobMappingSearch.attribute1)("ngModelOptions",l.rc(83,yn)),l.Eb(6),l.oc("ngModel",t.rmanPobMappingSearch.attribute2)("suggestions",t.revPolicyNames)("minLength",2)("ngModelOptions",l.rc(84,yn)),l.Eb(5),l.pc("header",t.newRmanPobMapping?"Create POB Mapping":"Edit POB Mapping"),l.oc("visible",t.displayDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.pobMappingForm),l.Eb(1),l.oc("ngIf",t.rmanPobMapping),l.Eb(3),l.oc("disabled",!t.pobMappingForm.valid),l.Eb(2),l.oc("visible",t.displayItemSearchDialog)("draggable",!0)("modal",!0),l.Eb(7),l.Nc(t.productColumns.productName),l.Eb(1),l.oc("ngModelOptions",l.rc(85,yn))("ngModel",t.rmanProductsSearch.productName),l.Eb(4),l.Nc(t.productColumns.productDescription),l.Eb(1),l.oc("ngModelOptions",l.rc(86,yn))("ngModel",t.rmanProductsSearch.productDescription),l.Eb(6),l.oc("loading",t.loading)("value",t.rmanProductsList)("selection",t.selectedProduct)("lazy",!0)("paginator",!0)("rows",t.itemPageSize)("totalRecords",t.itemTotalElements),l.Eb(9),l.oc("visible",t._uploadService.uploadDialog)("draggable",!0)("modal",!0))},directives:[V.a,v.o,y.j,o.f,M.a,n.v,n.l,n.m,R.a,n.k,n.n,n.b,S.a,w.a,Aa.a,o.b,C.b,n.g,ct.a,dt.a,E.a,D.a,k.b,k.c,n.a,v.p,v.n,y.g,y.i,n.e,v.m],pipes:[v.f,O.a],encapsulation:2}),e})();class wn{constructor(e,t,i,a,n,o,r,l,s,c,d,u,b,p,g,h,m,f,V){this.productId=e,this.legalEntityName=t,this.pobGrouping=i,this.parentSku=a,this.attribute3=n,this.attribute2=o,this.attribute1=r,this.standaloneSubSku=l,this.endDate=s,this.startDate=c,this.split=d,this.attribute5=u,this.attribute4=b,this.splitBasis=p,this.status=g,this.pobMapId=h,this.skuType=m,this.revenueTemplateId=f,this.attribute6=V}}var An=i("7/CQ");const On=i("+yMW"),Pn={headers:new r.f({"Content-Type":"application/json"})};let In=(()=>{class e{constructor(e){this.http=e}getAllRmanRuleParameterValue(e,t){let i=On.apiUrl+"/rmanRuleParameterValueSearch?",a="";return null!=t.parameterValueId&&""!=t.parameterValueId&&(a=a+"parameterValueId:"+t.parameterValueId+","),null!=t.ruleHeaderId&&""!=t.ruleHeaderId&&(a=a+"ruleHeaderId:"+t.ruleHeaderId+","),null!=t.parameterId&&""!=t.parameterId&&(a=a+"parameterId:"+t.parameterId+","),null!=t.qualifier&&""!=t.qualifier&&(a=a+"qualifier:"+t.qualifier+","),null!=t.parameterValue&&""!=t.parameterValue&&(a=a+"parameterValue:"+t.parameterValue+","),null!=t.attribute1&&""!=t.attribute1&&(a=a+"attribute1:"+t.attribute1+","),null!=t.attribute2&&""!=t.attribute2&&(a=a+"attribute2:"+t.attribute2+","),null!=t.attribute3&&""!=t.attribute3&&(a=a+"attribute3:"+t.attribute3+","),null!=t.attribute4&&""!=t.attribute4&&(a=a+"attribute4:"+t.attribute4+","),null!=t.attribute5&&""!=t.attribute5&&(a=a+"attribute5:"+t.attribute5+","),null!=t.attribute6&&""!=t.attribute6&&(a=a+"attribute6:"+t.attribute6+","),null!=t.attribute7&&""!=t.attribute7&&(a=a+"attribute7:"+t.attribute7+","),null!=t.attribute8&&""!=t.attribute8&&(a=a+"attribute8:"+t.attribute8+","),null!=t.attribute9&&""!=t.attribute9&&(a=a+"attribute9:"+t.attribute9+","),null!=t.attribute10&&""!=t.attribute10&&(a=a+"attribute10:"+t.attribute10+","),null!=t.attribute11&&""!=t.attribute11&&(a=a+"attribute11:"+t.attribute11+","),null!=t.attribute12&&""!=t.attribute12&&(a=a+"attribute12:"+t.attribute12+","),null!=t.attribute13&&""!=t.attribute13&&(a=a+"attribute13:"+t.attribute13+","),null!=t.attribute14&&""!=t.attribute14&&(a=a+"attribute14:"+t.attribute14+","),null!=t.attribute15&&""!=t.attribute15&&(a=a+"attribute15:"+t.attribute15+","),null!=t.attribute16&&""!=t.attribute16&&(a=a+"attribute16:"+t.attribute16+","),null!=t.attribute17&&""!=t.attribute17&&(a=a+"attribute17:"+t.attribute17+","),null!=t.attribute18&&""!=t.attribute18&&(a=a+"attribute18:"+t.attribute18+","),null!=t.attribute19&&""!=t.attribute19&&(a=a+"attribute19:"+t.attribute19+","),null!=t.attribute20&&""!=t.attribute20&&(a=a+"attribute20:"+t.attribute20+","),null!=t.attribute21&&""!=t.attribute21&&(a=a+"attribute21:"+t.attribute21+","),null!=t.attribute22&&""!=t.attribute22&&(a=a+"attribute22:"+t.attribute22+","),null!=t.attribute23&&""!=t.attribute23&&(a=a+"attribute23:"+t.attribute23+","),null!=t.attribute24&&""!=t.attribute24&&(a=a+"attribute24:"+t.attribute24+","),null!=t.attribute25&&""!=t.attribute25&&(a=a+"attribute25:"+t.attribute25+","),null!=t.attribute26&&""!=t.attribute26&&(a=a+"attribute26:"+t.attribute26+","),null!=t.attribute27&&""!=t.attribute27&&(a=a+"attribute27:"+t.attribute27+","),null!=t.attribute28&&""!=t.attribute28&&(a=a+"attribute28:"+t.attribute28+","),null!=t.attribute29&&""!=t.attribute29&&(a=a+"attribute29:"+t.attribute29+","),null!=t.attribute30&&""!=t.attribute30&&(a=a+"attribute30:"+t.attribute30+","),null!=t.creationDate&&""!=t.creationDate&&(a=a+"creationDate:"+t.creationDate+","),null!=t.createdBy&&""!=t.createdBy&&(a=a+"createdBy:"+t.createdBy+","),null!=t.lastUpdateDate&&""!=t.lastUpdateDate&&(a=a+"lastUpdateDate:"+t.lastUpdateDate+","),null!=t.lastUpdatedBy&&""!=t.lastUpdatedBy&&(a=a+"lastUpdatedBy:"+t.lastUpdatedBy+","),null!=t.parameterGroup&&""!=t.parameterGroup&&(a=a+"parameterGroup:"+t.parameterGroup+","),null!=t.andOr&&""!=t.andOr&&(a=a+"andOr:"+t.andOr+","),null!=t.dealFlag&&""!=t.dealFlag&&(a=a+"dealFlag:"+t.dealFlag),""==a?i+="search=%25":i=i+"search="+a,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(i=i+"&page="+e.pageNumber+"&size="+e.pageSize),this.http.get(i).toPromise().then(e=>e)}searchRmanRuleParameterValue(e){return this.http.get(On.apiUrl+"/RMAN_RULE_PARAMETER_VALUE/search/findByParameterValueIdAndRuleHeaderIdAndParameterIdAndQualifierAndParameterValueAndAttribute1AndAttribute2AndAttribute3AndAttribute4AndAttribute5AndAttribute6AndAttribute7AndAttribute8AndAttribute9AndAttribute10AndAttribute11AndAttribute12AndAttribute13AndAttribute14AndAttribute15AndAttribute16AndAttribute17AndAttribute18AndAttribute19AndAttribute20AndAttribute21AndAttribute22AndAttribute23AndAttribute24AndAttribute25AndAttribute26AndAttribute27AndAttribute28AndAttribute29AndAttribute30AndCreationDateAndCreatedByAndLastUpdateDateAndLastUpdatedByAndParameterGroupAndAndOrAndDealFlag?parameterValueId="+e.parameterValueId+"&ruleHeaderId="+e.ruleHeaderId+"&parameterId="+e.parameterId+"&qualifier="+e.qualifier+"&parameterValue="+e.parameterValue+"&attribute1="+e.attribute1+"&attribute2="+e.attribute2+"&attribute3="+e.attribute3+"&attribute4="+e.attribute4+"&attribute5="+e.attribute5+"&attribute6="+e.attribute6+"&attribute7="+e.attribute7+"&attribute8="+e.attribute8+"&attribute9="+e.attribute9+"&attribute10="+e.attribute10+"&attribute11="+e.attribute11+"&attribute12="+e.attribute12+"&attribute13="+e.attribute13+"&attribute14="+e.attribute14+"&attribute15="+e.attribute15+"&attribute16="+e.attribute16+"&attribute17="+e.attribute17+"&attribute18="+e.attribute18+"&attribute19="+e.attribute19+"&attribute20="+e.attribute20+"&attribute21="+e.attribute21+"&attribute22="+e.attribute22+"&attribute23="+e.attribute23+"&attribute24="+e.attribute24+"&attribute25="+e.attribute25+"&attribute26="+e.attribute26+"&attribute27="+e.attribute27+"&attribute28="+e.attribute28+"&attribute29="+e.attribute29+"&attribute30="+e.attribute30+"&creationDate="+e.creationDate+"&createdBy="+e.createdBy+"&lastUpdateDate="+e.lastUpdateDate+"&lastUpdatedBy="+e.lastUpdatedBy+"&parameterGroup="+e.parameterGroup+"&andOr="+e.andOr+"&dealFlag="+e.dealFlag).toPromise().then(e=>e)}saveRmanRuleParameterValue(e){let t=JSON.stringify(e);return this.http.post(On.apiUrl+"/RMAN_RULE_PARAMETER_VALUE",t,Pn).toPromise().then(e=>e)}updateRmanRuleParameterValue(e){delete e._links,delete e.interests;let t=JSON.stringify(e);return this.http.put(On.apiUrl+"/RMAN_RULE_PARAMETER_VALUE/"+e.parameterValueId,t,Pn).toPromise().then(e=>e)}deleteRmanRuleParameterValue(e){return this.http.delete(On.apiUrl+"/RMAN_RULE_PARAMETER_VALUE/"+e.parameterValueId,Pn).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac}),e})();function Fn(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",42),l.dc("click",(function(){return l.Dc(e),l.gc().showDialogToAdd()})),l.Qb(1,"em",43),l.Ub()}}function Nn(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",56),l.dc("onDragStart",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDragStart(t)}))("onDrop",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDrop(t)})),l.Vb(2,"div",57),l.Vb(3,"input",58),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label"),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField),l.Eb(2),l.Nc(e.header)}}const Tn=function(){return{color:"grey"}};function Ln(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",59),l.Vb(2,"div"),l.Vb(3,"input",60),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label",61),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),l.Eb(1),l.oc("ngStyle",l.rc(5,Tn)),l.Eb(1),l.Nc(e.header)}}function xn(e,t){if(1&e&&(l.Kc(0,Nn,6,3,"div",55),l.Kc(1,Ln,6,6,"div",55)),2&e){const e=t.$implicit;l.oc("ngIf",e.drag),l.Eb(1),l.oc("ngIf",!e.drag)}}const Bn=function(){return{width:"100%",height:"100%"}};function Hn(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",44),l.Vb(1,"div",45),l.Vb(2,"div",46),l.Vb(3,"input",47),l.dc("click",(function(){return l.Dc(e),l.gc().onSelectAll()})),l.Ub(),l.Vb(4,"label",48),l.Mc(5,"Select All"),l.Ub(),l.Vb(6,"a",49),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(7,"\xd7"),l.Ub(),l.Vb(8,"p-listbox",50),l.Kc(9,xn,2,2,"ng-template",51),l.Ub(),l.Ub(),l.Vb(10,"div",52),l.Vb(11,"a",53),l.dc("click",(function(){return l.Dc(e),l.gc().saveColumns()})),l.Mc(12,"Save"),l.Ub(),l.Vb(13,"a",54),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(14,"Cancel"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(3),l.oc("checked",e.isSelectAllChecked),l.Eb(5),l.Ic(l.rc(4,Bn)),l.oc("options",e.globalCols)}}function qn(e,t){1&e&&l.Qb(0,"col")}function Kn(e,t){if(1&e&&(l.Vb(0,"colgroup"),l.Qb(1,"col"),l.Kc(2,qn,1,0,"col",62),l.Ub()),2&e){const e=t.$implicit;l.Eb(2),l.oc("ngForOf",e)}}const zn=function(e){return{display:e}};function jn(e,t){if(1&e&&(l.Vb(0,"th",65),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,zn,e.display)),l.Eb(1),l.Nc(e.header)}}function $n(e,t){if(1&e&&(l.Vb(0,"th",66),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,zn,e.display)),l.Eb(1),l.Nc(e.header)}}function _n(e,t){if(1&e&&(l.Tb(0),l.Kc(1,jn,2,5,"th",63),l.Kc(2,$n,2,5,"th",64),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type||"date"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function Qn(e,t){if(1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Kc(2,_n,3,2,"ng-container",62),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.oc("ngForOf",e.columns)}}function Gn(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",70),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().editRow(t)})),l.Ub()}}function Wn(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",71),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().delete(t)})),l.Ub()}}function Yn(e,t){if(1&e&&(l.Vb(0,"td",74),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit,i=l.gc();l.pc("title",i.transformRmanEntityParametersV(t.rmanEntityParametersV)),l.oc("ngStyle",l.sc(3,zn,e.display)),l.Eb(1),l.Oc(" ",i.transformRmanEntityParametersV(t.rmanEntityParametersV)," ")}}function Jn(e,t){if(1&e&&(l.Vb(0,"td",74),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,zn,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function Zn(e,t){if(1&e&&(l.Vb(0,"td",75),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,zn,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function Xn(e,t){if(1&e&&(l.Vb(0,"td",74),l.hc(1,"date"),l.Mc(2),l.hc(3,"date"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.jc(1,3,t[e.field],"MM/dd/yyyy")),l.oc("ngStyle",l.sc(9,zn,e.display)),l.Eb(2),l.Oc(" ",l.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function eo(e,t){if(1&e&&(l.Vb(0,"td",75),l.hc(1,"round"),l.Mc(2),l.hc(3,"round"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.ic(1,3,t[e.field])),l.oc("ngStyle",l.sc(7,zn,e.display)),l.Eb(2),l.Oc(" ",l.ic(3,5,t[e.field])," ")}}function to(e,t){if(1&e&&(l.Tb(0),l.Kc(1,Yn,2,5,"td",72),l.Kc(2,Jn,2,5,"td",72),l.Kc(3,Zn,2,5,"td",73),l.Kc(4,Xn,4,11,"td",72),l.Kc(5,eo,4,9,"td",73),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type&&"parameterId"==e.field),l.Eb(1),l.oc("ngIf","text"==e.type&&"parameterId"!==e.field),l.Eb(1),l.oc("ngIf","number"==e.type),l.Eb(1),l.oc("ngIf","date"==e.type),l.Eb(1),l.oc("ngIf","round"==e.type)}}const io=function(){return["write","MAR"]};function ao(e,t){if(1&e&&(l.Vb(0,"tr",67),l.Vb(1,"td"),l.Kc(2,Gn,1,0,"a",68),l.Kc(3,Wn,1,0,"a",69),l.Ub(),l.Kc(4,to,6,5,"ng-container",62),l.Ub()),2&e){const e=t.columns;l.oc("pSelectableRow",t.$implicit),l.Eb(2),l.oc("isAuthorized",l.rc(4,io)),l.Eb(1),l.oc("isAuthorized",l.rc(5,io)),l.Eb(1),l.oc("ngForOf",e)}}function no(e,t){if(1&e&&(l.Vb(0,"div",76),l.Vb(1,"p"),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.Nc(e.noData)}}function oo(e,t){if(1&e&&(l.Vb(0,"div",159),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.name," ")}}function ro(e,t){if(1&e&&(l.Vb(0,"div",159),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.qualifier," ")}}const lo=function(){return{standalone:!0}};function so(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",23),l.Vb(1,"div",77),l.Vb(2,"div",24),l.Vb(3,"div",25),l.Vb(4,"span",26),l.Mc(5," Parameter ID "),l.Vb(6,"span",78),l.Mc(7,"*"),l.Ub(),l.Ub(),l.Vb(8,"p-dropdown",79),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.parameterId=t})),l.Ub(),l.Kc(9,oo,2,1,"div",80),l.Ub(),l.Vb(10,"div",29),l.Vb(11,"span",26),l.Mc(12," Qualifier "),l.Vb(13,"span",78),l.Mc(14,"*"),l.Ub(),l.Ub(),l.Vb(15,"p-dropdown",81),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.qualifier=t})),l.Ub(),l.Kc(16,ro,2,1,"div",80),l.Ub(),l.Ub(),l.Vb(17,"div",24),l.Vb(18,"div",25),l.Vb(19,"span",26),l.Mc(20," Parameter Value "),l.Ub(),l.Vb(21,"span",27),l.Vb(22,"input",33),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.parameterValue=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(23,"div",29),l.Vb(24,"span",26),l.Mc(25," Parameter Group "),l.Ub(),l.Vb(26,"span",27),l.Vb(27,"input",28),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.parameterGroup=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(28,"div",24),l.Vb(29,"div",25),l.Vb(30,"span",26),l.Mc(31," And/Or "),l.Ub(),l.Vb(32,"p-dropdown",32),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.andOr=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(33,"div",82),l.Vb(34,"div",83),l.Vb(35,"label",84),l.Mc(36),l.Ub(),l.Ub(),l.Vb(37,"div",85),l.Vb(38,"input",86),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.parameterValueId=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(39,"div",82),l.Vb(40,"div",83),l.Vb(41,"label",87),l.Mc(42),l.Ub(),l.Ub(),l.Vb(43,"div",85),l.Vb(44,"input",88),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.ruleHeaderId=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(45,"div",82),l.Vb(46,"div",83),l.Vb(47,"label",89),l.Mc(48),l.Ub(),l.Ub(),l.Vb(49,"div",85),l.Vb(50,"input",90),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute1=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(51,"div",82),l.Vb(52,"div",83),l.Vb(53,"label",91),l.Mc(54),l.Ub(),l.Ub(),l.Vb(55,"div",85),l.Vb(56,"input",92),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute2=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(57,"div",82),l.Vb(58,"div",83),l.Vb(59,"label",93),l.Mc(60),l.Ub(),l.Ub(),l.Vb(61,"div",85),l.Vb(62,"input",94),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute3=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(63,"div",82),l.Vb(64,"div",83),l.Vb(65,"label",95),l.Mc(66),l.Ub(),l.Ub(),l.Vb(67,"div",85),l.Vb(68,"input",96),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute4=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(69,"div",82),l.Vb(70,"div",83),l.Vb(71,"label",97),l.Mc(72),l.Ub(),l.Ub(),l.Vb(73,"div",85),l.Vb(74,"input",98),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute5=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(75,"div",82),l.Vb(76,"div",83),l.Vb(77,"label",99),l.Mc(78),l.Ub(),l.Ub(),l.Vb(79,"div",85),l.Vb(80,"input",100),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute6=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(81,"div",82),l.Vb(82,"div",83),l.Vb(83,"label",101),l.Mc(84),l.Ub(),l.Ub(),l.Vb(85,"div",85),l.Vb(86,"input",102),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute7=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(87,"div",82),l.Vb(88,"div",83),l.Vb(89,"label",103),l.Mc(90),l.Ub(),l.Ub(),l.Vb(91,"div",85),l.Vb(92,"input",104),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute8=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(93,"div",82),l.Vb(94,"div",83),l.Vb(95,"label",105),l.Mc(96),l.Ub(),l.Ub(),l.Vb(97,"div",85),l.Vb(98,"input",106),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute9=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(99,"div",82),l.Vb(100,"div",83),l.Vb(101,"label",107),l.Mc(102),l.Ub(),l.Ub(),l.Vb(103,"div",85),l.Vb(104,"input",108),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute10=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(105,"div",82),l.Vb(106,"div",83),l.Vb(107,"label",109),l.Mc(108),l.Ub(),l.Ub(),l.Vb(109,"div",85),l.Vb(110,"input",110),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute11=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(111,"div",82),l.Vb(112,"div",83),l.Vb(113,"label",111),l.Mc(114),l.Ub(),l.Ub(),l.Vb(115,"div",85),l.Vb(116,"input",112),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute12=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(117,"div",82),l.Vb(118,"div",83),l.Vb(119,"label",113),l.Mc(120),l.Ub(),l.Ub(),l.Vb(121,"div",85),l.Vb(122,"input",114),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute13=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(123,"div",82),l.Vb(124,"div",83),l.Vb(125,"label",115),l.Mc(126),l.Ub(),l.Ub(),l.Vb(127,"div",85),l.Vb(128,"input",116),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute14=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(129,"div",82),l.Vb(130,"div",83),l.Vb(131,"label",117),l.Mc(132),l.Ub(),l.Ub(),l.Vb(133,"div",85),l.Vb(134,"input",118),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute15=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(135,"div",82),l.Vb(136,"div",83),l.Vb(137,"label",119),l.Mc(138),l.Ub(),l.Ub(),l.Vb(139,"div",85),l.Vb(140,"input",120),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute16=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(141,"div",82),l.Vb(142,"div",83),l.Vb(143,"label",121),l.Mc(144),l.Ub(),l.Ub(),l.Vb(145,"div",85),l.Vb(146,"input",122),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute17=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(147,"div",82),l.Vb(148,"div",83),l.Vb(149,"label",123),l.Mc(150),l.Ub(),l.Ub(),l.Vb(151,"div",85),l.Vb(152,"input",124),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute18=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(153,"div",82),l.Vb(154,"div",83),l.Vb(155,"label",125),l.Mc(156),l.Ub(),l.Ub(),l.Vb(157,"div",85),l.Vb(158,"input",126),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute19=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(159,"div",82),l.Vb(160,"div",83),l.Vb(161,"label",127),l.Mc(162),l.Ub(),l.Ub(),l.Vb(163,"div",85),l.Vb(164,"input",128),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute20=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(165,"div",82),l.Vb(166,"div",83),l.Vb(167,"label",129),l.Mc(168),l.Ub(),l.Ub(),l.Vb(169,"div",85),l.Vb(170,"input",130),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute21=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(171,"div",82),l.Vb(172,"div",83),l.Vb(173,"label",131),l.Mc(174),l.Ub(),l.Ub(),l.Vb(175,"div",85),l.Vb(176,"input",132),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute22=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(177,"div",82),l.Vb(178,"div",83),l.Vb(179,"label",133),l.Mc(180),l.Ub(),l.Ub(),l.Vb(181,"div",85),l.Vb(182,"input",134),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute23=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(183,"div",82),l.Vb(184,"div",83),l.Vb(185,"label",135),l.Mc(186),l.Ub(),l.Ub(),l.Vb(187,"div",85),l.Vb(188,"input",136),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute24=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(189,"div",82),l.Vb(190,"div",83),l.Vb(191,"label",137),l.Mc(192),l.Ub(),l.Ub(),l.Vb(193,"div",85),l.Vb(194,"input",138),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute25=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(195,"div",82),l.Vb(196,"div",83),l.Vb(197,"label",139),l.Mc(198),l.Ub(),l.Ub(),l.Vb(199,"div",85),l.Vb(200,"input",140),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute26=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(201,"div",82),l.Vb(202,"div",83),l.Vb(203,"label",141),l.Mc(204),l.Ub(),l.Ub(),l.Vb(205,"div",85),l.Vb(206,"input",142),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute27=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(207,"div",82),l.Vb(208,"div",83),l.Vb(209,"label",143),l.Mc(210),l.Ub(),l.Ub(),l.Vb(211,"div",85),l.Vb(212,"input",144),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute28=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(213,"div",82),l.Vb(214,"div",83),l.Vb(215,"label",145),l.Mc(216),l.Ub(),l.Ub(),l.Vb(217,"div",85),l.Vb(218,"input",146),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute29=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(219,"div",82),l.Vb(220,"div",83),l.Vb(221,"label",147),l.Mc(222),l.Ub(),l.Ub(),l.Vb(223,"div",85),l.Vb(224,"input",148),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.attribute30=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(225,"div",82),l.Vb(226,"div",83),l.Vb(227,"label",149),l.Mc(228),l.Ub(),l.Ub(),l.Vb(229,"div",85),l.Vb(230,"input",150),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.creationDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(231,"div",82),l.Vb(232,"div",83),l.Vb(233,"label",151),l.Mc(234),l.Ub(),l.Ub(),l.Vb(235,"div",85),l.Vb(236,"input",152),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.createdBy=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(237,"div",82),l.Vb(238,"div",83),l.Vb(239,"label",153),l.Mc(240),l.Ub(),l.Ub(),l.Vb(241,"div",85),l.Vb(242,"input",154),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.lastUpdateDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(243,"div",82),l.Vb(244,"div",83),l.Vb(245,"label",155),l.Mc(246),l.Ub(),l.Ub(),l.Vb(247,"div",85),l.Vb(248,"input",156),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.lastUpdatedBy=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(249,"div",82),l.Vb(250,"div",83),l.Vb(251,"label",157),l.Mc(252),l.Ub(),l.Ub(),l.Vb(253,"div",85),l.Vb(254,"input",158),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.dealFlag=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(8),l.oc("options",e.rmanEntityParametersV)("ngModel",e.rmanRuleParameterValue.parameterId)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.name),l.Eb(6),l.oc("options",e.rmanLookupsV)("ngModel",e.rmanRuleParameterValue.qualifier)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.qualifier),l.Eb(6),l.oc("ngModelOptions",l.rc(127,lo))("ngModel",e.rmanRuleParameterValue.parameterValue),l.Eb(5),l.oc("ngModelOptions",l.rc(128,lo))("ngModel",e.rmanRuleParameterValue.parameterGroup),l.Eb(5),l.oc("options",e.rmanLookupsV1)("ngModelOptions",l.rc(129,lo))("ngModel",e.rmanRuleParameterValue.andOr)("filter",!0),l.Eb(4),l.Nc(e.columns.parameterValueId),l.Eb(2),l.oc("ngModelOptions",l.rc(130,lo))("ngModel",e.rmanRuleParameterValue.parameterValueId),l.Eb(4),l.Nc(e.columns.ruleHeaderId),l.Eb(2),l.oc("ngModelOptions",l.rc(131,lo))("ngModel",e.rmanRuleParameterValue.ruleHeaderId),l.Eb(4),l.Nc(e.columns.attribute1),l.Eb(2),l.oc("ngModelOptions",l.rc(132,lo))("ngModel",e.rmanRuleParameterValue.attribute1),l.Eb(4),l.Nc(e.columns.attribute2),l.Eb(2),l.oc("ngModelOptions",l.rc(133,lo))("ngModel",e.rmanRuleParameterValue.attribute2),l.Eb(4),l.Nc(e.columns.attribute3),l.Eb(2),l.oc("ngModelOptions",l.rc(134,lo))("ngModel",e.rmanRuleParameterValue.attribute3),l.Eb(4),l.Nc(e.columns.attribute4),l.Eb(2),l.oc("ngModelOptions",l.rc(135,lo))("ngModel",e.rmanRuleParameterValue.attribute4),l.Eb(4),l.Nc(e.columns.attribute5),l.Eb(2),l.oc("ngModelOptions",l.rc(136,lo))("ngModel",e.rmanRuleParameterValue.attribute5),l.Eb(4),l.Nc(e.columns.attribute6),l.Eb(2),l.oc("ngModelOptions",l.rc(137,lo))("ngModel",e.rmanRuleParameterValue.attribute6),l.Eb(4),l.Nc(e.columns.attribute7),l.Eb(2),l.oc("ngModelOptions",l.rc(138,lo))("ngModel",e.rmanRuleParameterValue.attribute7),l.Eb(4),l.Nc(e.columns.attribute8),l.Eb(2),l.oc("ngModelOptions",l.rc(139,lo))("ngModel",e.rmanRuleParameterValue.attribute8),l.Eb(4),l.Nc(e.columns.attribute9),l.Eb(2),l.oc("ngModelOptions",l.rc(140,lo))("ngModel",e.rmanRuleParameterValue.attribute9),l.Eb(4),l.Nc(e.columns.attribute10),l.Eb(2),l.oc("ngModelOptions",l.rc(141,lo))("ngModel",e.rmanRuleParameterValue.attribute10),l.Eb(4),l.Nc(e.columns.attribute11),l.Eb(2),l.oc("ngModelOptions",l.rc(142,lo))("ngModel",e.rmanRuleParameterValue.attribute11),l.Eb(4),l.Nc(e.columns.attribute12),l.Eb(2),l.oc("ngModelOptions",l.rc(143,lo))("ngModel",e.rmanRuleParameterValue.attribute12),l.Eb(4),l.Nc(e.columns.attribute13),l.Eb(2),l.oc("ngModelOptions",l.rc(144,lo))("ngModel",e.rmanRuleParameterValue.attribute13),l.Eb(4),l.Nc(e.columns.attribute14),l.Eb(2),l.oc("ngModelOptions",l.rc(145,lo))("ngModel",e.rmanRuleParameterValue.attribute14),l.Eb(4),l.Nc(e.columns.attribute15),l.Eb(2),l.oc("ngModelOptions",l.rc(146,lo))("ngModel",e.rmanRuleParameterValue.attribute15),l.Eb(4),l.Nc(e.columns.attribute16),l.Eb(2),l.oc("ngModelOptions",l.rc(147,lo))("ngModel",e.rmanRuleParameterValue.attribute16),l.Eb(4),l.Nc(e.columns.attribute17),l.Eb(2),l.oc("ngModelOptions",l.rc(148,lo))("ngModel",e.rmanRuleParameterValue.attribute17),l.Eb(4),l.Nc(e.columns.attribute18),l.Eb(2),l.oc("ngModelOptions",l.rc(149,lo))("ngModel",e.rmanRuleParameterValue.attribute18),l.Eb(4),l.Nc(e.columns.attribute19),l.Eb(2),l.oc("ngModelOptions",l.rc(150,lo))("ngModel",e.rmanRuleParameterValue.attribute19),l.Eb(4),l.Nc(e.columns.attribute20),l.Eb(2),l.oc("ngModelOptions",l.rc(151,lo))("ngModel",e.rmanRuleParameterValue.attribute20),l.Eb(4),l.Nc(e.columns.attribute21),l.Eb(2),l.oc("ngModelOptions",l.rc(152,lo))("ngModel",e.rmanRuleParameterValue.attribute21),l.Eb(4),l.Nc(e.columns.attribute22),l.Eb(2),l.oc("ngModelOptions",l.rc(153,lo))("ngModel",e.rmanRuleParameterValue.attribute22),l.Eb(4),l.Nc(e.columns.attribute23),l.Eb(2),l.oc("ngModelOptions",l.rc(154,lo))("ngModel",e.rmanRuleParameterValue.attribute23),l.Eb(4),l.Nc(e.columns.attribute24),l.Eb(2),l.oc("ngModelOptions",l.rc(155,lo))("ngModel",e.rmanRuleParameterValue.attribute24),l.Eb(4),l.Nc(e.columns.attribute25),l.Eb(2),l.oc("ngModelOptions",l.rc(156,lo))("ngModel",e.rmanRuleParameterValue.attribute25),l.Eb(4),l.Nc(e.columns.attribute26),l.Eb(2),l.oc("ngModelOptions",l.rc(157,lo))("ngModel",e.rmanRuleParameterValue.attribute26),l.Eb(4),l.Nc(e.columns.attribute27),l.Eb(2),l.oc("ngModelOptions",l.rc(158,lo))("ngModel",e.rmanRuleParameterValue.attribute27),l.Eb(4),l.Nc(e.columns.attribute28),l.Eb(2),l.oc("ngModelOptions",l.rc(159,lo))("ngModel",e.rmanRuleParameterValue.attribute28),l.Eb(4),l.Nc(e.columns.attribute29),l.Eb(2),l.oc("ngModelOptions",l.rc(160,lo))("ngModel",e.rmanRuleParameterValue.attribute29),l.Eb(4),l.Nc(e.columns.attribute30),l.Eb(2),l.oc("ngModelOptions",l.rc(161,lo))("ngModel",e.rmanRuleParameterValue.attribute30),l.Eb(4),l.Nc(e.columns.creationDate),l.Eb(2),l.oc("ngModelOptions",l.rc(162,lo))("ngModel",e.rmanRuleParameterValue.creationDate),l.Eb(4),l.Nc(e.columns.createdBy),l.Eb(2),l.oc("ngModelOptions",l.rc(163,lo))("ngModel",e.rmanRuleParameterValue.createdBy),l.Eb(4),l.Nc(e.columns.lastUpdateDate),l.Eb(2),l.oc("ngModelOptions",l.rc(164,lo))("ngModel",e.rmanRuleParameterValue.lastUpdateDate),l.Eb(4),l.Nc(e.columns.lastUpdatedBy),l.Eb(2),l.oc("ngModelOptions",l.rc(165,lo))("ngModel",e.rmanRuleParameterValue.lastUpdatedBy),l.Eb(4),l.Nc(e.columns.dealFlag),l.Eb(2),l.oc("ngModelOptions",l.rc(166,lo))("ngModel",e.rmanRuleParameterValue.dealFlag)}}const co=i("+yMW");let uo=(()=>{class e{constructor(e,t,i,a,n,o,r){this.rmanRuleParameterValueService=e,this.rmanLookupsVService=t,this.rmanEntityParametersVService=i,this.formBuilder=a,this.confirmationService=n,this.notificationService=o,this.commonSharedService=r,this.msgs=[],this.rmanRuleParameterValue=new bo,this.rmanRuleParameterValueSearch=new bo,this.isSerached=0,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.rmanLookupsVList=[],this.rmanLookupsV1List=[],this.rmanEntityParametersVList=[],this.collapsedRuleParameters=!0,this.noData=co.noData,this.formErrors={name:"",qualifier:""},this.validationMessages={name:{required:"Parameter ID is required"},qualifier:{required:"Qualifier is Required"}},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"RULE_QUALIFIER"}).then(e=>{this.rmanLookupsVList=e.content,this.prepareRmanLookupsVObject(),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"RULE_CONDITION"}).then(e=>{this.rmanLookupsV1List=e.content,this.prepareRmanLookupsV1Object()}).catch(e=>{this.notificationService.showError('Error occured while getting "AND/OR" data'),this.loading=!1})}).catch(e=>{this.notificationService.showError('Error occured while getting "Qualifier" data'),this.loading=!1})}ngOnChanges(e){}ngOnInit(){this.globalCols=[{field:"parameterGroup",header:"Parameter Group",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"parameterId",header:"Parameter Id",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"qualifier",header:"Qualifier",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"parameterValue",header:"Parameter Value",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"andOr",header:"And/Or",showField:!0,display:"table-cell",type:"text",drag:!0}],this.columns=[],this.getTableColumns("revenueContractRules","ContractResults"),this.buildForm()}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];let t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.globalCols.findIndex(t=>t.field==e),this.onDrop(t))}),this.globalCols.forEach(t=>{-1!==e.tableColumns.indexOf(t.field)?this.columns.push(t):t.showField=!1}),this.columns.length!=this.globalCols.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.globalCols}).catch(()=>{this.notificationService.showError("Error occured while getting table columns data"),this.loading=!1})}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.globalCols.length-1;this.globalCols.forEach((i,a)=>{i.showField&&(e+=i.field,a<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("revenueContractRules","ContractResults",e,this.userId).then(e=>{this.columns=this.globalCols.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}selectColumns(e){let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}reset(e){this.paginationOptions={},this.rmanRuleParameterValue=new bo,e.reset()}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}buildForm(){this.ruleParametersForm=this.formBuilder.group({name:["",[n.t.required]],qualifier:["",[n.t.required]]}),this.ruleParametersForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}onValueChanged(e){if(!this.ruleParametersForm)return;const t=this.ruleParametersForm;for(const i in this.formErrors){this.formErrors[i]="";const e=t.get(i);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[i];for(const a in e.errors)this.formErrors[i]+=t[a]+" "}}}transformRmanLookupsV(e){if(e)return e.lookupDescription}transformRmanLookupsV1(e){if(e)return e.lookupDescription}transformRmanEntityParametersV(e){if(e)return e.parameterName}getAllRmanRuleParameterValue(e){this.rmanRuleParameterValue.ruleHeaderId=this.pRuleHeaderId,this.loading=!0,null!=this.pRuleHeaderId&&this.pRuleHeaderId&&this.rmanRuleParameterValueService.getAllRmanRuleParameterValue(this.paginationOptions,this.rmanRuleParameterValue).then(e=>{this.loading=!1,this.datasource=e.content,0==this.isSerached?this.rmanRuleParameterValueList=e.content.filter(e=>e.ruleHeaderId=this.pRuleHeaderId):(this.rmanRuleParameterValueList=e.content,this.isSerached=0),this.totalElements=e.totalElements,this.pageSize=e.size,this.displaySearchDialog=!1}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}getRmanRuleParameterValue(e){this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,null!=this.pRuleHeaderId&&this.pRuleHeaderId&&this.rmanRuleParameterValueService.getAllRmanRuleParameterValue(this.paginationOptions,this.rmanRuleParameterValue).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanRuleParameterValueList=null!=this.pRuleHeaderId?e.content.filter(e=>e.ruleHeaderId==this.pRuleHeaderId):e.content,this.totalElements=e.totalElements,this.pageSize=e.size}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}showDialogToAdd(){this.newRmanRuleParameterValue=!0,this.rmanRuleParameterValue=new bo,null==this.pRuleHeaderId||0==this.pRuleHeaderId?(this.displayDialog=!1,this.notificationService.showInfo("Please select Arrangement Rule"),this.displayConfirmation=!0):(this.rmanRuleParameterValue.ruleHeaderId=this.pRuleHeaderId,this.displayDialog=!0,this.prepareRmanLookupsVObject(),this.prepareRmanLookupsV1Object(),this.prepareRmanEntityParametersVObject())}cancelEdit(){this.displayDialog=!1,this.rmanRuleParameterValue=new bo}cancelSearch(){this.displaySearchDialog=!1,this.rmanRuleParameterValueSearch=new bo}parentCall(e){this.masterData=e,""!=e?(this.pRuleHeaderId=e.ruleHeaderId,this.pRuleCategory=e.ruleCategory,this.rmanEntityParametersVService.getAllRmanEntityParametersV(this.paginationOptions,{entityCategory:this.pRuleCategory},"Y").then(e=>{this.rmanEntityParametersVList=e.content,this.prepareRmanEntityParametersVObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Parameter ID" data'),this.loading=!1}),this.getAllRmanRuleParameterValue()):(this.pRuleHeaderId=null,this.rmanRuleParameterValueList=[])}saveOrUpdate(e){this.notificationService.showSuccess(e),this.loading=!1,this.getAllRmanRuleParameterValue()}save(){this.newRmanRuleParameterValue?(this.rmanRuleParameterValue.ruleHeaderId=this.pRuleHeaderId,this.loading=!0,this.rmanRuleParameterValueService.saveRmanRuleParameterValue(this.rmanRuleParameterValue).then(e=>{this.saveOrUpdate("Saved successfully")}).catch(e=>{this.notificationService.showError("Error occured while saving data"),this.loading=!1})):(this.loading=!0,this.rmanRuleParameterValueService.updateRmanRuleParameterValue(this.rmanRuleParameterValue).then(e=>{this.saveOrUpdate("Updated successfully")}).catch(e=>{this.notificationService.showError("Error occured while updating the data"),this.loading=!1})),this.rmanRuleParameterValue=new bo,this.displayDialog=!1}delete(e){this.rmanRuleParameterValue=e,this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.rmanRuleParameterValueList.splice(this.findSelectedRmanRuleParameterValueIndex(),1),this.loading=!0,this.rmanRuleParameterValueService.deleteRmanRuleParameterValue(this.rmanRuleParameterValue).then(e=>{this.loading=!1,this.rmanRuleParameterValue=new bo,this.getAllRmanRuleParameterValue()}),this.notificationService.showSuccess("Deleted successfully")},reject:()=>{this.notificationService.showWarning("You have rejected")}})}editRow(e){this.newRmanRuleParameterValue=!1,this.rmanRuleParameterValue=this.cloneRmanRuleParameterValue(e),this.displayDialog=!0,this.prepareRmanLookupsVObject(),this.prepareRmanLookupsV1Object(),this.prepareRmanEntityParametersVObject()}findSelectedRmanRuleParameterValueIndex(){return this.rmanRuleParameterValueList.indexOf(this.selectedRmanRuleParameterValue)}onRowSelect(e){}cloneRmanRuleParameterValue(e){let t=new bo;for(let i in e)t[i]=e[i];return t}toggleColumnMenu(){this.hideColumnMenu=!this.hideColumnMenu}toggleFilterBox(){this.showFilter=!this.showFilter}showDialogToSearch(){this.rmanRuleParameterValueSearch=new bo,0==this.isSerached&&(this.rmanRuleParameterValueSearch=new bo),this.displaySearchDialog=!0}search(){this.isSerached=1,this.rmanRuleParameterValue=this.rmanRuleParameterValueSearch,this.paginationOptions={},this.getAllRmanRuleParameterValue(this.rmanRuleParameterValue)}prepareRmanLookupsVObject(){let e=[{label:"--Select Qualifier(*)--",value:null}];this.rmanLookupsVList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV=e}prepareRmanLookupsV1Object(){let e=[{label:"--Select And/Or--",value:null}];this.rmanLookupsV1List.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV1=e}prepareRmanEntityParametersVObject(){let e=[{label:"--Select Parameter ID(*)--",value:null}];this.rmanEntityParametersVList.forEach(t=>{e.push({label:t.parameterName,value:t.entityParameterId})}),this.rmanEntityParametersV=e}onBeforeToggleRuleParameters(e){this.collapsedRuleParameters=e.collapsed}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(In),l.Pb(u.a),l.Pb(An.a),l.Pb(n.c),l.Pb(o.a),l.Pb(m.a),l.Pb(h.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["rmanRuleParameterValue-data"]],inputs:{pRuleHeaderId:"pRuleHeaderId",pRuleCategory:"pRuleCategory"},features:[l.Db([In,An.a,o.a]),l.Cb],decls:66,vars:43,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Add",3,"click",4,"isAuthorized"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","ruleParameter-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","columns","value","lazy","paginator","rows","totalRecords","resizableColumns","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Search","width","800","showEffect","fade",3,"visible","draggable","modal","blockScroll","visibleChange","onHide"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"selectSpan"],[1,"md-inputfield"],["pInputText","","name","parameterGroup","id","parameterGroup","required","","placeholder","Parameter Group",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],["pInputText","","name","parameterName","id","parameterName","required","","placeholder","Parameter Name",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["name","qualifier","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],["name","andOr","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],["pInputText","","name","parameterValue","id","parameterValue","required","","placeholder","Parameter Value",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["width","800","showEffect","fade",3,"header","visible","draggable","modal","blockScroll","visibleChange","onHide"],["novalidate","",3,"formGroup","ngSubmit"],["class","ui-grid ui-grid-responsive ui-fluid",4,"ngIf"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["header","Confirmation","icon","fa fa-question-circle","width","425"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow"],["class","icon-edit","title","Edit",3,"click",4,"isAuthorized"],["class","icon-delete","title","Delete",3,"click",4,"isAuthorized"],["title","Edit",1,"icon-edit",3,"click"],["title","Delete",1,"icon-delete",3,"click"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-results-data"],[1,"ui-g"],[1,"red-color"],["name","parameterId","formControlName","name","appendTo","body",3,"options","ngModel","filter","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["name","qualifier","formControlName","qualifier","appendTo","body",3,"options","ngModel","filter","ngModelChange"],[1,"d-none"],[1,"ui-grid-col-4"],["for","parameterValueId"],[1,"ui-grid-col-8"],["pInputText","","name","parameterValueId","id","parameterValueId","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","ruleHeaderId"],["pInputText","","name","ruleHeaderId","id","ruleHeaderId","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute1"],["pInputText","","name","attribute1","id","attribute1","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute2"],["pInputText","","name","attribute2","id","attribute2","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute3"],["pInputText","","name","attribute3","id","attribute3","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute4"],["pInputText","","name","attribute4","id","attribute4","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute5"],["pInputText","","name","attribute5","id","attribute5","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute6"],["pInputText","","name","attribute6","id","attribute6","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute7"],["pInputText","","name","attribute7","id","attribute7","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute8"],["pInputText","","name","attribute8","id","attribute8","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute9"],["pInputText","","name","attribute9","id","attribute9","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute10"],["pInputText","","name","attribute10","id","attribute10","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute11"],["pInputText","","name","attribute11","id","attribute11","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute12"],["pInputText","","name","attribute12","id","attribute12","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute13"],["pInputText","","name","attribute13","id","attribute13","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute14"],["pInputText","","name","attribute14","id","attribute14","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute15"],["pInputText","","name","attribute15","id","attribute15","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute16"],["pInputText","","name","attribute16","id","attribute16","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute17"],["pInputText","","name","attribute17","id","attribute17","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute18"],["pInputText","","name","attribute18","id","attribute18","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute19"],["pInputText","","name","attribute19","id","attribute19","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute20"],["pInputText","","name","attribute20","id","attribute20","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute21"],["pInputText","","name","attribute21","id","attribute21","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute22"],["pInputText","","name","attribute22","id","attribute22","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute23"],["pInputText","","name","attribute23","id","attribute23","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute24"],["pInputText","","name","attribute24","id","attribute24","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute25"],["pInputText","","name","attribute25","id","attribute25","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute26"],["pInputText","","name","attribute26","id","attribute26","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute27"],["pInputText","","name","attribute27","id","attribute27","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute28"],["pInputText","","name","attribute28","id","attribute28","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute29"],["pInputText","","name","attribute29","id","attribute29","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute30"],["pInputText","","name","attribute30","id","attribute30","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","creationDate"],["pInputText","","name","creationDate","id","creationDate","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","createdBy"],["pInputText","","name","createdBy","id","createdBy","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","lastUpdateDate"],["pInputText","","name","lastUpdateDate","id","lastUpdateDate","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","lastUpdatedBy"],["pInputText","","name","lastUpdatedBy","id","lastUpdatedBy","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","dealFlag"],["pInputText","","name","dealFlag","id","dealFlag","required","",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(e,t){if(1&e){const e=l.Wb();l.Qb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"h2"),l.Mc(7),l.Ub(),l.Vb(8,"div",6),l.Vb(9,"a",7),l.dc("click",(function(e){return t.onConfiguringColumns(e)})),l.Qb(10,"em",8),l.Mc(11,"Columns"),l.Ub(),l.Kc(12,Fn,2,0,"a",9),l.Vb(13,"a",10),l.dc("click",(function(){return t.showDialogToSearch()})),l.Qb(14,"em",11),l.Ub(),l.Vb(15,"a",12),l.dc("click",(function(){l.Dc(e);const i=l.Bc(20);return t.reset(i)})),l.Qb(16,"em",13),l.Ub(),l.Kc(17,Hn,15,5,"div",14),l.Ub(),l.Vb(18,"div",15),l.Vb(19,"p-table",16,17),l.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getRmanRuleParameterValue(e)})),l.Kc(21,Kn,3,1,"ng-template",18),l.Kc(22,Qn,3,1,"ng-template",19),l.Kc(23,ao,5,6,"ng-template",20),l.Kc(24,no,3,1,"ng-template",21),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(25,"p-dialog",22),l.dc("visibleChange",(function(e){return t.displaySearchDialog=e}))("onHide",(function(){return t.cancelSearch()})),l.Vb(26,"form"),l.Vb(27,"div",23),l.Vb(28,"div",24),l.Vb(29,"div",25),l.Vb(30,"span",26),l.Mc(31," Parameter Group "),l.Ub(),l.Vb(32,"span",27),l.Vb(33,"input",28),l.dc("ngModelChange",(function(e){return t.rmanRuleParameterValueSearch.parameterGroup=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(34,"div",29),l.Vb(35,"span",26),l.Mc(36," Parameter Name "),l.Ub(),l.Vb(37,"span",27),l.Vb(38,"input",30),l.dc("ngModelChange",(function(e){return t.rmanRuleParameterValueSearch.parameterName=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(39,"div",24),l.Vb(40,"div",25),l.Vb(41,"span",26),l.Mc(42," Qualifier "),l.Ub(),l.Vb(43,"p-dropdown",31),l.dc("ngModelChange",(function(e){return t.rmanRuleParameterValueSearch.qualifier=e})),l.Ub(),l.Ub(),l.Vb(44,"div",29),l.Vb(45,"span",26),l.Mc(46," And/Or "),l.Ub(),l.Vb(47,"p-dropdown",32),l.dc("ngModelChange",(function(e){return t.rmanRuleParameterValueSearch.andOr=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(48,"div",24),l.Vb(49,"div",25),l.Vb(50,"span",26),l.Mc(51," Parameter Value "),l.Ub(),l.Vb(52,"span",27),l.Vb(53,"input",33),l.dc("ngModelChange",(function(e){return t.rmanRuleParameterValueSearch.parameterValue=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(54,"p-footer"),l.Vb(55,"div",34),l.Vb(56,"button",35),l.dc("click",(function(){return t.search()})),l.Ub(),l.Vb(57,"button",36),l.dc("click",(function(){return t.displaySearchDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(58,"p-dialog",37),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancelEdit()})),l.Vb(59,"form",38),l.dc("ngSubmit",(function(){return t.save()})),l.Kc(60,so,255,167,"div",39),l.Ub(),l.Vb(61,"p-footer"),l.Vb(62,"div",34),l.Vb(63,"button",40),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(64,"button",36),l.dc("click",(function(){return t.displayDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(65,"p-confirmDialog",41)}2&e&&(l.Eb(7),l.Oc("Revenue Contract Results: ",null==t.masterData?null:t.masterData.ruleName," "),l.Eb(5),l.oc("isAuthorized",l.rc(37,io)),l.Eb(5),l.oc("ngIf",!t.showAddColumns),l.Eb(2),l.oc("loading",t.loading)("columns",t.columns)("value",t.rmanRuleParameterValueList)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("resizableColumns",!0),l.Eb(6),l.oc("visible",t.displaySearchDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(8),l.oc("ngModelOptions",l.rc(38,lo))("ngModel",t.rmanRuleParameterValueSearch.parameterGroup),l.Eb(5),l.oc("ngModelOptions",l.rc(39,lo))("ngModel",t.rmanRuleParameterValueSearch.parameterName),l.Eb(5),l.oc("options",t.rmanLookupsV)("ngModelOptions",l.rc(40,lo))("ngModel",t.rmanRuleParameterValueSearch.qualifier)("filter",!0),l.Eb(4),l.oc("options",t.rmanLookupsV1)("ngModelOptions",l.rc(41,lo))("ngModel",t.rmanRuleParameterValueSearch.andOr)("filter",!0),l.Eb(6),l.oc("ngModelOptions",l.rc(42,lo))("ngModel",t.rmanRuleParameterValueSearch.parameterValue),l.Eb(5),l.pc("header",t.newRmanRuleParameterValue?"Create New Rule Parameter":"Edit Rule Parameter"),l.oc("visible",t.displayDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.ruleParametersForm),l.Eb(1),l.oc("ngIf",t.rmanRuleParameterValue),l.Eb(3),l.oc("disabled",!t.ruleParametersForm.valid))},directives:[V.a,v.o,y.j,o.f,M.a,n.v,n.l,n.m,n.b,S.a,n.s,n.k,n.n,R.a,o.b,C.b,n.g,E.a,D.a,k.b,k.c,n.a,v.p,v.n,y.g,y.i,n.e],pipes:[v.f,O.a],encapsulation:2}),e})();class bo{constructor(e,t,i,a,n,o,r,l,s,c,d,u,b,p,g,h,m,f,V,v,y,M,U,C,R,S,E,D,k,w,A,O,P,I,F,N,T,L,x,B,H,q){this.attribute10=e,this.dealFlag=t,this.attribute30=i,this.attribute14=a,this.ruleHeaderId=n,this.attribute13=o,this.attribute12=r,this.attribute11=l,this.lastUpdateDate=s,this.attribute29=c,this.attribute28=d,this.attribute27=u,this.attribute26=b,this.parameterValueId=p,this.parameterId=g,this.attribute3=h,this.attribute21=m,this.createdBy=f,this.attribute2=V,this.attribute20=v,this.lastUpdatedBy=y,this.attribute1=M,this.attribute25=U,this.attribute24=C,this.attribute23=R,this.attribute22=S,this.creationDate=E,this.attribute9=D,this.attribute8=k,this.attribute7=w,this.attribute6=A,this.attribute5=O,this.attribute4=P,this.parameterGroup=I,this.attribute18=F,this.attribute17=N,this.attribute16=T,this.attribute15=L,this.qualifier=x,this.andOr=B,this.parameterValue=H,this.attribute19=q}}const po=i("+yMW"),go={headers:new r.f({"Content-Type":"application/json"})};let ho=(()=>{class e{constructor(e){this.http=e}getAllRmanRulesHeader(e,t){let i=po.apiUrl+"/rmanRulesHeaderSearch?",a="";return["ruleHeaderId","ruleName","ruleCategory","ruleStartDate","ruleEndDate","attribute1","attribute2","attribute3","attribute4","attribute5","attribute6","attribute7","attribute8","attribute9","attribute10","attribute11","attribute12","attribute13","attribute14","attribute15","attribute16","attribute17","attribute18","attribute19","attribute20","attribute21","attribute22","attribute23","attribute24","attribute25","attribute26","attribute27","attribute28","attribute29","attribute30","creationDate","createdBy","lastUpdateDate","description","ruleMasterId","approverId","sequenceNumber","dealFlag"].forEach(e=>{null!=t[e]&&""!=t[e]&&(a=a+e+":"+t[e]+",")}),""==a?i+="search=%25":i=i+"search="+a,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(i=i+"&page="+e.pageNumber+"&size="+e.pageSize),this.http.get(i).toPromise().then(e=>e)}saveRmanRulesHeader(e){let t=JSON.stringify(e);return this.http.post(po.apiUrl+"/RMAN_RULES_HEADER",t,go).toPromise().then(e=>e)}updateRmanRulesHeader(e){delete e._links,delete e.interests;let t=JSON.stringify(e);return this.http.put(po.apiUrl+"/RMAN_RULES_HEADER/"+e.ruleHeaderId,t,go).toPromise().then(e=>e)}deleteRmanRulesHeader(e){return this.http.delete(po.apiUrl+"/RMAN_RULES_HEADER/"+e.ruleHeaderId,go).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac}),e})();function mo(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",56),l.dc("click",(function(){return l.Dc(e),l.gc().showDialogToAdd()})),l.Qb(1,"em",57),l.Ub()}}function fo(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",69),l.dc("onDragStart",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDragStart(t)}))("onDrop",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDrop(t)})),l.Vb(2,"div",70),l.Vb(3,"input",71),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label"),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField),l.Eb(2),l.Nc(e.header)}}const Vo=function(){return{color:"grey"}};function vo(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",72),l.Vb(2,"div"),l.Vb(3,"input",73),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label",74),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),l.Eb(1),l.oc("ngStyle",l.rc(5,Vo)),l.Eb(1),l.Nc(e.header)}}function yo(e,t){if(1&e&&(l.Kc(0,fo,6,3,"div",53),l.Kc(1,vo,6,6,"div",53)),2&e){const e=t.$implicit;l.oc("ngIf",e.drag),l.Eb(1),l.oc("ngIf",!e.drag)}}const Mo=function(){return{width:"100%",height:"100%"}};function Uo(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",58),l.Vb(1,"div",59),l.Vb(2,"div",60),l.Vb(3,"input",61),l.dc("click",(function(){return l.Dc(e),l.gc().onSelectAll()})),l.Ub(),l.Vb(4,"label",62),l.Mc(5,"Select All"),l.Ub(),l.Vb(6,"a",63),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(7,"\xd7"),l.Ub(),l.Vb(8,"p-listbox",64),l.Kc(9,yo,2,2,"ng-template",65),l.Ub(),l.Ub(),l.Vb(10,"div",66),l.Vb(11,"a",67),l.dc("click",(function(){return l.Dc(e),l.gc().saveColumns()})),l.Mc(12,"Save"),l.Ub(),l.Vb(13,"a",68),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(14,"Cancel"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(3),l.oc("checked",e.isSelectAllChecked),l.Eb(5),l.Ic(l.rc(4,Mo)),l.oc("options",e.globalCols)}}function Co(e,t){1&e&&l.Qb(0,"col")}function Ro(e,t){if(1&e&&(l.Vb(0,"colgroup"),l.Qb(1,"col"),l.Kc(2,Co,1,0,"col",75),l.Ub()),2&e){const e=t.$implicit;l.Eb(2),l.oc("ngForOf",e)}}const So=function(e){return{display:e}};function Eo(e,t){if(1&e&&(l.Vb(0,"th",78),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,So,e.display)),l.Eb(1),l.Nc(e.header)}}function Do(e,t){if(1&e&&(l.Vb(0,"th",79),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,So,e.display)),l.Eb(1),l.Nc(e.header)}}function ko(e,t){if(1&e&&(l.Tb(0),l.Kc(1,Eo,2,5,"th",76),l.Kc(2,Do,2,5,"th",77),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type||"date"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function wo(e,t){if(1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Kc(2,ko,3,2,"ng-container",75),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.oc("ngForOf",e.columns)}}function Ao(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",83),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().editRow(t)})),l.Ub()}}function Oo(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",84),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().delete(t)})),l.Ub()}}function Po(e,t){if(1&e&&(l.Vb(0,"td",87),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,So,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function Io(e,t){if(1&e&&(l.Vb(0,"td",88),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,So,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function Fo(e,t){if(1&e&&(l.Vb(0,"td",87),l.hc(1,"date"),l.Mc(2),l.hc(3,"date"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.jc(1,3,t[e.field],"MM/dd/yyyy")),l.oc("ngStyle",l.sc(9,So,e.display)),l.Eb(2),l.Oc(" ",l.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function No(e,t){if(1&e&&(l.Vb(0,"td",88),l.hc(1,"round"),l.Mc(2),l.hc(3,"round"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.ic(1,3,t[e.field])),l.oc("ngStyle",l.sc(7,So,e.display)),l.Eb(2),l.Oc(" ",l.ic(3,5,t[e.field])," ")}}function To(e,t){if(1&e&&(l.Tb(0),l.Kc(1,Po,2,5,"td",85),l.Kc(2,Io,2,5,"td",86),l.Kc(3,Fo,4,11,"td",85),l.Kc(4,No,4,9,"td",86),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type),l.Eb(1),l.oc("ngIf","date"==e.type),l.Eb(1),l.oc("ngIf","round"==e.type)}}const Lo=function(){return["write","MAR"]};function xo(e,t){if(1&e&&(l.Vb(0,"tr",80),l.Vb(1,"td"),l.Kc(2,Ao,1,0,"a",81),l.Kc(3,Oo,1,0,"a",82),l.Ub(),l.Kc(4,To,5,4,"ng-container",75),l.Ub()),2&e){const e=t.columns;l.oc("pSelectableRow",t.$implicit),l.Eb(2),l.oc("isAuthorized",l.rc(4,Lo)),l.Eb(1),l.oc("isAuthorized",l.rc(5,Lo)),l.Eb(1),l.oc("ngForOf",e)}}function Bo(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td",89),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc(2);l.Eb(2),l.Nc(e.noData)}}function Ho(e,t){1&e&&l.Kc(0,Bo,3,1,"tr",53),2&e&&l.oc("ngIf",!t.$implicit)}function qo(e,t){if(1&e&&(l.Vb(0,"div",175),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.name," ")}}function Ko(e,t){if(1&e&&(l.Vb(0,"div",175),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.category," ")}}function zo(e,t){if(1&e&&(l.Vb(0,"div",175),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.sequence," ")}}function jo(e,t){if(1&e&&(l.Vb(0,"div",175),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.startDate," ")}}const $o=function(){return{standalone:!0}};function _o(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",25),l.Vb(1,"div",90),l.Vb(2,"div",26),l.Vb(3,"div",27),l.Vb(4,"span",28),l.Vb(5,"span",29),l.Mc(6," Rule Name "),l.Vb(7,"span",91),l.Mc(8,"*"),l.Ub(),l.Ub(),l.Vb(9,"input",92),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.ruleName=t})),l.Ub(),l.Kc(10,qo,2,1,"div",93),l.Ub(),l.Ub(),l.Vb(11,"div",31),l.Vb(12,"span",29),l.Mc(13," Rule Category "),l.Vb(14,"span",91),l.Mc(15,"*"),l.Ub(),l.Ub(),l.Vb(16,"p-dropdown",94),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.ruleCategory=t})),l.Ub(),l.Kc(17,Ko,2,1,"div",93),l.Ub(),l.Ub(),l.Vb(18,"div",26),l.Vb(19,"div",27),l.Vb(20,"span",28),l.Vb(21,"span",29),l.Mc(22," Sequence Number "),l.Vb(23,"span",91),l.Mc(24,"*"),l.Ub(),l.Ub(),l.Vb(25,"input",95),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.sequenceNumber=t})),l.Ub(),l.Kc(26,zo,2,1,"div",93),l.Ub(),l.Ub(),l.Vb(27,"div",31),l.Vb(28,"span",28),l.Vb(29,"span",29),l.Mc(30," Description "),l.Ub(),l.Vb(31,"input",32),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.description=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(32,"div",26),l.Vb(33,"div",27),l.Vb(34,"span",29),l.Mc(35,"Rule Start Date "),l.Vb(36,"span",91),l.Mc(37,"*"),l.Ub(),l.Ub(),l.Vb(38,"p-calendar",96),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.ruleStartDate=t})),l.Kc(39,jo,2,1,"div",93),l.Ub(),l.Ub(),l.Vb(40,"div",31),l.Vb(41,"span",29),l.Mc(42,"Rule End Date"),l.Ub(),l.Vb(43,"p-calendar",97),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.ruleEndDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(44,"div",98),l.Vb(45,"div",99),l.Vb(46,"label",100),l.Mc(47),l.Ub(),l.Ub(),l.Vb(48,"div",101),l.Vb(49,"input",102),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.ruleHeaderId=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(50,"div",98),l.Vb(51,"div",99),l.Vb(52,"label",103),l.Mc(53),l.Ub(),l.Ub(),l.Vb(54,"div",101),l.Vb(55,"input",104),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute2=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(56,"div",98),l.Vb(57,"div",99),l.Vb(58,"label",105),l.Mc(59),l.Ub(),l.Ub(),l.Vb(60,"div",101),l.Vb(61,"input",106),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute3=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(62,"div",98),l.Vb(63,"div",99),l.Vb(64,"label",107),l.Mc(65),l.Ub(),l.Ub(),l.Vb(66,"div",101),l.Vb(67,"input",108),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute4=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(68,"div",98),l.Vb(69,"div",99),l.Vb(70,"label",109),l.Mc(71),l.Ub(),l.Ub(),l.Vb(72,"div",101),l.Vb(73,"input",110),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute5=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(74,"div",98),l.Vb(75,"div",99),l.Vb(76,"label",111),l.Mc(77),l.Ub(),l.Ub(),l.Vb(78,"div",101),l.Vb(79,"input",112),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute6=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(80,"div",98),l.Vb(81,"div",99),l.Vb(82,"label",113),l.Mc(83),l.Ub(),l.Ub(),l.Vb(84,"div",101),l.Vb(85,"input",114),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute7=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(86,"div",98),l.Vb(87,"div",99),l.Vb(88,"label",115),l.Mc(89),l.Ub(),l.Ub(),l.Vb(90,"div",101),l.Vb(91,"input",116),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute8=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(92,"div",98),l.Vb(93,"div",99),l.Vb(94,"label",117),l.Mc(95),l.Ub(),l.Ub(),l.Vb(96,"div",101),l.Vb(97,"input",118),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute9=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(98,"div",98),l.Vb(99,"div",99),l.Vb(100,"label",119),l.Mc(101),l.Ub(),l.Ub(),l.Vb(102,"div",101),l.Vb(103,"input",120),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute10=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(104,"div",98),l.Vb(105,"div",99),l.Vb(106,"label",121),l.Mc(107),l.Ub(),l.Ub(),l.Vb(108,"div",101),l.Vb(109,"input",122),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute11=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(110,"div",98),l.Vb(111,"div",99),l.Vb(112,"label",123),l.Mc(113),l.Ub(),l.Ub(),l.Vb(114,"div",101),l.Vb(115,"input",124),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute12=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(116,"div",98),l.Vb(117,"div",99),l.Vb(118,"label",125),l.Mc(119),l.Ub(),l.Ub(),l.Vb(120,"div",101),l.Vb(121,"input",126),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute13=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(122,"div",98),l.Vb(123,"div",99),l.Vb(124,"label",127),l.Mc(125),l.Ub(),l.Ub(),l.Vb(126,"div",101),l.Vb(127,"input",128),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute14=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(128,"div",98),l.Vb(129,"div",99),l.Vb(130,"label",129),l.Mc(131),l.Ub(),l.Ub(),l.Vb(132,"div",101),l.Vb(133,"input",130),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute15=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(134,"div",98),l.Vb(135,"div",99),l.Vb(136,"label",131),l.Mc(137),l.Ub(),l.Ub(),l.Vb(138,"div",101),l.Vb(139,"input",132),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute16=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(140,"div",98),l.Vb(141,"div",99),l.Vb(142,"label",133),l.Mc(143),l.Ub(),l.Ub(),l.Vb(144,"div",101),l.Vb(145,"input",134),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute17=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(146,"div",98),l.Vb(147,"div",99),l.Vb(148,"label",135),l.Mc(149),l.Ub(),l.Ub(),l.Vb(150,"div",101),l.Vb(151,"input",136),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute18=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(152,"div",98),l.Vb(153,"div",99),l.Vb(154,"label",137),l.Mc(155),l.Ub(),l.Ub(),l.Vb(156,"div",101),l.Vb(157,"input",138),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute19=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(158,"div",98),l.Vb(159,"div",99),l.Vb(160,"label",139),l.Mc(161),l.Ub(),l.Ub(),l.Vb(162,"div",101),l.Vb(163,"input",140),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute20=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(164,"div",98),l.Vb(165,"div",99),l.Vb(166,"label",141),l.Mc(167),l.Ub(),l.Ub(),l.Vb(168,"div",101),l.Vb(169,"input",142),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute21=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(170,"div",98),l.Vb(171,"div",99),l.Vb(172,"label",143),l.Mc(173),l.Ub(),l.Ub(),l.Vb(174,"div",101),l.Vb(175,"input",144),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute22=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(176,"div",98),l.Vb(177,"div",99),l.Vb(178,"label",145),l.Mc(179),l.Ub(),l.Ub(),l.Vb(180,"div",101),l.Vb(181,"input",146),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute23=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(182,"div",98),l.Vb(183,"div",99),l.Vb(184,"label",147),l.Mc(185),l.Ub(),l.Ub(),l.Vb(186,"div",101),l.Vb(187,"input",148),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute24=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(188,"div",98),l.Vb(189,"div",99),l.Vb(190,"label",149),l.Mc(191),l.Ub(),l.Ub(),l.Vb(192,"div",101),l.Vb(193,"input",150),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute25=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(194,"div",98),l.Vb(195,"div",99),l.Vb(196,"label",151),l.Mc(197),l.Ub(),l.Ub(),l.Vb(198,"div",101),l.Vb(199,"input",152),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute26=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(200,"div",98),l.Vb(201,"div",99),l.Vb(202,"label",153),l.Mc(203),l.Ub(),l.Ub(),l.Vb(204,"div",101),l.Vb(205,"input",154),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute27=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(206,"div",98),l.Vb(207,"div",99),l.Vb(208,"label",155),l.Mc(209),l.Ub(),l.Ub(),l.Vb(210,"div",101),l.Vb(211,"input",156),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute28=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(212,"div",98),l.Vb(213,"div",99),l.Vb(214,"label",157),l.Mc(215),l.Ub(),l.Ub(),l.Vb(216,"div",101),l.Vb(217,"input",158),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute29=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(218,"div",98),l.Vb(219,"div",99),l.Vb(220,"label",159),l.Mc(221),l.Ub(),l.Ub(),l.Vb(222,"div",101),l.Vb(223,"input",160),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.attribute30=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(224,"div",98),l.Vb(225,"div",99),l.Vb(226,"label",161),l.Mc(227),l.Ub(),l.Ub(),l.Vb(228,"div",101),l.Vb(229,"input",162),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.creationDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(230,"div",98),l.Vb(231,"div",99),l.Vb(232,"label",163),l.Mc(233),l.Ub(),l.Ub(),l.Vb(234,"div",101),l.Vb(235,"input",164),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.createdBy=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(236,"div",98),l.Vb(237,"div",99),l.Vb(238,"label",165),l.Mc(239),l.Ub(),l.Ub(),l.Vb(240,"div",101),l.Vb(241,"input",166),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.lastUpdateDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(242,"div",98),l.Vb(243,"div",99),l.Vb(244,"label",167),l.Mc(245),l.Ub(),l.Ub(),l.Vb(246,"div",101),l.Vb(247,"input",168),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.lastUpdatedBy=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(248,"div",98),l.Vb(249,"div",99),l.Vb(250,"label",169),l.Mc(251),l.Ub(),l.Ub(),l.Vb(252,"div",101),l.Vb(253,"input",170),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.ruleMasterId=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(254,"div",98),l.Vb(255,"div",99),l.Vb(256,"label",171),l.Mc(257),l.Ub(),l.Ub(),l.Vb(258,"div",101),l.Vb(259,"input",172),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.approverId=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(260,"div",98),l.Vb(261,"div",99),l.Vb(262,"label",173),l.Mc(263),l.Ub(),l.Ub(),l.Vb(264,"div",101),l.Vb(265,"input",174),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.dealFlag=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(9),l.oc("ngModel",e.rmanRulesHeader.ruleName),l.Eb(1),l.oc("ngIf",e.formErrors.name),l.Eb(6),l.oc("options",e.rmanLookupsV)("ngModel",e.rmanRulesHeader.ruleCategory)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.category),l.Eb(8),l.oc("ngModel",e.rmanRulesHeader.sequenceNumber),l.Eb(1),l.oc("ngIf",e.formErrors.sequence),l.Eb(5),l.oc("ngModelOptions",l.rc(129,$o))("ngModel",e.rmanRulesHeader.description),l.Eb(7),l.oc("ngModel",e.rmanRulesHeader.ruleStartDate)("monthNavigator",!0)("yearNavigator",!0),l.Eb(1),l.oc("ngIf",e.formErrors.startDate),l.Eb(4),l.oc("ngModelOptions",l.rc(130,$o))("ngModel",e.rmanRulesHeader.ruleEndDate)("monthNavigator",!0)("yearNavigator",!0),l.Eb(4),l.Nc(e.columns.ruleHeaderId),l.Eb(2),l.oc("ngModelOptions",l.rc(131,$o))("ngModel",e.rmanRulesHeader.ruleHeaderId),l.Eb(4),l.Nc(e.columns.attribute2),l.Eb(2),l.oc("ngModelOptions",l.rc(132,$o))("ngModel",e.rmanRulesHeader.attribute2),l.Eb(4),l.Nc(e.columns.attribute3),l.Eb(2),l.oc("ngModelOptions",l.rc(133,$o))("ngModel",e.rmanRulesHeader.attribute3),l.Eb(4),l.Nc(e.columns.attribute4),l.Eb(2),l.oc("ngModelOptions",l.rc(134,$o))("ngModel",e.rmanRulesHeader.attribute4),l.Eb(4),l.Nc(e.columns.attribute5),l.Eb(2),l.oc("ngModelOptions",l.rc(135,$o))("ngModel",e.rmanRulesHeader.attribute5),l.Eb(4),l.Nc(e.columns.attribute6),l.Eb(2),l.oc("ngModelOptions",l.rc(136,$o))("ngModel",e.rmanRulesHeader.attribute6),l.Eb(4),l.Nc(e.columns.attribute7),l.Eb(2),l.oc("ngModelOptions",l.rc(137,$o))("ngModel",e.rmanRulesHeader.attribute7),l.Eb(4),l.Nc(e.columns.attribute8),l.Eb(2),l.oc("ngModelOptions",l.rc(138,$o))("ngModel",e.rmanRulesHeader.attribute8),l.Eb(4),l.Nc(e.columns.attribute9),l.Eb(2),l.oc("ngModelOptions",l.rc(139,$o))("ngModel",e.rmanRulesHeader.attribute9),l.Eb(4),l.Nc(e.columns.attribute10),l.Eb(2),l.oc("ngModelOptions",l.rc(140,$o))("ngModel",e.rmanRulesHeader.attribute10),l.Eb(4),l.Nc(e.columns.attribute11),l.Eb(2),l.oc("ngModelOptions",l.rc(141,$o))("ngModel",e.rmanRulesHeader.attribute11),l.Eb(4),l.Nc(e.columns.attribute12),l.Eb(2),l.oc("ngModelOptions",l.rc(142,$o))("ngModel",e.rmanRulesHeader.attribute12),l.Eb(4),l.Nc(e.columns.attribute13),l.Eb(2),l.oc("ngModelOptions",l.rc(143,$o))("ngModel",e.rmanRulesHeader.attribute13),l.Eb(4),l.Nc(e.columns.attribute14),l.Eb(2),l.oc("ngModelOptions",l.rc(144,$o))("ngModel",e.rmanRulesHeader.attribute14),l.Eb(4),l.Nc(e.columns.attribute15),l.Eb(2),l.oc("ngModelOptions",l.rc(145,$o))("ngModel",e.rmanRulesHeader.attribute15),l.Eb(4),l.Nc(e.columns.attribute16),l.Eb(2),l.oc("ngModelOptions",l.rc(146,$o))("ngModel",e.rmanRulesHeader.attribute16),l.Eb(4),l.Nc(e.columns.attribute17),l.Eb(2),l.oc("ngModelOptions",l.rc(147,$o))("ngModel",e.rmanRulesHeader.attribute17),l.Eb(4),l.Nc(e.columns.attribute18),l.Eb(2),l.oc("ngModelOptions",l.rc(148,$o))("ngModel",e.rmanRulesHeader.attribute18),l.Eb(4),l.Nc(e.columns.attribute19),l.Eb(2),l.oc("ngModelOptions",l.rc(149,$o))("ngModel",e.rmanRulesHeader.attribute19),l.Eb(4),l.Nc(e.columns.attribute20),l.Eb(2),l.oc("ngModelOptions",l.rc(150,$o))("ngModel",e.rmanRulesHeader.attribute20),l.Eb(4),l.Nc(e.columns.attribute21),l.Eb(2),l.oc("ngModelOptions",l.rc(151,$o))("ngModel",e.rmanRulesHeader.attribute21),l.Eb(4),l.Nc(e.columns.attribute22),l.Eb(2),l.oc("ngModelOptions",l.rc(152,$o))("ngModel",e.rmanRulesHeader.attribute22),l.Eb(4),l.Nc(e.columns.attribute23),l.Eb(2),l.oc("ngModelOptions",l.rc(153,$o))("ngModel",e.rmanRulesHeader.attribute23),l.Eb(4),l.Nc(e.columns.attribute24),l.Eb(2),l.oc("ngModelOptions",l.rc(154,$o))("ngModel",e.rmanRulesHeader.attribute24),l.Eb(4),l.Nc(e.columns.attribute25),l.Eb(2),l.oc("ngModelOptions",l.rc(155,$o))("ngModel",e.rmanRulesHeader.attribute25),l.Eb(4),l.Nc(e.columns.attribute26),l.Eb(2),l.oc("ngModelOptions",l.rc(156,$o))("ngModel",e.rmanRulesHeader.attribute26),l.Eb(4),l.Nc(e.columns.attribute27),l.Eb(2),l.oc("ngModelOptions",l.rc(157,$o))("ngModel",e.rmanRulesHeader.attribute27),l.Eb(4),l.Nc(e.columns.attribute28),l.Eb(2),l.oc("ngModelOptions",l.rc(158,$o))("ngModel",e.rmanRulesHeader.attribute28),l.Eb(4),l.Nc(e.columns.attribute29),l.Eb(2),l.oc("ngModelOptions",l.rc(159,$o))("ngModel",e.rmanRulesHeader.attribute29),l.Eb(4),l.Nc(e.columns.attribute30),l.Eb(2),l.oc("ngModelOptions",l.rc(160,$o))("ngModel",e.rmanRulesHeader.attribute30),l.Eb(4),l.Nc(e.columns.creationDate),l.Eb(2),l.oc("ngModelOptions",l.rc(161,$o))("ngModel",e.rmanRulesHeader.creationDate),l.Eb(4),l.Nc(e.columns.createdBy),l.Eb(2),l.oc("ngModelOptions",l.rc(162,$o))("ngModel",e.rmanRulesHeader.createdBy),l.Eb(4),l.Nc(e.columns.lastUpdateDate),l.Eb(2),l.oc("ngModelOptions",l.rc(163,$o))("ngModel",e.rmanRulesHeader.lastUpdateDate),l.Eb(4),l.Nc(e.columns.lastUpdatedBy),l.Eb(2),l.oc("ngModelOptions",l.rc(164,$o))("ngModel",e.rmanRulesHeader.lastUpdatedBy),l.Eb(4),l.Nc(e.columns.ruleMasterId),l.Eb(2),l.oc("ngModelOptions",l.rc(165,$o))("ngModel",e.rmanRulesHeader.ruleMasterId),l.Eb(4),l.Nc(e.columns.approverId),l.Eb(2),l.oc("ngModelOptions",l.rc(166,$o))("ngModel",e.rmanRulesHeader.approverId),l.Eb(4),l.Nc(e.columns.dealFlag),l.Eb(2),l.oc("ngModelOptions",l.rc(167,$o))("ngModel",e.rmanRulesHeader.dealFlag)}}function Qo(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Rule Name"),l.Ub())}function Go(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Rule Category"),l.Ub())}function Wo(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Rule Start Date"),l.Ub())}const Yo=i("+yMW");let Jo=(()=>{class e{constructor(e,t,i,a,n,o){this.rmanRulesHeaderService=e,this.rmanLookupsVService=t,this.formBuilder=i,this.confirmationService=a,this.notificationService=n,this.commonSharedService=o,this.rmanRulesHeader=new Zo,this.rmanRulesHeaderSearch=new Zo,this.isSerached=0,this.msgs=[],this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.rmanLookupsVList=[],this.noData=Yo.noData,this.collapsed=!0,this.formErrors={name:"",startDate:"",category:"",sequence:"",attribute2:"",attribute1:""},this.validationMessages={name:{required:"Rule Name is required (minimum length is 4 and maximum length is 65 characters)",minlength:"Rule Name must be at least 4 characters long.",maxlength:"Rule Name cannot be more than 65 characters long."},startDate:{required:"Rule Start Date is Required"},category:{required:"Rule Category is required"},sequence:{required:"Sequence Number is required (Only number values are allowed [0-9])",pattern:"Only number values are allowed [0-9]"},attribute2:{pattern:"Only number values are allowed [0-9]"},attribute1:{minlength:"Element Type must be at least 4 characters long.",maxlength:"Element Type cannot be more than 20 characters long."}},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.loading=!0,this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"RULE_CATEGORY"}).then(e=>{this.loading=!1,this.rmanLookupsVList=e.content,this.prepareRmanLookupsVObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Rule Category" data'),this.loading=!1})}ngOnInit(){this.globalCols=[{field:"ruleName",header:"Rule Name",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"sequenceNumber",header:"Sequence Number",showField:!0,display:"table-cell",type:"number",drag:!1},{field:"ruleCategory",header:"Rule Category",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"ruleStartDate",header:"Rule Start Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"ruleEndDate",header:"Rule End Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"description",header:"Description",showField:!0,display:"table-cell",type:"text",drag:!0}],this.columns=[],this.getTableColumns("revenueContractRules","ContractRules"),this.buildForm()}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];let t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.globalCols.findIndex(t=>t.field==e),this.onDrop(t))}),this.globalCols.forEach(t=>{-1!==e.tableColumns.indexOf(t.field)?this.columns.push(t):t.showField=!1}),this.columns.length!=this.globalCols.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.globalCols}).catch(()=>{this.notificationService.showError("Error occured while getting table columns data"),this.loading=!1})}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.globalCols.length-1;this.globalCols.forEach((i,a)=>{i.showField&&(e+=i.field,a<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("revenueContractRules","ContractRules",e,this.userId).then(e=>{this.columns=this.globalCols.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}selectColumns(e){let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}reset(e){this.paginationOptions={},this.rmanRulesHeader=new Zo,e.reset()}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}buildForm(){this.arrangementRulesForm=this.formBuilder.group({name:["",[n.t.required,n.t.minLength(4),n.t.maxLength(65)]],startDate:["",[n.t.required]],category:["",[n.t.required]],sequence:["",[n.t.required,n.t.pattern("^[0-9]*$")]],attribute2:["",[n.t.pattern("^[0-9]*$")]],attribute1:["",[n.t.minLength(4),n.t.maxLength(20)]]}),this.arrangementRulesForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}onValueChanged(e){if(!this.arrangementRulesForm)return;const t=this.arrangementRulesForm;for(const i in this.formErrors){this.formErrors[i]="";const e=t.get(i);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[i];for(const a in e.errors)this.formErrors[i]+=t[a]+" "}}}transformRmanLookupsV(e){if(e)return e.lookupDescription}getAllRmanRulesHeader(){this.loading=!0,this.rmanRulesHeaderService.getAllRmanRulesHeader(this.paginationOptions,this.rmanRulesHeader).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanRulesHeaderList=e.content,this.rmanRulesHeaderList.length>0?(this.selectedRmanRulesHeader=this.rmanRulesHeaderList[0],this.pRuleHeaderId=this.selectedRmanRulesHeader.ruleHeaderId,this.pRuleCategory=this.selectedRmanRulesHeader.ruleCategory,this.childTable.parentCall(this.selectedRmanRulesHeader)):this.childTable.parentCall(""),this.totalElements=e.totalElements,this.pageSize=e.size,this.displaySearchDialog=!1}).catch(e=>{console.error(e),this.notificationService.showError("Error occured while getting data"),this.loading=!1})}getRmanRulesHeader(e){this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.rmanRulesHeaderService.getAllRmanRulesHeader(this.paginationOptions,this.rmanRulesHeader).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanRulesHeaderList=e.content,this.rmanRulesHeaderList.length>0?(this.selectedRmanRulesHeader=this.rmanRulesHeaderList[0],this.pRuleHeaderId=this.selectedRmanRulesHeader.ruleHeaderId,this.pRuleCategory=this.selectedRmanRulesHeader.ruleCategory,this.childTable.parentCall(this.selectedRmanRulesHeader)):this.childTable.parentCall(""),this.totalElements=e.totalElements,this.pageSize=e.size}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}showDialogToAdd(){this.newRmanRulesHeader=!0,this.rmanRulesHeader=new Zo,this.displayDialog=!0,this.prepareRmanLookupsVObject(),this.buildForm()}saveOrUpdate(e){this.notificationService.showSuccess(e),this.loading=!1,this.getAllRmanRulesHeader()}save(){this.newRmanRulesHeader?(this.loading=!0,this.rmanRulesHeaderService.saveRmanRulesHeader(this.rmanRulesHeader).then(e=>{this.saveOrUpdate("Saved successfully")}).catch(e=>{this.notificationService.showError("Error occured while saving data"),this.loading=!1})):(this.loading=!0,this.rmanRulesHeaderService.updateRmanRulesHeader(this.rmanRulesHeader).then(e=>{this.saveOrUpdate("Updated successfully")}).catch(e=>{this.notificationService.showError("Error occured while updating data"),this.loading=!1})),this.rmanRulesHeader=new Zo,this.displayDialog=!1}delete(e){this.rmanRulesHeader=e,this.rmanRulesHeader.ruleEndDate=new Date(this.rmanRulesHeader.ruleEndDate),this.rmanRulesHeader.ruleStartDate=new Date(this.rmanRulesHeader.ruleStartDate),this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.rmanRulesHeaderList.splice(this.findSelectedRmanRulesHeaderIndex(),1),this.loading=!0,this.rmanRulesHeaderService.deleteRmanRulesHeader(this.rmanRulesHeader).then(e=>{this.loading=!1,this.rmanRulesHeader=new Zo,this.getAllRmanRulesHeader()}),this.notificationService.showSuccess("Deleted successfully")},reject:()=>{this.notificationService.showWarning("You have rejected")}})}editRow(e){this.newRmanRulesHeader=!1,this.rmanRulesHeader=this.cloneRmanRulesHeader(e),this.rmanRulesHeader.ruleEndDate&&(this.rmanRulesHeader.ruleEndDate=new Date(this.rmanRulesHeader.ruleEndDate)),this.rmanRulesHeader.ruleStartDate&&(this.rmanRulesHeader.ruleStartDate=new Date(this.rmanRulesHeader.ruleStartDate)),this.displayDialog=!0,this.prepareRmanLookupsVObject()}findSelectedRmanRulesHeaderIndex(){return this.rmanRulesHeaderList.indexOf(this.selectedRmanRulesHeader)}onRowUnSelect(){this.childTable.parentCall("")}onRowSelect(e){this.selectedRmanRulesHeader=e.data,this.pRuleHeaderId=this.selectedRmanRulesHeader.ruleHeaderId,this.childTable.parentCall(e.data)}cloneRmanRulesHeader(e){let t=new Zo;for(let i in e)t[i]=e[i];return t}toggleColumnMenu(){this.hideColumnMenu=!this.hideColumnMenu}toggleFilterBox(){this.showFilter=!this.showFilter}showDialogToSearch(){this.rmanRulesHeaderSearch=new Zo,0==this.isSerached&&(this.rmanRulesHeaderSearch=new Zo),this.displaySearchDialog=!0}cancelSearch(){this.displaySearchDialog=!1,this.rmanRulesHeaderSearch=new Zo}cancelEdit(){this.displayDialog=!1,this.rmanRulesHeader=new Zo}search(){this.isSerached=1,this.rmanRulesHeader=this.rmanRulesHeaderSearch,this.paginationOptions={},this.getAllRmanRulesHeader()}prepareRmanLookupsVObject(){let e=[{label:"--Select Rule Category(*)--",value:null}];this.rmanLookupsVList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV=e}onBeforeToggle(e){this.collapsed=e.collapsed}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(ho),l.Pb(u.a),l.Pb(n.c),l.Pb(o.a),l.Pb(m.a),l.Pb(h.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["rmanRulesHeader-data"]],viewQuery:function(e,t){var i;1&e&&l.Qc(uo,!0),2&e&&l.Ac(i=l.ec())&&(t.childTable=i.first)},features:[l.Db([ho,o.a])],decls:91,vars:50,consts:[[1,"content-section","implementation"],["header","Confirmation","icon","fa fa-question-circle","width","425"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Add",3,"click",4,"isAuthorized"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","arrangementRules-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","columns","value","selection","lazy","paginator","rows","totalRecords","resizableColumns","selectionChange","onRowSelect","onRowUnselect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pRuleHeaderId","pRuleCategory"],["header","Search","width","800","showEffect","fade",3,"visible","modal","draggable","blockScroll","visibleChange","onHide"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["pInputText","","placeholder","Rule Name","name","ruleName","id","ruleName",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],["pInputText","","placeholder","Description","name","description","id","description",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","placeholder","Rule Sequence","name","ruleSequence","id","ruleSequence",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","placeholder","Category","name","category","id","category",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","placeholder","Created By","name","createdBy","id","createdBy",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["inputStyleClass","textbox","showAnim","slideDown","name","creationDate","id","creationDate","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","Creation Date",3,"monthNavigator","yearNavigator","ngModelOptions","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["width","800","showEffect","fade",3,"header","visible","modal","draggable","blockScroll","visibleChange","onHide"],["novalidate","",3,"formGroup","ngSubmit"],["class","ui-grid ui-grid-responsive ui-fluid",4,"ngIf"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["id","FieldsMandatory","role","dialog","data-backdrop","static","data-keyboard","false",1,"modal","fade","dialogueBox"],[1,"modal-dialog","modal-sm"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-title"],[1,"form-horizontal"],[1,"modal-body","clearfix"],[1,"col-md-12","col-sm-12","col-xs-12","col-lg-12"],[4,"ngIf"],[1,"modal-footer",2,"padding","3px"],["data-dismiss","modal",1,"btn","btn-primary","pull-right"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow"],["class","icon-edit","title","Edit",3,"click",4,"isAuthorized"],["class","icon-delete","title","Delete",3,"click",4,"isAuthorized"],["title","Edit",1,"icon-edit",3,"click"],["title","Delete",1,"icon-delete",3,"click"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-data"],[1,"ui-g"],[1,"red-color"],["pInputText","","placeholder","Rule Name","name","ruleName","id","ruleName","formControlName","name",1,"textbox",3,"ngModel","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["name","ruleCategory","formControlName","category","appendTo","body",3,"options","ngModel","filter","ngModelChange"],["pInputText","","name","sequenceNumber","placeholder","Sequence Number","id","sequenceNumber","formControlName","sequence",1,"textbox",3,"ngModel","ngModelChange"],["showAnim","slideDown","inputStyleClass","textbox","name","ruleStartDate","id","ruleStartDate","yearRange","1950:2030","appendTo","body","formControlName","startDate","dateFormat","yy-mm-dd","placeholder","Rule Start Date*",3,"ngModel","monthNavigator","yearNavigator","ngModelChange"],["inputStyleClass","textbox","showAnim","slideDown","name","ruleEndDate","id","ruleEndDate","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","Rule End Date",3,"ngModelOptions","ngModel","monthNavigator","yearNavigator","ngModelChange"],[1,"d-none"],[1,"ui-grid-col-4"],["for","ruleHeaderId"],[1,"ui-grid-col-8"],["pInputText","","name","ruleHeaderId","id","ruleHeaderId","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute2"],["pInputText","","name","attribute2","id","attribute2","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute3"],["pInputText","","name","attribute3","id","attribute3","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute4"],["pInputText","","name","attribute4","id","attribute4","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute5"],["pInputText","","name","attribute5","id","attribute5","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute6"],["pInputText","","name","attribute6","id","attribute6","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute7"],["pInputText","","name","attribute7","id","attribute7","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute8"],["pInputText","","name","attribute8","id","attribute8","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute9"],["pInputText","","name","attribute9","id","attribute9","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute10"],["pInputText","","name","attribute10","id","attribute10","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute11"],["pInputText","","name","attribute11","id","attribute11","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute12"],["pInputText","","name","attribute12","id","attribute12","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute13"],["pInputText","","name","attribute13","id","attribute13","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute14"],["pInputText","","name","attribute14","id","attribute14","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute15"],["pInputText","","name","attribute15","id","attribute15","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute16"],["pInputText","","name","attribute16","id","attribute16","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute17"],["pInputText","","name","attribute17","id","attribute17","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute18"],["pInputText","","name","attribute18","id","attribute18","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute19"],["pInputText","","name","attribute19","id","attribute19","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute20"],["pInputText","","name","attribute20","id","attribute20","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute21"],["pInputText","","name","attribute21","id","attribute21","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute22"],["pInputText","","name","attribute22","id","attribute22","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute23"],["pInputText","","name","attribute23","id","attribute23","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute24"],["pInputText","","name","attribute24","id","attribute24","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute25"],["pInputText","","name","attribute25","id","attribute25","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute26"],["pInputText","","name","attribute26","id","attribute26","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute27"],["pInputText","","name","attribute27","id","attribute27","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute28"],["pInputText","","name","attribute28","id","attribute28","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute29"],["pInputText","","name","attribute29","id","attribute29","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","attribute30"],["pInputText","","name","attribute30","id","attribute30","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","creationDate"],["pInputText","","name","creationDate","id","creationDate","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","createdBy"],["pInputText","","name","createdBy","id","createdBy","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","lastUpdateDate"],["pInputText","","name","lastUpdateDate","id","lastUpdateDate","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","lastUpdatedBy"],["pInputText","","name","lastUpdatedBy","id","lastUpdatedBy","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","ruleMasterId"],["pInputText","","name","ruleMasterId","id","ruleMasterId","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","approverId"],["pInputText","","name","approverId","id","approverId","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","dealFlag"],["pInputText","","name","dealFlag","id","dealFlag","required","",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(e,t){if(1&e){const e=l.Wb();l.Qb(0,"div",0),l.Qb(1,"p-confirmDialog",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"div",6),l.Vb(7,"h2"),l.Mc(8,"Revenue Contract Rules"),l.Ub(),l.Vb(9,"div",7),l.Vb(10,"a",8),l.dc("click",(function(e){return t.onConfiguringColumns(e)})),l.Qb(11,"em",9),l.Mc(12,"Columns"),l.Ub(),l.Kc(13,mo,2,0,"a",10),l.Vb(14,"a",11),l.dc("click",(function(){return t.showDialogToSearch()})),l.Qb(15,"em",12),l.Ub(),l.Vb(16,"a",13),l.dc("click",(function(){l.Dc(e);const i=l.Bc(21);return t.reset(i)})),l.Qb(17,"em",14),l.Ub(),l.Kc(18,Uo,15,5,"div",15),l.Ub(),l.Vb(19,"div",16),l.Vb(20,"p-table",17,18),l.dc("selectionChange",(function(e){return t.selectedRmanRulesHeader=e}))("onRowSelect",(function(e){return t.onRowSelect(e)}))("onRowUnselect",(function(){return t.onRowUnSelect()}))("onLazyLoad",(function(e){return t.getRmanRulesHeader(e)})),l.Kc(22,Ro,3,1,"ng-template",19),l.Kc(23,wo,3,1,"ng-template",20),l.Kc(24,xo,5,6,"ng-template",21),l.Kc(25,Ho,1,1,"ng-template",22),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(26,"rmanRuleParameterValue-data",23),l.Mc(27,"loading.."),l.Ub(),l.Vb(28,"p-dialog",24),l.dc("visibleChange",(function(e){return t.displaySearchDialog=e}))("onHide",(function(){return t.cancelSearch()})),l.Vb(29,"form"),l.Vb(30,"div",25),l.Vb(31,"div",26),l.Vb(32,"div",27),l.Vb(33,"span",28),l.Vb(34,"span",29),l.Mc(35," Rule Name "),l.Ub(),l.Vb(36,"input",30),l.dc("ngModelChange",(function(e){return t.rmanRulesHeaderSearch.ruleName=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(37,"div",31),l.Vb(38,"span",28),l.Vb(39,"span",29),l.Mc(40," Description "),l.Ub(),l.Vb(41,"input",32),l.dc("ngModelChange",(function(e){return t.rmanRulesHeaderSearch.description=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(42,"div",26),l.Vb(43,"div",27),l.Vb(44,"span",28),l.Vb(45,"span",29),l.Mc(46," Rule Sequence "),l.Ub(),l.Vb(47,"input",33),l.dc("ngModelChange",(function(e){return t.rmanRulesHeaderSearch.ruleSequence=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(48,"div",31),l.Vb(49,"span",28),l.Vb(50,"span",29),l.Mc(51," Category "),l.Ub(),l.Vb(52,"input",34),l.dc("ngModelChange",(function(e){return t.rmanRulesHeaderSearch.category=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(53,"div",26),l.Vb(54,"div",27),l.Vb(55,"span",28),l.Vb(56,"span",29),l.Mc(57," Created By "),l.Ub(),l.Vb(58,"input",35),l.dc("ngModelChange",(function(e){return t.rmanRulesHeaderSearch.createdBy=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(59,"div",31),l.Vb(60,"span",29),l.Mc(61," Creation Date "),l.Ub(),l.Vb(62,"p-calendar",36),l.dc("ngModelChange",(function(e){return t.rmanRulesHeaderSearch.creationDate=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(63,"p-footer"),l.Vb(64,"div",37),l.Vb(65,"button",38),l.dc("click",(function(){return t.search()})),l.Ub(),l.Vb(66,"button",39),l.dc("click",(function(){return t.displaySearchDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(67,"p-dialog",40),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancelEdit()})),l.Vb(68,"form",41),l.dc("ngSubmit",(function(){return t.save()})),l.Kc(69,_o,266,168,"div",42),l.Ub(),l.Vb(70,"p-footer"),l.Vb(71,"div",37),l.Vb(72,"button",43),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(73,"button",39),l.dc("click",(function(){return t.displayDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(74,"div",44),l.Vb(75,"div",45),l.Vb(76,"div",46),l.Vb(77,"div",47),l.Vb(78,"button",48),l.Mc(79,"\xd7"),l.Ub(),l.Vb(80,"h4",49),l.Mc(81),l.Ub(),l.Ub(),l.Vb(82,"form",50),l.Vb(83,"div",51),l.Vb(84,"div",52),l.Kc(85,Qo,2,0,"p",53),l.Kc(86,Go,2,0,"p",53),l.Kc(87,Wo,2,0,"p",53),l.Ub(),l.Ub(),l.Vb(88,"div",54),l.Vb(89,"button",55),l.Mc(90,"OK"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}2&e&&(l.Eb(13),l.oc("isAuthorized",l.rc(43,Lo)),l.Eb(5),l.oc("ngIf",!t.showAddColumns),l.Eb(2),l.oc("loading",t.loading)("columns",t.columns)("value",t.rmanRulesHeaderList)("selection",t.selectedRmanRulesHeader)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("resizableColumns",!0),l.Eb(6),l.oc("pRuleHeaderId",t.pRuleHeaderId)("pRuleCategory",t.pRuleCategory),l.Eb(2),l.oc("visible",t.displaySearchDialog)("modal",!0)("draggable",!0)("blockScroll",!0),l.Eb(8),l.oc("ngModelOptions",l.rc(44,$o))("ngModel",t.rmanRulesHeaderSearch.ruleName),l.Eb(5),l.oc("ngModelOptions",l.rc(45,$o))("ngModel",t.rmanRulesHeaderSearch.description),l.Eb(6),l.oc("ngModelOptions",l.rc(46,$o))("ngModel",t.rmanRulesHeaderSearch.ruleSequence),l.Eb(5),l.oc("ngModelOptions",l.rc(47,$o))("ngModel",t.rmanRulesHeaderSearch.category),l.Eb(6),l.oc("ngModelOptions",l.rc(48,$o))("ngModel",t.rmanRulesHeaderSearch.createdBy),l.Eb(4),l.oc("monthNavigator",!0)("yearNavigator",!0)("ngModelOptions",l.rc(49,$o))("ngModel",t.rmanRulesHeaderSearch.creationDate),l.Eb(5),l.pc("header",t.newRmanRulesHeader?"Create Rule":"Edit Rule"),l.oc("visible",t.displayDialog)("modal",!0)("draggable",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.arrangementRulesForm),l.Eb(1),l.oc("ngIf",t.rmanRulesHeader),l.Eb(3),l.oc("disabled",!t.arrangementRulesForm.valid),l.Eb(9),l.Nc("Error"),l.Eb(4),l.oc("ngIf",5==t.showMsg),l.Eb(1),l.oc("ngIf",6==t.showMsg),l.Eb(1),l.oc("ngIf",7==t.showMsg))},directives:[E.a,V.a,v.o,y.j,o.f,uo,M.a,n.v,n.l,n.m,n.b,S.a,n.k,n.n,w.a,o.b,C.b,n.g,D.a,k.b,k.c,n.a,v.p,v.n,y.g,y.i,n.e,R.a,n.s],pipes:[v.f,O.a],encapsulation:2}),e})();class Zo{constructor(e,t,i,a,n,o,r,l,s,c,d,u,b,p,g,h,m,f,V,v,y,M,U,C,R,S,E,D,k,w,A,O,P,I,F,N,T,L,x,B,H,q,K,z){this.attribute10=e,this.dealFlag=t,this.attribute30=i,this.attribute14=a,this.ruleHeaderId=n,this.attribute13=o,this.attribute12=r,this.attribute11=l,this.ruleName=s,this.ruleMasterId=c,this.lastUpdateDate=d,this.ruleEndDate=u,this.sequenceNumber=b,this.approverId=p,this.ruleCategory=g,this.description=h,this.attribute29=m,this.attribute28=f,this.attribute27=V,this.attribute26=v,this.ruleStartDate=y,this.attribute3=M,this.attribute21=U,this.createdBy=C,this.attribute2=R,this.attribute20=S,this.lastUpdatedBy=E,this.attribute1=D,this.attribute25=k,this.attribute24=w,this.attribute23=A,this.attribute22=O,this.creationDate=P,this.attribute9=I,this.attribute8=F,this.attribute7=N,this.attribute6=T,this.attribute5=L,this.attribute4=x,this.attribute18=B,this.attribute17=H,this.attribute16=q,this.attribute15=K,this.attribute19=z}}const Xo=i("+yMW"),er={headers:new r.f({"Content-Type":"application/json"})};let tr=(()=>{class e{constructor(e,t){this.http=e,this.datePipe=t}getServiceUrl(e,t,i,a){let n=Xo.apiUrl+"/ayaraApprovalRulesExport?";0==a&&(n=Xo.apiUrl+"/ayaraApprovalRulesSearch?");let o="";return null!=t.ranking&&""!=t.ranking&&(o=o+"ranking:"+t.ranking+","),null!=t.entityId&&""!=t.entityId&&(o=o+"entityId:"+t.entityId+","),null!=t.userRole&&""!=t.userRole&&(o=o+"userRole:"+t.userRole+","),null!=t.approvalcriteria&&""!=t.approvalcriteria&&(o=o+"approvalcriteria:"+t.approvalcriteria+","),null!=t.minValue&&""!=t.minValue&&(o=o+"minValue:"+t.minValue+","),null!=t.maxValue&&""!=t.maxValue&&(o=o+"maxValue:"+t.maxValue+","),null!=t.assigneeType&&""!=t.assigneeType&&(o=o+"assigneeType:"+t.assigneeType+","),null!=t.geo&&""!=t.geo&&(o=o+"geo:"+t.geo+","),null!=t.activeFlag&&""!=t.activeFlag&&(o=o+"activeFlag:"+t.activeFlag+","),""==o?n+="search=%25":n=n+"search="+o,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(n=n+"&page="+e.pageNumber+"&size="+e.pageSize),null!=i&&null!=i&&(n=n+"&exportCols="+i),n}getAllRmanApprovalRules(e,t,i){let a=this.getServiceUrl(e,t,i,0);return this.http.get(a).toPromise().then(e=>e)}saveApprovalRule(e){let t=JSON.stringify(e);return this.http.post(Xo.apiUrl+"/AYARA_APPROVAL_RULES",t,er).toPromise().then(e=>e)}updateApprovalRule(e){delete e._links,delete e.interests;let t=JSON.stringify(e);return this.http.put(Xo.apiUrl+"/AYARA_APPROVAL_RULES/"+e.ruleId,t,er).toPromise().then(e=>e)}deleteApprovalRule(e){return this.http.delete(Xo.apiUrl+"/AYARA_APPROVAL_RULES/"+e.ruleId,er).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b),l.Zb(v.f))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac}),e})();function ir(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",41),l.dc("click",(function(){return l.Dc(e),l.gc().showDialogToAdd()})),l.Qb(1,"em",42),l.Ub()}}function ar(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",55),l.dc("onDragStart",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDragStart(t)}))("onDrop",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDrop(t)})),l.Vb(2,"div",56),l.Vb(3,"input",57),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label"),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField),l.Eb(2),l.Nc(e.header)}}const nr=function(){return{color:"grey"}};function or(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",58),l.Vb(2,"div"),l.Vb(3,"input",59),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label",60),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),l.Eb(1),l.oc("ngStyle",l.rc(5,nr)),l.Eb(1),l.Nc(e.header)}}function rr(e,t){if(1&e&&(l.Kc(0,ar,6,3,"div",54),l.Kc(1,or,6,6,"div",54)),2&e){const e=t.$implicit;l.oc("ngIf",e.drag),l.Eb(1),l.oc("ngIf",!e.drag)}}const lr=function(){return{width:"100%",height:"100%"}};function sr(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",43),l.Vb(1,"div",44),l.Vb(2,"div",45),l.Vb(3,"input",46),l.dc("click",(function(){return l.Dc(e),l.gc().onSelectAll()})),l.Ub(),l.Vb(4,"label",47),l.Mc(5,"Select All"),l.Ub(),l.Vb(6,"a",48),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(7,"\xd7"),l.Ub(),l.Vb(8,"p-listbox",49),l.Kc(9,rr,2,2,"ng-template",50),l.Ub(),l.Ub(),l.Vb(10,"div",51),l.Vb(11,"a",52),l.dc("click",(function(){return l.Dc(e),l.gc().saveColumns()})),l.Mc(12,"Save"),l.Ub(),l.Vb(13,"a",53),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(14,"Cancel"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(3),l.oc("checked",e.isSelectAllChecked),l.Eb(5),l.Ic(l.rc(4,lr)),l.oc("options",e.globalCols)}}function cr(e,t){1&e&&l.Qb(0,"col")}function dr(e,t){if(1&e&&(l.Vb(0,"colgroup"),l.Qb(1,"col"),l.Kc(2,cr,1,0,"col",61),l.Ub()),2&e){const e=t.$implicit;l.Eb(2),l.oc("ngForOf",e)}}const ur=function(e){return{display:e}};function br(e,t){if(1&e&&(l.Vb(0,"th",64),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,ur,e.display)),l.Eb(1),l.Nc(e.header)}}function pr(e,t){if(1&e&&(l.Vb(0,"th",65),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,ur,e.display)),l.Eb(1),l.Nc(e.header)}}function gr(e,t){if(1&e&&(l.Tb(0),l.Kc(1,br,2,5,"th",62),l.Kc(2,pr,2,5,"th",63),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type||"date"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function hr(e,t){if(1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Kc(2,gr,3,2,"ng-container",61),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.oc("ngForOf",e.columns)}}function mr(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",69),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().editRow(t)})),l.Ub()}}function fr(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",70),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().delete(t)})),l.Ub()}}function Vr(e,t){if(1&e&&(l.Vb(0,"td",73),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,ur,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function vr(e,t){if(1&e&&(l.Vb(0,"td",74),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,ur,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function yr(e,t){if(1&e&&(l.Vb(0,"td",73),l.hc(1,"date"),l.Mc(2),l.hc(3,"date"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.jc(1,3,t[e.field],"MM/dd/yyyy")),l.oc("ngStyle",l.sc(9,ur,e.display)),l.Eb(2),l.Oc(" ",l.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function Mr(e,t){if(1&e&&(l.Vb(0,"td",74),l.hc(1,"round"),l.Mc(2),l.hc(3,"round"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.ic(1,3,t[e.field])),l.oc("ngStyle",l.sc(7,ur,e.display)),l.Eb(2),l.Oc(" ",l.ic(3,5,t[e.field])," ")}}function Ur(e,t){if(1&e&&(l.Tb(0),l.Kc(1,Vr,2,5,"td",71),l.Kc(2,vr,2,5,"td",72),l.Kc(3,yr,4,11,"td",71),l.Kc(4,Mr,4,9,"td",72),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type),l.Eb(1),l.oc("ngIf","date"==e.type),l.Eb(1),l.oc("ngIf","round"==e.type)}}const Cr=function(){return["write","APRULES"]};function Rr(e,t){if(1&e&&(l.Vb(0,"tr",66),l.Vb(1,"td"),l.Kc(2,mr,1,0,"a",67),l.Kc(3,fr,1,0,"a",68),l.Ub(),l.Kc(4,Ur,5,4,"ng-container",61),l.Ub()),2&e){const e=t.$implicit,i=t.columns,a=l.gc();l.oc("pSelectableRow",e)("pSelectableRowIndex",a.rowIndex),l.Eb(2),l.oc("isAuthorized",l.rc(5,Cr)),l.Eb(1),l.oc("isAuthorized",l.rc(6,Cr)),l.Eb(1),l.oc("ngForOf",i)}}function Sr(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td",75),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc(2);l.Eb(2),l.Nc(e.noData)}}function Er(e,t){1&e&&l.Kc(0,Sr,3,1,"tr",54),2&e&&l.oc("ngIf",!t.$implicit)}function Dr(e,t){if(1&e&&(l.Vb(0,"div",90),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.ranking," ")}}function kr(e,t){if(1&e&&(l.Vb(0,"div",90),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.legalEntity," ")}}function wr(e,t){if(1&e&&(l.Vb(0,"div",90),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.role," ")}}function Ar(e,t){if(1&e&&(l.Vb(0,"div",90),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.approvalCriteria," ")}}function Or(e,t){if(1&e&&(l.Vb(0,"div",90),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.min," ")}}function Pr(e,t){if(1&e&&(l.Vb(0,"div",90),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.assigneeType," ")}}function Ir(e,t){if(1&e&&(l.Vb(0,"div",90),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.active," ")}}function Fr(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",76),l.Vb(1,"div",77),l.Vb(2,"div",78),l.Vb(3,"div",30),l.Vb(4,"div",31),l.Vb(5,"span",32),l.Mc(6,"Ranking"),l.Vb(7,"span",79),l.Mc(8,"*"),l.Ub(),l.Ub(),l.Vb(9,"input",80),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanApprovalRule.ranking=t})),l.Ub(),l.Kc(10,Dr,2,1,"div",81),l.Ub(),l.Vb(11,"div",34),l.Vb(12,"span",32),l.Mc(13,"Legal Entity"),l.Vb(14,"span",79),l.Mc(15,"*"),l.Ub(),l.Ub(),l.Vb(16,"p-dropdown",82),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanApprovalRule.entityId=t})),l.Ub(),l.Kc(17,kr,2,1,"div",81),l.Ub(),l.Ub(),l.Vb(18,"div",30),l.Vb(19,"div",31),l.Vb(20,"span",35),l.Vb(21,"span",32),l.Mc(22,"Role"),l.Vb(23,"span",79),l.Mc(24,"*"),l.Ub(),l.Ub(),l.Vb(25,"p-dropdown",83),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanApprovalRule.userRole=t}))("onChange",(function(t){return l.Dc(e),l.gc().onSelectUserRole(t.value)})),l.Ub(),l.Kc(26,wr,2,1,"div",81),l.Ub(),l.Ub(),l.Vb(27,"div",34),l.Vb(28,"span",35),l.Vb(29,"span",32),l.Mc(30,"Approval Criteria "),l.Vb(31,"span",79),l.Mc(32,"*"),l.Ub(),l.Ub(),l.Vb(33,"p-dropdown",84),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanApprovalRule.approvalcriteria=t})),l.Ub(),l.Kc(34,Ar,2,1,"div",81),l.Ub(),l.Ub(),l.Ub(),l.Vb(35,"div",30),l.Vb(36,"div",31),l.Vb(37,"span",32),l.Mc(38,"Min "),l.Vb(39,"span",79),l.Mc(40,"*"),l.Ub(),l.Ub(),l.Vb(41,"input",85),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanApprovalRule.minValue=t})),l.Ub(),l.Kc(42,Or,2,1,"div",81),l.Ub(),l.Vb(43,"div",34),l.Vb(44,"span",35),l.Vb(45,"span",32),l.Mc(46,"Max "),l.Ub(),l.Vb(47,"input",86),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanApprovalRule.maxValue=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(48,"div",30),l.Vb(49,"div",31),l.Vb(50,"span",32),l.Mc(51,"Assignee Type "),l.Vb(52,"span",79),l.Mc(53,"*"),l.Ub(),l.Ub(),l.Vb(54,"p-dropdown",87),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanApprovalRule.assigneeType=t})),l.Ub(),l.Kc(55,Pr,2,1,"div",81),l.Ub(),l.Vb(56,"div",34),l.Vb(57,"span",32),l.Mc(58,"Geo"),l.Ub(),l.Vb(59,"p-dropdown",88),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanApprovalRule.geo=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(60,"div",30),l.Vb(61,"div",31),l.Vb(62,"span",35),l.Vb(63,"span",32),l.Mc(64,"Active"),l.Vb(65,"span",79),l.Mc(66,"*"),l.Ub(),l.Ub(),l.Vb(67,"p-dropdown",89),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanApprovalRule.activeFlag=t})),l.Ub(),l.Kc(68,Ir,2,1,"div",81),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(9),l.oc("ngModel",e.rmanApprovalRule.ranking),l.Fb("disabled",!!e.disableRanking||null),l.Eb(1),l.oc("ngIf",e.formErrors.ranking),l.Eb(6),l.oc("options",e.rmanLegalEntitiesLookup)("ngModel",e.rmanApprovalRule.entityId),l.Eb(1),l.oc("ngIf",e.formErrors.legalEntity),l.Eb(8),l.oc("options",e.rolesLookup)("ngModel",e.rmanApprovalRule.userRole),l.Eb(1),l.oc("ngIf",e.formErrors.role),l.Eb(7),l.oc("options",e.approvalCriteriaLookup)("ngModel",e.rmanApprovalRule.approvalcriteria),l.Eb(1),l.oc("ngIf",e.formErrors.approvalCriteria),l.Eb(7),l.oc("ngModel",e.rmanApprovalRule.minValue),l.Eb(1),l.oc("ngIf",e.formErrors.min),l.Eb(5),l.oc("ngModel",e.rmanApprovalRule.maxValue),l.Eb(7),l.oc("options",e.assigneeTypesLookup)("ngModel",e.rmanApprovalRule.assigneeType),l.Eb(1),l.oc("ngIf",e.formErrors.assigneeType),l.Eb(4),l.oc("options",e.geoLookup)("ngModel",e.rmanApprovalRule.geo),l.Eb(8),l.oc("options",e.activeFlagLookup)("ngModel",e.rmanApprovalRule.activeFlag),l.Eb(1),l.oc("ngIf",e.formErrors.active)}}const Nr=function(){return{standalone:!0}},Tr=i("+yMW");let Lr=(()=>{class e{constructor(e,t,i,a,n,o,r){this.rmanApprovalRulesService=e,this.rmanLookupsVService=t,this.formBuilder=i,this.rmanLegalEntitiesService=a,this.confirmationService=n,this.notificationService=o,this.commonSharedService=r,this.isSerached=0,this.searched=0,this.noData=Tr.noData,this.isSelectAllChecked=!0,this.showPaginator=!0,this.showAddColumns=!0,this.exportCols=[],this.rmanApprovalRule=new xr,this.rmanApprovalRuleSearch=new xr,this.rmanLegalEntitiesLookup=[],this.rolesLookup=[],this.approvalCriteriaLookup=[],this.approvalUserRolesLookup=[],this.assigneeTypesLookup=[],this.geoLookup=[],this.activeFlagLookup=[],this.formErrors={ranking:"",legalEntity:"",role:"",approvalCriteria:"",min:"",max:"",assigneeType:"",active:"",geo:""},this.validationMessages={ranking:{required:"Ranking is required"},legalEntity:{required:"Legal Entity is required"},role:{required:"Role is required"},approvalCriteria:{required:"Approval Criteria is required"},min:{required:"Min Value is required"},max:{required:"Max Value is required"},assigneeType:{required:"Assignee Type is required"},active:{required:"Active Flag is required"},geo:{required:"Geo is required"}},this.paginationOptions={pageNumber:0,pageSize:"10000"},this.loading=!0}ngOnInit(){this.getAllRmanLegalEntities(),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"USER_ROLES"}).then(e=>{this.rmanUserRolesList=e.content,this.prepareUserRolesLookupObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Identifier" data'),this.loading=!1}),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"GEO_TYPE"}).then(e=>{this.rmanGeoList=e.content,this.prepareGeoLookupObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Identifier" data'),this.loading=!1}),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"ASSIGNEE_TYPE"}).then(e=>{this.rmanAssigneeTypeList=e.content,this.prepareAssigneeTypeLookupObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Identifier" data'),this.loading=!1}),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"APPROVAL_CRITERIA"}).then(e=>{this.rmanApprovalCriteriaList=e.content,this.prepareApprovalCriteriaLookupObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Identifier" data'),this.loading=!1}),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"APPROVAL_USER_ROLES"}).then(e=>{this.rmanApprovalUserRolesList=e.content,this.prepareApprovalUserRolesLookupObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Approval User Roles" lookup data'),this.loading=!1}),this.activeFlagLookup.push({label:"Select Active Flag",value:null}),this.activeFlagLookup.push({label:"Y",value:"Y"}),this.activeFlagLookup.push({label:"N",value:"N"}),this.globalCols=[{field:"ranking",header:"Ranking",showField:!0,drag:!0,display:"table-cell",type:"number"},{field:"entityId",header:"Legal Entity",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"userRole",header:"Role",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"approvalcriteria",header:"Approval Criteria",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"minValue",header:"Min",showField:!0,drag:!0,display:"table-cell",type:"number"},{field:"maxValue",header:"Max",showField:!0,drag:!0,display:"table-cell",type:"number"},{field:"assigneeType",header:"Assignee Type",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"geo",header:"Geo",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"activeFlag",header:"Active",showField:!0,drag:!0,display:"table-cell",type:"text"}],this.buildForm(),this.columns=[],this.getTableColumns("rmanApprovalRules","Manage Approval Rules")}getAllRmanLegalEntities(){this.loading=!0,this.rmanLegalEntitiesService.getAllRmanLegalEntities(this.paginationOptions,{},"Y").then(e=>{this.rmanLegalEntitiesList=e.content,this.prepareRmanLegalEntitiesObject(),this.loading=!1}).catch(e=>{this.notificationService.showError('Error occured while getting "Legal Entity" data'),this.loading=!1})}prepareApprovalCriteriaLookupObject(){let e=[{label:"Select Approval Criteria",value:null}];this.rmanApprovalCriteriaList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.approvalCriteriaLookup=e}prepareApprovalUserRolesLookupObject(){let e=[{label:"Select Approval Rule User Role",value:null}];this.rmanApprovalUserRolesList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.approvalUserRolesLookup=e}prepareAssigneeTypeLookupObject(){let e=[{label:"Select Assignee Type",value:null}];this.rmanAssigneeTypeList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.assigneeTypesLookup=e}prepareGeoLookupObject(){let e=[{label:"Select Geo",value:null}];this.rmanGeoList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.geoLookup=e}prepareUserRolesLookupObject(){let e=[{label:"Select Role",value:null}];this.rmanUserRolesList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rolesLookup=e}prepareRmanLegalEntitiesObject(){let e=[{label:Tr.dropDownOptions.selectLegalEntity,value:null}];this.rmanLegalEntitiesList.forEach(t=>{e.push({label:t.name,value:t.legalEntityId})}),this.rmanLegalEntitiesLookup=e}buildForm(){this.rmanApprovalRuleForm=this.formBuilder.group({ranking:["",[n.t.required]],legalEntity:["",[n.t.required]],role:["",[n.t.required]],approvalCriteria:["",[n.t.required]],min:["",[n.t.required]],max:["",[]],assigneeType:["",[n.t.required]],active:["",[n.t.required]],geo:["",[]]}),this.rmanApprovalRuleForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}onValueChanged(e){if(!this.rmanApprovalRuleForm)return;const t=this.rmanApprovalRuleForm;for(const i in this.formErrors){this.formErrors[i]="";const e=t.get(i);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[i];for(const a in e.errors)this.formErrors[i]+=t[a]+" "}}}showDialogToSearch(){this.rmanApprovalRuleSearch=new xr,this.displaySearchDialog=!0}search(){this.displaySearchDialog=!1,this.paginationOptions={},this.rmanApprovalRule=this.rmanApprovalRuleSearch,this.getAllRmanApprovalRules()}showDialogToAdd(){this.displayDialog=!0,this.isCreate=!0,this.rmanApprovalRule=new xr,this.buildForm()}reset(e){this.loading=!0,this.paginationOptions={},this.rmanApprovalRule=new xr,e.reset()}onSelectUserRole(e){let t=this.rmanApprovalUserRolesList.filter(t=>t.lookupDescription==e);this.rmanApprovalRule.ranking=t[0].lookupCode,this.disableRanking=!0}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];let t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.globalCols.findIndex(t=>t.field==e),this.onDrop(t))}),this.globalCols.forEach(t=>{-1!==e.tableColumns.indexOf(t.field)?this.columns.push(t):t.showField=!1}),this.columns.length!=this.globalCols.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.globalCols}).catch(()=>{this.notificationService.showError("Error occured while getting table columns data"),this.loading=!1})}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.globalCols.length-1;this.globalCols.forEach((i,a)=>{i.showField&&(e+=i.field,a<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("rmanApprovalRules","Manage Approval Rules",e,this.userId).then(e=>{this.columns=this.globalCols.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occured while fetching Columns data"),this.loading=!1})}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}selectColumns(e){let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}transformRmanLegalEntity(e){if(null==this.rmanLegalEntitiesList||null==this.rmanLegalEntitiesList)return null;for(var t=0;t<this.rmanLegalEntitiesList.length;t++)if(this.rmanLegalEntitiesList[t].legalEntityId==e)return this.rmanLegalEntitiesList[t].name}transformToEntityId(e){for(var t=0;t<this.rmanLegalEntitiesList.length;t++)if(this.rmanLegalEntitiesList[t].name==e)return this.rmanLegalEntitiesList[t].legalEntityId}onHide(e){}getAllRmanApprovalRules(){this.loading=!0,this.rmanApprovalRulesService.getAllRmanApprovalRules(this.paginationOptions,this.rmanApprovalRule,this.exportCols).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanApprovalRulesList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size,this.displaySearchDialog=!1,this.rmanApprovalRulesList.forEach(e=>{e.entityId=this.transformRmanLegalEntity(e.entityId)})}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}getRmanApprovalRules(e){this.loading=!0,this.rmanLegalEntitiesService.getAllRmanLegalEntities({},{},"Y").then(t=>{this.rmanLegalEntitiesList=t.content,this.prepareRmanLegalEntitiesObject(),this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.rmanApprovalRulesService.getAllRmanApprovalRules(this.paginationOptions,this.rmanApprovalRule,this.exportCols).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanApprovalRulesList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size,this.rmanApprovalRulesList.forEach(e=>{e.entityId=this.transformRmanLegalEntity(e.entityId)})})}).catch(e=>{console.error("Error Occured",e),this.notificationService.showError("Error occured while fetching data"),this.loading=!1})}editRow(e){this.disableRanking=!0,this.isCreate=!1,this.rmanApprovalRule=this.cloneApprovalRules(e),this.entityName=e.entityId,this.rmanApprovalRule.entityId=this.transformToEntityId(this.entityName),this.displayDialog=!0}cloneApprovalRules(e){let t=new xr;for(let i in e)t[i]=e[i];return t}cancel(){this.displayDialog=!1,this.rmanApprovalRule=new xr}onRowSelect(e){}saveOrUpdate(e){this.notificationService.showSuccess(e),this.displayDialog=!1,this.rmanApprovalRule=new xr,this.getAllRmanApprovalRules()}save(){this.loading=!0,this.displayDialog=!1,this.isCreate?this.rmanApprovalRulesService.saveApprovalRule(this.rmanApprovalRule).then(e=>{this.saveOrUpdate("Saved successfully")}).catch(e=>{this.notificationService.showError("Error occured while saving data"),this.loading=!1}):this.rmanApprovalRulesService.updateApprovalRule(this.rmanApprovalRule).then(e=>{this.saveOrUpdate("Updated successfully")}).catch(e=>{this.notificationService.showError("Error occured while updating data"),this.loading=!1})}delete(e){this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.loading=!0,this.rmanApprovalRulesService.deleteApprovalRule(e).then(e=>{this.rmanApprovalRule=new xr,this.getAllRmanApprovalRules()}),this.notificationService.showSuccess("Deleted successfully")},reject:()=>{this.notificationService.showWarning("You have rejected")}})}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(tr),l.Pb(u.a),l.Pb(n.c),l.Pb(ya.a),l.Pb(o.a),l.Pb(m.a),l.Pb(h.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["rmanApprovalRules-data"]],features:[l.Db([tr,Sa.a,ya.a,o.a])],decls:61,vars:43,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Add",3,"click",4,"isAuthorized"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","rmanApprovalRules-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","lazy","paginator","rows","totalRecords","columns","resizableColumns","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["width","700","showEffect","fade",3,"header","visible","draggable","modal","blockScroll","visibleChange","onAfterHide","onHide"],["novalidate","",3,"formGroup","ngSubmit"],["class","ui-g ui-fluid",4,"ngIf"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["header","Search","width","800","showEffect","fade",3,"visible","draggable","modal","blockScroll","visibleChange"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"selectSpan"],["name","legalEntity","id","legalEntity","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],[1,"ui-g-6","pull-right"],[1,"md-inputfield"],["name","searchRole","id","searchRole","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],["name","searchGeo","id","searchGeo","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],["name","searchActive","id","searchActive","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["header","Confirmation","icon","fa fa-question-circle","width","425"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow","pSelectableRowIndex"],["class","icon-edit",3,"click",4,"isAuthorized"],["class","icon-delete",3,"click",4,"isAuthorized"],[1,"icon-edit",3,"click"],[1,"icon-delete",3,"click"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-data"],[1,"ui-g","ui-fluid"],[1,"ui-g-12","form-group"],[1,"ui-grid-row"],[1,"red-color"],["pInputText","","placeholder","Ranking","name","ranking","id","ranking","formControlName","ranking",1,"textbox",3,"ngModel","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["name","legalEntity","id","legalEntity","appendTo","body","formControlName","legalEntity",3,"options","ngModel","ngModelChange"],["name","role","id","role","appendTo","body","formControlName","role",3,"options","ngModel","ngModelChange","onChange"],["name","approvalCriteria","id","approvalCriteria","appendTo","body","formControlName","approvalCriteria",3,"options","ngModel","ngModelChange"],["pInputText","","placeholder","Enter Min Value","id","min","name","min","formControlName","min",1,"textbox",3,"ngModel","ngModelChange"],["pInputText","","placeholder","Enter Max Value","id","max","name","max","formControlName","max",1,"textbox",3,"ngModel","ngModelChange"],["name","assigneeType","id","assigneeType","appendTo","body","formControlName","assigneeType",3,"options","ngModel","ngModelChange"],["name","geo","id","geo","appendTo","body","formControlName","geo",3,"options","ngModel","ngModelChange"],["name","active","id","active","appendTo","body","formControlName","active",3,"options","ngModel","ngModelChange"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(e,t){if(1&e){const e=l.Wb();l.Qb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"h2"),l.Mc(7,"Approval Rules"),l.Ub(),l.Vb(8,"div",6),l.Vb(9,"a",7),l.dc("click",(function(e){return t.onConfiguringColumns(e)})),l.Qb(10,"em",8),l.Mc(11,"Columns"),l.Ub(),l.Kc(12,ir,2,0,"a",9),l.Vb(13,"a",10),l.dc("click",(function(){return t.showDialogToSearch()})),l.Qb(14,"em",11),l.Ub(),l.Vb(15,"a",12),l.dc("click",(function(){l.Dc(e);const i=l.Bc(20);return t.reset(i)})),l.Qb(16,"em",13),l.Ub(),l.Kc(17,sr,15,5,"div",14),l.Ub(),l.Vb(18,"div",15),l.Vb(19,"p-table",16,17),l.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getRmanApprovalRules(e)})),l.Kc(21,dr,3,1,"ng-template",18),l.Kc(22,hr,3,1,"ng-template",19),l.Kc(23,Rr,5,7,"ng-template",20),l.Kc(24,Er,1,1,"ng-template",21),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(25,"p-dialog",22),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onAfterHide",(function(e){return t.onHide(e)}))("onHide",(function(){return t.cancel()})),l.Vb(26,"form",23),l.dc("ngSubmit",(function(){return t.save()})),l.Kc(27,Fr,69,23,"div",24),l.Ub(),l.Vb(28,"p-footer"),l.Vb(29,"div",25),l.Vb(30,"button",26),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(31,"button",27),l.dc("click",(function(){return t.cancel()})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(32,"p-dialog",28),l.dc("visibleChange",(function(e){return t.displaySearchDialog=e})),l.Vb(33,"form"),l.Vb(34,"div",29),l.Vb(35,"div",30),l.Vb(36,"div",31),l.Vb(37,"span",32),l.Mc(38,"Legal Entity"),l.Ub(),l.Vb(39,"p-dropdown",33),l.dc("ngModelChange",(function(e){return t.rmanApprovalRuleSearch.entityId=e})),l.Ub(),l.Ub(),l.Vb(40,"div",34),l.Vb(41,"span",35),l.Vb(42,"span",32),l.Mc(43,"Role"),l.Ub(),l.Vb(44,"p-dropdown",36),l.dc("ngModelChange",(function(e){return t.rmanApprovalRuleSearch.userRole=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(45,"div",30),l.Vb(46,"div",31),l.Vb(47,"span",35),l.Vb(48,"span",32),l.Mc(49,"Geo"),l.Ub(),l.Vb(50,"p-dropdown",37),l.dc("ngModelChange",(function(e){return t.rmanApprovalRuleSearch.geo=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(51,"div",34),l.Vb(52,"span",35),l.Vb(53,"span",32),l.Mc(54,"Active"),l.Ub(),l.Vb(55,"p-dropdown",38),l.dc("ngModelChange",(function(e){return t.rmanApprovalRuleSearch.activeFlag=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(56,"p-footer"),l.Vb(57,"div",25),l.Vb(58,"button",39),l.dc("click",(function(){return t.search()})),l.Ub(),l.Vb(59,"button",27),l.dc("click",(function(){return t.displaySearchDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(60,"p-confirmDialog",40)}2&e&&(l.Eb(12),l.oc("isAuthorized",l.rc(38,Cr)),l.Eb(5),l.oc("ngIf",!t.showAddColumns),l.Eb(2),l.oc("loading",t.loading)("value",t.rmanApprovalRulesList)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("columns",t.columns)("resizableColumns",!0),l.Eb(6),l.pc("header",t.isCreate?"Create Approval Rule":"Edit Approval Rule"),l.oc("visible",t.displayDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.rmanApprovalRuleForm),l.Eb(1),l.oc("ngIf",t.rmanApprovalRule),l.Eb(3),l.oc("disabled",!t.rmanApprovalRuleForm.valid),l.Eb(2),l.oc("visible",t.displaySearchDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(7),l.oc("options",t.rmanLegalEntitiesLookup)("ngModelOptions",l.rc(39,Nr))("ngModel",t.rmanApprovalRuleSearch.entityId)("filter",!0),l.Eb(5),l.oc("options",t.rolesLookup)("ngModelOptions",l.rc(40,Nr))("ngModel",t.rmanApprovalRuleSearch.userRole)("filter",!0),l.Eb(6),l.oc("options",t.geoLookup)("ngModelOptions",l.rc(41,Nr))("ngModel",t.rmanApprovalRuleSearch.geo)("filter",!0),l.Eb(5),l.oc("options",t.activeFlagLookup)("ngModelOptions",l.rc(42,Nr))("ngModel",t.rmanApprovalRuleSearch.activeFlag)("filter",!0))},directives:[V.a,v.o,y.j,o.f,M.a,n.v,n.l,n.g,o.b,C.b,n.m,R.a,n.k,n.n,E.a,D.a,k.b,k.c,n.a,v.p,v.n,y.g,y.i,n.b,S.a,n.e],pipes:[v.f,O.a],encapsulation:2}),e})();class xr{constructor(e,t,i,a,n,o,r,l,s,c){}}var Br=i("PCNd");let Hr=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Jb({type:e,selectors:[["configurationManager-data"]],features:[l.Db([])],decls:1,vars:0,template:function(e,t){1&e&&l.Qb(0,"router-outlet")},directives:[a.l],encapsulation:2}),e})();var qr=i("+yMW");let Kr=(()=>{class e{constructor(e){this.http=e}getAssigneeRules(e=0,t=10){return this.http.get(qr.apiUrl+`/ayaraDealAssignRulesSearch?search=%25&page=${e}&size=${t}`)}getUserRoles(){return this.http.get(qr.apiUrl+"/rmanResponsibilitiesSearch?search=%25")}createAssigneeRule(e){return this.http.post(qr.apiUrl+"/AYARA_DEAL_ASSIGN_RULES",e)}updateAssigneeRule(e,t){return this.http.put(qr.apiUrl+"/AYARA_DEAL_ASSIGN_RULES/"+e,t)}deleteAssigneeRule(e){return this.http.delete(qr.apiUrl+"/AYARA_DEAL_ASSIGN_RULES/"+e)}getAssignRuleParamsById(e){return this.http.get(qr.apiUrl+"/ayaraDealAssignRuleParametersSearch?search=assignRuleId:"+e)}createAssignRuleParam(e){return this.http.post(qr.apiUrl+"/AYARA_DEAL_ASSIGN_RULE_PARAMETERS",e)}updateAssignRuleParam(e,t){return this.http.put(qr.apiUrl+"/AYARA_DEAL_ASSIGN_RULE_PARAMETERS/"+e,t)}deleteAssignRuleParam(e){return this.http.delete(qr.apiUrl+"/AYARA_DEAL_ASSIGN_RULE_PARAMETERS/"+e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var zr=i("vkgz"),jr=i("lJxs"),$r=i("nYR2"),_r=i("SxV6");function Qr(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",35),l.dc("click",(function(){return l.Dc(e),l.gc(3).showDialogToAdd()})),l.Qb(1,"em",36),l.Ub()}}function Gr(e,t){1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Vb(2,"th"),l.Vb(3,"a"),l.Mc(4,"Parameter Group"),l.Ub(),l.Ub(),l.Vb(5,"th"),l.Vb(6,"a"),l.Mc(7,"Parameter Name"),l.Ub(),l.Ub(),l.Vb(8,"th"),l.Vb(9,"a"),l.Mc(10,"Qualifier"),l.Ub(),l.Ub(),l.Vb(11,"th"),l.Vb(12,"a"),l.Mc(13,"Parameter Value"),l.Ub(),l.Ub(),l.Vb(14,"th"),l.Vb(15,"a"),l.Mc(16,"And/Or"),l.Ub(),l.Ub(),l.Ub())}function Wr(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",39),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(3).editRow(t)})),l.Ub()}}function Yr(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",40),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(3).delete(t)})),l.Ub()}}const Jr=function(){return["write","MDAR"]};function Zr(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td"),l.Vb(2,"span"),l.Kc(3,Wr,1,0,"a",37),l.Ub(),l.Vb(4,"span"),l.Kc(5,Yr,1,0,"a",38),l.Ub(),l.Ub(),l.Vb(6,"td"),l.Vb(7,"a"),l.Mc(8),l.Ub(),l.Ub(),l.Vb(9,"td"),l.Vb(10,"a"),l.Mc(11),l.Ub(),l.Ub(),l.Vb(12,"td"),l.Vb(13,"a"),l.Mc(14),l.Ub(),l.Ub(),l.Vb(15,"td"),l.Vb(16,"a"),l.Mc(17),l.Ub(),l.Ub(),l.Vb(18,"td"),l.Vb(19,"a"),l.Mc(20),l.Ub(),l.Ub(),l.Ub()),2&e){const e=t.$implicit;l.Eb(3),l.oc("isAuthorized",l.rc(7,Jr)),l.Eb(2),l.oc("isAuthorized",l.rc(8,Jr)),l.Eb(3),l.Nc(e.parameterGroup),l.Eb(3),l.Nc(e.parameterName),l.Eb(3),l.Nc(e.qualifier),l.Eb(3),l.Nc(e.paramterValue),l.Eb(3),l.Nc(e.andOr)}}function Xr(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td",41),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc(3);l.Eb(2),l.Nc(e.noData)}}const el=function(){return{"margin-bottom":"20px"}};function tl(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",23),l.Vb(1,"p-panel",24),l.Vb(2,"p-header"),l.Vb(3,"div",25),l.Kc(4,Qr,2,0,"a",26),l.Vb(5,"a",27),l.dc("click",(function(){l.Dc(e);const t=l.Bc(9);return l.gc(2).reset(t)})),l.Qb(6,"em",28),l.Ub(),l.Ub(),l.Ub(),l.Vb(7,"div",29),l.Vb(8,"p-table",30,31),l.dc("onLazyLoad",(function(t){l.Dc(e);const i=l.gc(2);return i.getAssignRuleParams(i.assignRuleId,t)})),l.Kc(10,Gr,17,0,"ng-template",32),l.Kc(11,Zr,21,9,"ng-template",33),l.Kc(12,Xr,3,1,"ng-template",34),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=t.ngIf,i=l.gc(2);l.Eb(1),l.Ic(l.rc(10,el)),l.oc("toggleable",!1),l.Eb(3),l.oc("isAuthorized",l.rc(11,Jr)),l.Eb(4),l.oc("value",e.assignRuleParams)("loading",i.isLoading)("lazy",!0)("paginator",!0)("rows",i.pageSize)("totalRecords",i.totalElements)}}const il=function(e){return{assignRuleParams:e}};function al(e,t){if(1&e&&(l.Vb(0,"div",18),l.Vb(1,"div",19),l.Vb(2,"div",20),l.Vb(3,"div",21),l.Kc(4,tl,13,12,"div",22),l.hc(5,"async"),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&e){const e=l.gc();l.Eb(4),l.oc("ngIf",l.sc(3,il,l.ic(5,1,e.assignRuleParams$)))}}function nl(e,t){1&e&&(l.Vb(0,"div",42),l.Mc(1," Field is required "),l.Ub())}const ol=function(){return{standalone:!0}};let rl=(()=>{class e{constructor(e,t,i,a,o){this.notificationService=e,this.assignRulesService=t,this.entityParametersService=i,this.lookupsVService=a,this.confirmationService=o,this.pageSize=10,this.noData=qr.noData,this.isLoading=!1,this.displayDialog=!1,this.qualifiersList=[],this.paramNamesList=[],this.andOrList=[{name:"AND",description:"AND"},{name:"OR",description:"OR"}],this.selectedQualifier={lookupCode:"",lookupDescription:""},this.selectedParamName={parameterName:"",entityParameterId:""},this.selectedAndOr={name:"",description:""},this.editingParamId=null,this.paramsForm=new n.f({parameterName:new n.d("",n.t.required),parameterGroup:new n.d(null,n.t.required),qualifier:new n.d("",n.t.required),paramterValue:new n.d(""),andOr:new n.d("",n.t.required),parameterId:new n.d("")})}get parameterName(){return this.paramsForm.get("parameterName")}get parameterGroup(){return this.paramsForm.get("parameterGroup")}get qualifier(){return this.paramsForm.get("qualifier")}get paramterValue(){return this.paramsForm.get("paramterValue")}get andOr(){return this.paramsForm.get("andOr")}get parameterId(){return this.paramsForm.get("parameterId")}ngOnInit(){this.getQualifiers(),this.getParameterNames()}ngOnChanges(e){this.assignRuleId&&e.assignRuleId.currentValue&&this.getAssignRuleParams(e.assignRuleId.currentValue)}getQualifiers(){this.lookupsVService.getAllRmanLookupsV(null,{lookupTypeName:"RULE_QUALIFIER"}).then(e=>this.qualifiersList=e.content.map(e=>({lookupCode:e.lookupCode,lookupDescription:e.lookupDescription})))}getParameterNames(){this.entityParametersService.getAllRmanEntityParametersV({pageNumber:0,pageSize:10},{entityName:"DEAL_ASSIGNMENT_RULES"}).then(e=>{this.paramNamesList=e.content.map(e=>({parameterName:e.parameterName,entityParameterId:e.entityParameterId}))})}getAssignRuleParams(e,t){this.isLoading=!0,this.assignRuleParams$=this.assignRulesService.getAssignRuleParamsById(e).pipe(Object(zr.a)(e=>this.totalElements=e.totalElements),Object(jr.a)(e=>e.content),Object($r.a)(()=>{this.isLoading=!1}))}showDialogToAdd(){this.resetDropdownModels(),this.displayDialog=!0,this.isCreate=!0}reset(e){e.reset()}resetDropdownModels(){this.selectedQualifier={lookupCode:"",lookupDescription:""},this.selectedParamName={parameterName:"",entityParameterId:""},this.selectedAndOr={name:"",description:""}}onQualifiersChange(e){this.selectedQualifier={lookupCode:e.value.lookupCode,lookupDescription:e.value.lookupDescription},this.qualifier.setValue(this.selectedQualifier.lookupCode)}onParamNameChange(e){this.selectedParamName={parameterName:e.value.parameterName,entityParameterId:e.value.entityParameterId},this.parameterName.setValue(this.selectedParamName.parameterName),this.parameterId.setValue(this.selectedParamName.entityParameterId)}onChangeAndOr(e){this.selectedAndOr={name:e.value.name,description:e.value.description},this.andOr.setValue(e.value.name)}editRow(e){this.isCreate=!1,this.editingParamId=e.ruleParameterId;const{parameterName:t,parameterGroup:i,paramterValue:a,qualifier:n,andOr:o,parameterId:r}=e;this.paramsForm.setValue({parameterName:t,parameterGroup:i,paramterValue:a,qualifier:n,andOr:o,parameterId:r});const l=this.paramNamesList.find(e=>e.parameterName===t),s=this.qualifiersList.find(e=>e.lookupCode===n);this.selectedAndOr={name:o,description:o},this.selectedParamName=l,this.selectedQualifier=s,this.displayDialog=!0}delete(e){this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.assignRulesService.deleteAssignRuleParam(e.ruleParameterId).pipe(Object(_r.a)()).subscribe(()=>{this.notificationService.showSuccess("Deleted successfully"),this.getAssignRuleParams(this.assignRuleId)},e=>this.notificationService.showError(e.message))},reject:()=>{this.notificationService.showWarning("You have rejected")}})}cancel(){this.paramsForm.reset(),this.displayDialog=!1}save(){const e=this.paramsForm.value;if(this.isCreate)this.assignRulesService.createAssignRuleParam(Object.assign(Object.assign({},e),{assignRuleId:this.assignRuleId})).subscribe(()=>{this.notificationService.showSuccess("Saved successfully"),this.getAssignRuleParams(this.assignRuleId)},e=>this.notificationService.showError(e.message));else{const t=Object.assign({ruleParameterId:this.editingParamId,assignRuleId:this.assignRuleId},e);this.assignRulesService.updateAssignRuleParam(this.editingParamId,t).subscribe(()=>{this.notificationService.showSuccess("Updated successfully"),this.getAssignRuleParams(this.assignRuleId)},e=>this.notificationService.showError(e.message))}this.displayDialog=!1}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(m.a),l.Pb(Kr),l.Pb(An.a),l.Pb(u.a),l.Pb(o.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["app-rule-parameters"]],inputs:{assignRuleId:"assignRuleId"},features:[l.Cb],decls:32,vars:21,consts:[["class","card-wrapper",4,"ngIf"],[3,"header","visible","draggable","modal","blockScroll","visibleChange","onHide"],["novalidate","",3,"formGroup","ngSubmit"],[1,"ui-g","ui-fluid"],[1,"ui-g-12","form-group"],[1,"ui-grid-row","form-container"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["pInputText","","type","number","min","1","max","3","placeholder","Type Parameter Group","formControlName","parameterGroup",1,"textbox"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["placeholder","Select Parameter Name","optionLabel","parameterName","appendTo","body",1,"ml-auto",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["placeholder","Select Qualifier","optionLabel","lookupDescription","appendTo","body",1,"ml-auto",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["placeholder","Select And/Or","optionLabel","description","appendTo","body",1,"ml-auto",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["pInputText","","type","text","placeholder","Type Parameter Value","formControlName","paramterValue",1,"textbox"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],["class","card-block",4,"ngIf"],[1,"card-block"],["header","Deal Assignment Rule Parameters",3,"toggleable"],[1,"pull-right","icons-list"],["title","Add",3,"click",4,"isAuthorized"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],[1,"x-scroll"],["scrollable","true",1,"ui-datatable","arrangementMgrTbl",3,"value","loading","lazy","paginator","rows","totalRecords","onLazyLoad"],["dt",""],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["class","icon-edit",3,"click",4,"isAuthorized"],["class","icon-delete",3,"click",4,"isAuthorized"],[1,"icon-edit",3,"click"],[1,"icon-delete",3,"click"],[1,"no-data"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(e,t){1&e&&(l.Kc(0,al,6,5,"div",0),l.Vb(1,"p-dialog",1),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancel()})),l.Vb(2,"form",2),l.dc("ngSubmit",(function(){return t.save()})),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"div",6),l.Vb(7,"div",7),l.Vb(8,"span",8),l.Mc(9,"Parameter Group"),l.Ub(),l.Qb(10,"input",9),l.Kc(11,nl,2,0,"div",10),l.Ub(),l.Ub(),l.Vb(12,"div",6),l.Vb(13,"span",8),l.Mc(14,"Parameter Name"),l.Ub(),l.Vb(15,"p-dropdown",11),l.dc("ngModelChange",(function(e){return t.selectedParamName=e}))("onChange",(function(e){return t.onParamNameChange(e)})),l.Ub(),l.Ub(),l.Vb(16,"div",6),l.Vb(17,"span",8),l.Mc(18,"Qualifier"),l.Ub(),l.Vb(19,"p-dropdown",12),l.dc("ngModelChange",(function(e){return t.selectedQualifier=e}))("onChange",(function(e){return t.onQualifiersChange(e)})),l.Ub(),l.Ub(),l.Vb(20,"div",6),l.Vb(21,"span",8),l.Mc(22,"Qualifier"),l.Ub(),l.Vb(23,"p-dropdown",13),l.dc("ngModelChange",(function(e){return t.selectedAndOr=e}))("onChange",(function(e){return t.onChangeAndOr(e)})),l.Ub(),l.Ub(),l.Vb(24,"div",6),l.Vb(25,"span",8),l.Mc(26,"Parameter Value"),l.Ub(),l.Qb(27,"input",14),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(28,"p-footer"),l.Vb(29,"div",15),l.Vb(30,"button",16),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(31,"button",17),l.dc("click",(function(){return t.cancel()})),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&e&&(l.oc("ngIf",t.assignRuleId),l.Eb(1),l.pc("header",t.isCreate?"Create":"Edit"),l.oc("visible",t.displayDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.paramsForm),l.Eb(9),l.oc("ngIf",t.parameterGroup.errors&&(t.parameterGroup.dirty||t.parameterGroup.touched)),l.Eb(4),l.oc("options",t.paramNamesList)("ngModel",t.selectedParamName)("ngModelOptions",l.rc(18,ol)),l.Eb(4),l.oc("options",t.qualifiersList)("ngModel",t.selectedQualifier)("ngModelOptions",l.rc(19,ol)),l.Eb(4),l.oc("options",t.andOrList)("ngModel",t.selectedAndOr)("ngModelOptions",l.rc(20,ol)),l.Eb(7),l.oc("disabled",!t.paramsForm.valid))},directives:[v.o,M.a,n.v,n.l,n.g,n.p,n.b,S.a,n.k,n.e,R.a,n.n,o.b,C.b,oi.a,o.c,V.a,y.j,o.f],pipes:[v.b],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;width:100%;display:flex;flex-wrap:wrap}"]}),e})();function ll(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",36),l.dc("click",(function(){return l.Dc(e),l.gc(2).showDialogToAdd()})),l.Qb(1,"em",37),l.Ub()}}function sl(e,t){1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Vb(2,"th"),l.Vb(3,"a"),l.Mc(4,"Ranking"),l.Ub(),l.Ub(),l.Vb(5,"th"),l.Vb(6,"a"),l.Mc(7,"UserRole"),l.Ub(),l.Ub(),l.Vb(8,"th"),l.Vb(9,"a"),l.Mc(10,"Assignee Type"),l.Ub(),l.Ub(),l.Vb(11,"th"),l.Vb(12,"a"),l.Mc(13,"Assignee Group"),l.Ub(),l.Ub(),l.Vb(14,"th"),l.Vb(15,"a"),l.Mc(16,"Enabled Flag"),l.Ub(),l.Ub(),l.Ub())}function cl(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",41),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).editRow(t)})),l.Ub()}}function dl(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",42),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).delete(t)})),l.Ub()}}const ul=function(){return["write","MDAR"]};function bl(e,t){if(1&e&&(l.Vb(0,"tr",38),l.Vb(1,"td"),l.Vb(2,"span"),l.Kc(3,cl,1,0,"a",39),l.Ub(),l.Vb(4,"span"),l.Kc(5,dl,1,0,"a",40),l.Ub(),l.Ub(),l.Vb(6,"td"),l.Vb(7,"a"),l.Mc(8),l.Ub(),l.Ub(),l.Vb(9,"td"),l.Vb(10,"a"),l.Mc(11),l.Ub(),l.Ub(),l.Vb(12,"td"),l.Vb(13,"a"),l.Mc(14),l.Ub(),l.Ub(),l.Vb(15,"td"),l.Vb(16,"a"),l.Mc(17),l.Ub(),l.Ub(),l.Vb(18,"td"),l.Vb(19,"a"),l.Mc(20),l.Ub(),l.Ub(),l.Ub()),2&e){const e=t.$implicit;l.oc("pSelectableRow",e),l.Eb(3),l.oc("isAuthorized",l.rc(8,ul)),l.Eb(2),l.oc("isAuthorized",l.rc(9,ul)),l.Eb(3),l.Nc(e.ranking),l.Eb(3),l.Nc(e.userRole),l.Eb(3),l.Nc(e.assigneeType),l.Eb(3),l.Nc(e.assigneeGroup),l.Eb(3),l.Nc(e.enabledFlag)}}function pl(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td",43),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc(2);l.Eb(2),l.Nc(e.noData)}}const gl=function(){return{"margin-bottom":"20px"}};function hl(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",24),l.Vb(1,"p-panel",25),l.Vb(2,"p-header"),l.Vb(3,"div",26),l.Kc(4,ll,2,0,"a",27),l.Vb(5,"a",28),l.dc("click",(function(){l.Dc(e);const t=l.Bc(9);return l.gc().reset(t)})),l.Qb(6,"em",29),l.Ub(),l.Ub(),l.Ub(),l.Vb(7,"div",30),l.Vb(8,"p-table",31,32),l.dc("onLazyLoad",(function(t){return l.Dc(e),l.gc().getAssigneeRules(t)}))("selectionChange",(function(t){return l.Dc(e),l.gc().selectedRuleId=t}))("onRowSelect",(function(t){return l.Dc(e),l.gc().onRowSelect(t)}))("onRowUnselect",(function(){return l.Dc(e),l.gc().onRowUnSelect()})),l.Kc(10,sl,17,0,"ng-template",33),l.Kc(11,bl,21,10,"ng-template",34),l.Kc(12,pl,3,1,"ng-template",35),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=t.ngIf,i=l.gc();l.Eb(1),l.Ic(l.rc(11,gl)),l.oc("toggleable",!1),l.Eb(3),l.oc("isAuthorized",l.rc(12,ul)),l.Eb(4),l.oc("value",e.assigneeRules)("loading",i.isLoading)("lazy",!0)("paginator",!0)("rows",i.pageSize)("totalRecords",i.totalElements)("selection",i.selectedRuleId)}}function ml(e,t){1&e&&(l.Vb(0,"div",44),l.Mc(1," Field is required "),l.Ub())}const fl=function(){return{standalone:!0}};function Vl(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",10),l.Vb(1,"span",12),l.Mc(2,"Assignee Group"),l.Ub(),l.Vb(3,"p-dropdown",45),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().selectedGroup=t}))("onChange",(function(t){return l.Dc(e),l.gc().onGroupChange(t)})),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(3),l.oc("options",e.assigneeGroupsList)("ngModel",e.selectedGroup)("ngModelOptions",l.rc(3,fl))}}const vl=function(e){return{assigneeRules:e}};let yl=(()=>{class e{constructor(e,t,i,a){this.assignRulesService=e,this.notificationService=t,this.lookupsVService=i,this.confirmationService=a,this.pageSize=10,this.noData=qr.noData,this.isLoading=!1,this.displayDialog=!1,this.assigneeTypesList=[],this.enabledFlagList=[],this.userRolesList=[],this.assigneeGroupsList=[],this.isGroupTypeChosen=!1,this.editingRuleId=null,this.selectedRole={responsibilityId:null,responsibilityName:""},this.selectedFlag={lookupCode:"",lookupDescription:""},this.selectedType={lookupCode:"",lookupDescription:""},this.selectedGroup={lookupCode:"",lookupDescription:""},this.rulesForm=new n.f({ranking:new n.d(null,n.t.required),userRole:new n.d("",n.t.required),responsibilityId:new n.d("",n.t.required),assigneeType:new n.d("",n.t.required),assigneeGroup:new n.d(""),enabledFlag:new n.d("",n.t.required)})}get ranking(){return this.rulesForm.get("ranking")}get userRole(){return this.rulesForm.get("userRole")}get responsibilityId(){return this.rulesForm.get("responsibilityId")}get assigneeType(){return this.rulesForm.get("assigneeType")}get assigneeGroup(){return this.rulesForm.get("assigneeGroup")}get enabledFlag(){return this.rulesForm.get("enabledFlag")}ngOnInit(){this.getAssigneeTypes(),this.getUserRoles(),this.getEnabledFlags(),this.getAssigneeGroups()}resetDropdownModels(){this.selectedRole={responsibilityId:null,responsibilityName:""},this.selectedFlag={lookupCode:"",lookupDescription:""},this.selectedType={lookupCode:"",lookupDescription:""},this.selectedGroup={lookupCode:"",lookupDescription:""}}getAssigneeRules(e){this.isLoading=!0,this.assignRules$=this.assignRulesService.getAssigneeRules().pipe(Object(zr.a)(e=>this.totalElements=e.totalElements),Object(jr.a)(e=>e.content),Object($r.a)(()=>{this.isLoading=!1}))}getUserRoles(){this.assignRulesService.getUserRoles().subscribe(e=>{this.userRolesList=e.content.map(e=>({responsibilityName:e.responsibilityName,responsibilityId:e.responsibilityId}))})}getAssigneeTypes(){this.lookupsVService.getAllRmanLookupsV(null,{lookupTypeName:"ASSIGNEE_TYPE"}).then(e=>{this.assigneeTypesList=e.content.map(e=>({lookupCode:e.lookupCode,lookupDescription:e.lookupDescription}))})}getAssigneeGroups(){this.lookupsVService.getAllRmanLookupsV(null,{lookupTypeName:"DEPARTMENT_NAME"}).then(e=>{this.assigneeGroupsList=e.content.map(e=>({lookupCode:e.lookupCode,lookupDescription:e.lookupDescription}))})}getEnabledFlags(){this.lookupsVService.getAllRmanLookupsV(null,{lookupTypeName:"ENABLED_FLAG"}).then(e=>{this.enabledFlagList=e.content.map(e=>({lookupCode:e.lookupCode,lookupDescription:e.lookupDescription}))})}showDialogToAdd(){this.resetDropdownModels(),this.displayDialog=!0,this.isCreate=!0}reset(e){e.reset()}editRow(e){this.isCreate=!1;const{ranking:t,responsibilityId:i,assigneeType:a,assigneeGroup:n,enabledFlag:o,userRole:r}=e;this.editingRuleId=e.assignRuleId,this.rulesForm.setValue({ranking:t,userRole:r,responsibilityId:i,assigneeType:a,assigneeGroup:n,enabledFlag:o});const l="Y"===o?"Yes":"No";this.selectedType={lookupCode:a,lookupDescription:a},this.selectedRole={responsibilityId:i,responsibilityName:r},this.selectedFlag={lookupCode:o,lookupDescription:l},this.displayDialog=!0}delete(e){this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.assignRulesService.deleteAssigneeRule(e.assignRuleId).pipe(Object(_r.a)()).subscribe(()=>{this.notificationService.showSuccess("Deleted successfully"),this.getAssigneeRules()},e=>this.notificationService.showError(e.message))},reject:()=>{this.notificationService.showWarning("You have rejected")}})}cancel(){this.rulesForm.reset(),this.displayDialog=!1}onTypesChange(e){this.selectedType={lookupCode:e.value.lookupCode,lookupDescription:e.value.lookupDescription},this.assigneeType.setValue(this.selectedType.lookupCode),this.isGroupTypeChosen="GROUP"===this.selectedType.lookupCode,this.isGroupTypeChosen||this.assigneeGroup.setValue("")}onRoleChange(e){this.selectedRole={responsibilityId:e.value.responsibilityId,responsibilityName:e.value.responsibilityName},this.responsibilityId.setValue(this.selectedRole.responsibilityId),this.userRole.setValue(this.selectedRole.responsibilityName)}onFlagChange(e){this.selectedFlag={lookupCode:e.value.lookupCode,lookupDescription:e.value.lookupDescription},this.enabledFlag.setValue(this.selectedFlag.lookupCode)}onGroupChange(e){this.selectedGroup={lookupCode:e.value.lookupCode,lookupDescription:e.value.lookupDescription},this.assigneeGroup.setValue(this.selectedGroup.lookupCode)}save(){const e=this.rulesForm.value;this.isCreate?this.assignRulesService.createAssigneeRule(e).subscribe(()=>{this.notificationService.showSuccess("Saved successfully"),this.getAssigneeRules()},e=>this.notificationService.showError(e.message)):this.assignRulesService.updateAssigneeRule(this.editingRuleId,e).subscribe(()=>{this.notificationService.showSuccess("Updated successfully"),this.getAssigneeRules()},e=>this.notificationService.showError(e.message)),this.displayDialog=!1}onRowSelect(e){this.selectedRuleId=e.data.assignRuleId}onRowUnSelect(){this.selectedRuleId=null}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(Kr),l.Pb(m.a),l.Pb(u.a),l.Pb(o.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["app-rman-deal-assignment"]],decls:36,vars:27,consts:[[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],["class","card-block",4,"ngIf"],[3,"header","visible","draggable","modal","blockScroll","visibleChange","onHide"],["novalidate","",3,"formGroup","ngSubmit"],[1,"ui-g","ui-fluid"],[1,"ui-g-12","form-group"],[1,"ui-grid-row","form-container"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["pInputText","","type","number","min","1","max","3","placeholder","Type Ranking","formControlName","ranking",1,"textbox"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["placeholder","Select Role","optionLabel","responsibilityName","appendTo","body",1,"ml-auto",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["placeholder","Select Type","optionLabel","lookupDescription","appendTo","body",1,"ml-auto",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["placeholder","Select Flag","optionLabel","lookupDescription","appendTo","body",1,"ml-auto",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["class","ui-g-6",4,"ngIf"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["header","Confirmation","icon","fa fa-question-circle"],[3,"assignRuleId"],[1,"card-block"],["header","Deal Assignment Configuration",3,"toggleable"],[1,"pull-right","icons-list"],["title","Add",3,"click",4,"isAuthorized"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],[1,"x-scroll"],["selectionMode","single","scrollable","true",1,"ui-datatable","arrangementMgrTbl",3,"value","loading","lazy","paginator","rows","totalRecords","selection","onLazyLoad","selectionChange","onRowSelect","onRowUnselect"],["dt",""],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],[3,"pSelectableRow"],["class","icon-edit",3,"click",4,"isAuthorized"],["class","icon-delete",3,"click",4,"isAuthorized"],[1,"icon-edit",3,"click"],[1,"icon-delete",3,"click"],[1,"no-data"],[1,"ui-message","ui-messages-error","ui-corner-all"],["placeholder","Select Group","optionLabel","lookupDescription","appendTo","body",1,"ml-auto",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"]],template:function(e,t){1&e&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Kc(4,hl,13,13,"div",4),l.hc(5,"async"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(6,"p-dialog",5),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancel()})),l.Vb(7,"form",6),l.dc("ngSubmit",(function(){return t.save()})),l.Vb(8,"div",7),l.Vb(9,"div",8),l.Vb(10,"div",9),l.Vb(11,"div",10),l.Vb(12,"div",11),l.Vb(13,"span",12),l.Mc(14,"Ranking"),l.Ub(),l.Qb(15,"input",13),l.Kc(16,ml,2,0,"div",14),l.Ub(),l.Ub(),l.Vb(17,"div",10),l.Vb(18,"span",12),l.Mc(19,"User Role"),l.Ub(),l.Vb(20,"p-dropdown",15),l.dc("ngModelChange",(function(e){return t.selectedRole=e}))("onChange",(function(e){return t.onRoleChange(e)})),l.Ub(),l.Ub(),l.Vb(21,"div",10),l.Vb(22,"span",12),l.Mc(23,"Assignee Type"),l.Ub(),l.Vb(24,"p-dropdown",16),l.dc("ngModelChange",(function(e){return t.selectedType=e}))("onChange",(function(e){return t.onTypesChange(e)})),l.Ub(),l.Ub(),l.Vb(25,"div",10),l.Vb(26,"span",12),l.Mc(27,"Enabled Flag"),l.Ub(),l.Vb(28,"p-dropdown",17),l.dc("ngModelChange",(function(e){return t.selectedFlag=e}))("onChange",(function(e){return t.onFlagChange(e)})),l.Ub(),l.Ub(),l.Kc(29,Vl,4,4,"div",18),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(30,"p-footer"),l.Vb(31,"div",19),l.Vb(32,"button",20),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(33,"button",21),l.dc("click",(function(){return t.cancel()})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(34,"p-confirmDialog",22),l.Qb(35,"app-rule-parameters",23)),2&e&&(l.Eb(4),l.oc("ngIf",l.sc(22,vl,l.ic(5,20,t.assignRules$))),l.Eb(2),l.pc("header",t.isCreate?"Create":"Edit"),l.oc("visible",t.displayDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.rulesForm),l.Eb(9),l.oc("ngIf",t.ranking.errors&&(t.ranking.dirty||t.ranking.touched)),l.Eb(4),l.oc("options",t.userRolesList)("ngModel",t.selectedRole)("ngModelOptions",l.rc(24,fl)),l.Eb(4),l.oc("options",t.assigneeTypesList)("ngModel",t.selectedType)("ngModelOptions",l.rc(25,fl)),l.Eb(4),l.oc("options",t.enabledFlagList)("ngModel",t.selectedFlag)("ngModelOptions",l.rc(26,fl)),l.Eb(1),l.oc("ngIf",t.isGroupTypeChosen),l.Eb(3),l.oc("disabled",!t.rulesForm.valid),l.Eb(3),l.oc("assignRuleId",t.selectedRuleId))},directives:[v.o,M.a,n.v,n.l,n.g,n.p,n.b,S.a,n.k,n.e,R.a,n.n,o.b,C.b,E.a,rl,oi.a,o.c,V.a,y.j,o.f,y.i],pipes:[v.b],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;width:100%;display:flex;flex-wrap:wrap}"]}),e})();var Ml=i("T+8X");const Ul=i("+yMW"),Cl={headers:new r.f({"Content-Type":"application/json"})};let Rl=(()=>{class e{constructor(e,t){this.http=e,this.datePipe=t}getAllRmanImputedCostRules(e,t){let i=Ul.apiUrl+"/ayaraImputedCostRulesSearch?",a="";return["ruleHeaderId","cstRuleName","endDate","startDate","cstAdjustment","approverId","cstBasis","enabledFlag","attribute4","attribute5","attribute6","attribute7","attribute8","attribute9","attribute10","attribute11","attribute12","attribute13","attribute14","attribute15","attribute16","attribute17","attribute18","attribute19","attribute20","attribute21","attribute22","attribute23","attribute24","attribute25","attribute26","attribute27","attribute28","attribute29","attribute30","creationDate","createdBy","lastUpdateDate","description","ruleMasterId","approverId","sequenceNumber","dealFlag"].forEach(e=>{null!=t[e]&&""!=t[e]&&(a=t[e]instanceof Date?a+e+":"+this.datePipe.transform(t[e],"yyyyMMdd")+",":a+e+":"+t[e]+",")}),""==a?i+="search=%25":i=i+"search="+a,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(i=i+"&page="+e.pageNumber+"&size="+e.pageSize),this.http.get(i).toPromise().then(e=>e)}saveRmanImputedCostRules(e){let t=JSON.stringify(e);return this.http.post(Ul.apiUrl+"/AYARA_IMPUTED_COST_RULES",t,Cl).toPromise().then(e=>e)}updateRmanImputedCostRules(e){const t=e.cstRuleId;delete e._links,delete e.interests,delete e.cstRuleId;let i=JSON.stringify(e);return this.http.put(Ul.apiUrl+"/AYARA_IMPUTED_COST_RULES/"+t,i,Cl).toPromise().then(e=>e)}deleteRmanImputedCostRules(e){return this.http.delete(Ul.apiUrl+"/AYARA_IMPUTED_COST_RULES/"+e.cstRuleId,Cl).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b),l.Zb(v.f))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Sl=i("+yMW"),El={headers:new r.f({"Content-Type":"application/json"})};let Dl=(()=>{class e{constructor(e){this.http=e}getAllRmanRuleParameterValue(e,t){let i=Sl.apiUrl+"/ayaraImputedCostRuleParametersSearch?",a="";return null!=t.parameterValueId&&""!=t.parameterValueId&&(a=a+"parameterValueId:"+t.parameterValueId+","),null!=t.cstRuleId&&""!=t.cstRuleId&&(a=a+"cstRuleId:"+t.cstRuleId+","),null!=t.paramterGroup&&""!=t.paramterGroup&&(a=a+"paramterGroup:"+t.paramterGroup+","),null!=t.parameterId&&""!=t.parameterId&&(a=a+"parameterId:"+t.parameterId+","),null!=t.qualifier&&""!=t.qualifier&&(a=a+"qualifier:"+t.qualifier+","),null!=t.parameterValue&&""!=t.parameterValue&&(a=a+"parameterValue:"+t.parameterValue+","),null!=t.creationDate&&""!=t.creationDate&&(a=a+"creationDate:"+t.creationDate+","),null!=t.createdBy&&""!=t.createdBy&&(a=a+"createdBy:"+t.createdBy+","),null!=t.lastUpdateDate&&""!=t.lastUpdateDate&&(a=a+"lastUpdateDate:"+t.lastUpdateDate+","),null!=t.lastUpdatedBy&&""!=t.lastUpdatedBy&&(a=a+"lastUpdatedBy:"+t.lastUpdatedBy+","),null!=t.parameterName&&""!=t.parameterName&&(a=a+"parameterName:"+t.parameterName+","),null!=t.andOr&&""!=t.andOr&&(a=a+"andOr:"+t.andOr+","),null!=t.dealFlag&&""!=t.dealFlag&&(a=a+"dealFlag:"+t.dealFlag),""==a?i+="search=%25":i=i+"search="+a,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(i=i+"&page="+e.pageNumber+"&size="+e.pageSize),this.http.get(i).toPromise().then(e=>e)}searchRmanRuleParameterValue(e){return this.http.get(Sl.apiUrl+"/AYARA_IMPUTED_COST_RULE_PARAMETERS/search/findByParameterValueIdAndRuleHeaderIdAndParameterIdAndQualifierAndParameterValueAndAttribute1AndAttribute2AndAttribute3AndAttribute4AndAttribute5AndAttribute6AndAttribute7AndAttribute8AndAttribute9AndAttribute10AndAttribute11AndAttribute12AndAttribute13AndAttribute14AndAttribute15AndAttribute16AndAttribute17AndAttribute18AndAttribute19AndAttribute20AndAttribute21AndAttribute22AndAttribute23AndAttribute24AndAttribute25AndAttribute26AndAttribute27AndAttribute28AndAttribute29AndAttribute30AndCreationDateAndCreatedByAndLastUpdateDateAndLastUpdatedByAndParameterGroupAndAndOrAndDealFlag?parameterValueId="+e.parameterValueId+"&ruleHeaderId="+e.ruleHeaderId+"&parameterId="+e.parameterId+"&qualifier="+e.qualifier+"&parameterValue="+e.parameterValue+"&attribute1="+e.attribute1+"&attribute2="+e.attribute2+"&attribute3="+e.attribute3+"&attribute4="+e.attribute4+"&attribute5="+e.attribute5+"&attribute6="+e.attribute6+"&attribute7="+e.attribute7+"&attribute8="+e.attribute8+"&attribute9="+e.attribute9+"&attribute10="+e.attribute10+"&attribute11="+e.attribute11+"&attribute12="+e.attribute12+"&attribute13="+e.attribute13+"&attribute14="+e.attribute14+"&attribute15="+e.attribute15+"&attribute16="+e.attribute16+"&attribute17="+e.attribute17+"&attribute18="+e.attribute18+"&attribute19="+e.attribute19+"&attribute20="+e.attribute20+"&attribute21="+e.attribute21+"&attribute22="+e.attribute22+"&attribute23="+e.attribute23+"&attribute24="+e.attribute24+"&attribute25="+e.attribute25+"&attribute26="+e.attribute26+"&attribute27="+e.attribute27+"&attribute28="+e.attribute28+"&attribute29="+e.attribute29+"&attribute30="+e.attribute30+"&creationDate="+e.creationDate+"&createdBy="+e.createdBy+"&lastUpdateDate="+e.lastUpdateDate+"&lastUpdatedBy="+e.lastUpdatedBy+"&parameterGroup="+e.parameterGroup+"&andOr="+e.andOr+"&dealFlag="+e.dealFlag).toPromise().then(e=>e)}saveRmanRuleParameterValue(e){let t=JSON.stringify(e);return this.http.post(Sl.apiUrl+"/AYARA_IMPUTED_COST_RULE_PARAMETERS",t,El).toPromise().then(e=>e)}updateRmanRuleParameterValue(e){delete e._links,delete e.interests;let t=JSON.stringify(e);return this.http.put(Sl.apiUrl+"/AYARA_IMPUTED_COST_RULE_PARAMETERS/"+e.cstRuleParamId,t,El).toPromise().then(e=>e)}deleteRmanRuleParameterValue(e){return this.http.delete(Sl.apiUrl+"/AYARA_IMPUTED_COST_RULE_PARAMETERS/"+e.cstRuleParamId,El).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac}),e})();function kl(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",55),l.dc("onDragStart",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDragStart(t)}))("onDrop",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDrop(t)})),l.Vb(2,"div",56),l.Vb(3,"input",57),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label"),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField),l.Eb(2),l.Nc(e.header)}}const wl=function(){return{color:"grey"}};function Al(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",58),l.Vb(2,"div"),l.Vb(3,"input",59),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label",60),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),l.Eb(1),l.oc("ngStyle",l.rc(5,wl)),l.Eb(1),l.Nc(e.header)}}function Ol(e,t){if(1&e&&(l.Kc(0,kl,6,3,"div",54),l.Kc(1,Al,6,6,"div",54)),2&e){const e=t.$implicit;l.oc("ngIf",e.drag),l.Eb(1),l.oc("ngIf",!e.drag)}}const Pl=function(){return{width:"100%",height:"100%"}};function Il(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",43),l.Vb(1,"div",44),l.Vb(2,"div",45),l.Vb(3,"input",46),l.dc("click",(function(){return l.Dc(e),l.gc().onSelectAll()})),l.Ub(),l.Vb(4,"label",47),l.Mc(5,"Select All"),l.Ub(),l.Vb(6,"a",48),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(7,"\xd7"),l.Ub(),l.Vb(8,"p-listbox",49),l.Kc(9,Ol,2,2,"ng-template",50),l.Ub(),l.Ub(),l.Vb(10,"div",51),l.Vb(11,"a",52),l.dc("click",(function(){return l.Dc(e),l.gc().saveColumns()})),l.Mc(12,"Save"),l.Ub(),l.Vb(13,"a",53),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(14,"Cancel"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(3),l.oc("checked",e.isSelectAllChecked),l.Eb(5),l.Ic(l.rc(4,Pl)),l.oc("options",e.globalCols)}}function Fl(e,t){1&e&&l.Qb(0,"col")}function Nl(e,t){if(1&e&&(l.Vb(0,"colgroup"),l.Qb(1,"col"),l.Kc(2,Fl,1,0,"col",61),l.Ub()),2&e){const e=t.$implicit;l.Eb(2),l.oc("ngForOf",e)}}const Tl=function(e){return{display:e}};function Ll(e,t){if(1&e&&(l.Vb(0,"th",64),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,Tl,e.display)),l.Eb(1),l.Nc(e.header)}}function xl(e,t){if(1&e&&(l.Vb(0,"th",65),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,Tl,e.display)),l.Eb(1),l.Nc(e.header)}}function Bl(e,t){if(1&e&&(l.Tb(0),l.Kc(1,Ll,2,5,"th",62),l.Kc(2,xl,2,5,"th",63),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type||"date"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function Hl(e,t){if(1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Kc(2,Bl,3,2,"ng-container",61),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.oc("ngForOf",e.columns)}}function ql(e,t){if(1&e&&(l.Vb(0,"td",71),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit,i=l.gc();l.pc("title",i.transformRmanEntityParametersV(t.rmanEntityParametersV)),l.oc("ngStyle",l.sc(3,Tl,e.display)),l.Eb(1),l.Oc(" ",i.transformRmanEntityParametersV(t.rmanEntityParametersV)," ")}}function Kl(e,t){if(1&e&&(l.Vb(0,"td",71),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,Tl,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function zl(e,t){if(1&e&&(l.Vb(0,"td",72),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,Tl,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function jl(e,t){if(1&e&&(l.Vb(0,"td",71),l.hc(1,"date"),l.Mc(2),l.hc(3,"date"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.jc(1,3,t[e.field],"MM/dd/yyyy")),l.oc("ngStyle",l.sc(9,Tl,e.display)),l.Eb(2),l.Oc(" ",l.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function $l(e,t){if(1&e&&(l.Vb(0,"td",72),l.hc(1,"round"),l.Mc(2),l.hc(3,"round"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.ic(1,3,t[e.field])),l.oc("ngStyle",l.sc(7,Tl,e.display)),l.Eb(2),l.Oc(" ",l.ic(3,5,t[e.field])," ")}}function _l(e,t){if(1&e&&(l.Tb(0),l.Kc(1,ql,2,5,"td",69),l.Kc(2,Kl,2,5,"td",69),l.Kc(3,zl,2,5,"td",70),l.Kc(4,jl,4,11,"td",69),l.Kc(5,$l,4,9,"td",70),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type&&"parameterId"==e.field),l.Eb(1),l.oc("ngIf","text"==e.type&&"parameterId"!==e.field),l.Eb(1),l.oc("ngIf","number"==e.type),l.Eb(1),l.oc("ngIf","date"==e.type),l.Eb(1),l.oc("ngIf","round"==e.type)}}function Ql(e,t){if(1&e){const e=l.Wb();l.Vb(0,"tr",66),l.Vb(1,"td"),l.Vb(2,"a",67),l.dc("click",(function(){l.Dc(e);const i=t.$implicit;return l.gc().editRow(i)})),l.Ub(),l.Vb(3,"a",68),l.dc("click",(function(){l.Dc(e);const i=t.$implicit;return l.gc().delete(i)})),l.Ub(),l.Ub(),l.Kc(4,_l,6,5,"ng-container",61),l.Ub()}if(2&e){const e=t.columns;l.oc("pSelectableRow",t.$implicit),l.Eb(4),l.oc("ngForOf",e)}}function Gl(e,t){if(1&e&&(l.Vb(0,"div",73),l.Vb(1,"p"),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.Nc(e.noData)}}function Wl(e,t){if(1&e&&(l.Vb(0,"div",79),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.parameterId," ")}}function Yl(e,t){if(1&e&&(l.Vb(0,"div",79),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.qualifier," ")}}const Jl=function(){return{standalone:!0}};function Zl(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",24),l.Vb(1,"div",74),l.Vb(2,"div",25),l.Vb(3,"div",26),l.Vb(4,"span",27),l.Mc(5," Parameter Name "),l.Vb(6,"span",75),l.Mc(7,"*"),l.Ub(),l.Ub(),l.Vb(8,"p-dropdown",76),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.parameterId=t})),l.Ub(),l.Kc(9,Wl,2,1,"div",77),l.Ub(),l.Vb(10,"div",30),l.Vb(11,"span",27),l.Mc(12," Qualifier "),l.Vb(13,"span",75),l.Mc(14,"*"),l.Ub(),l.Ub(),l.Vb(15,"p-dropdown",78),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.qualifier=t})),l.Ub(),l.Kc(16,Yl,2,1,"div",77),l.Ub(),l.Ub(),l.Vb(17,"div",25),l.Vb(18,"div",26),l.Vb(19,"span",27),l.Mc(20," Parameter Value "),l.Ub(),l.Vb(21,"span",28),l.Vb(22,"input",34),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.parameterValue=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(23,"div",30),l.Vb(24,"span",27),l.Mc(25," Parameter Group "),l.Ub(),l.Vb(26,"span",28),l.Vb(27,"input",29),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.paramterGroup=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(28,"div",25),l.Vb(29,"div",26),l.Vb(30,"span",27),l.Mc(31," And/Or "),l.Ub(),l.Vb(32,"p-dropdown",33),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRuleParameterValue.andOr=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(8),l.oc("options",e.rmanEntityParametersV)("ngModel",e.rmanRuleParameterValue.parameterId)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.parameterId),l.Eb(6),l.oc("options",e.rmanLookupsV)("ngModel",e.rmanRuleParameterValue.qualifier)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.qualifier),l.Eb(6),l.oc("ngModelOptions",l.rc(16,Jl))("ngModel",e.rmanRuleParameterValue.parameterValue),l.Eb(5),l.oc("ngModelOptions",l.rc(17,Jl))("ngModel",e.rmanRuleParameterValue.paramterGroup),l.Eb(5),l.oc("options",e.rmanLookupsV1)("ngModelOptions",l.rc(18,Jl))("ngModel",e.rmanRuleParameterValue.andOr)("filter",!0)}}const Xl=i("+yMW");let es=(()=>{class e{constructor(e,t,i,a,n,o,r){this.rmanRuleParameterValueService=e,this.rmanLookupsVService=t,this.rmanEntityParametersVService=i,this.formBuilder=a,this.confirmationService=n,this.notificationService=o,this.commonSharedService=r,this.msgs=[],this.rmanRuleParameterValue=new ts,this.rmanRuleParameterValueSearch=new ts,this.isSerached=0,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.rmanLookupsVList=[],this.rmanLookupsV1List=[],this.rmanEntityParametersVList=[],this.collapsedRuleParameters=!0,this.noData=Xl.noData,this.formErrors={qualifier:"",parameterId:""},this.validationMessages={parameterId:{required:"Parameter ID is required"},qualifier:{required:"Qualifier is Required"}},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"RULE_QUALIFIER"}).then(e=>{this.rmanLookupsVList=e.content,this.prepareRmanLookupsVObject(),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"RULE_CONDITION"}).then(e=>{this.rmanLookupsV1List=e.content,this.prepareRmanLookupsV1Object()}).catch(e=>{this.notificationService.showError('Error occured while getting "AND/OR" data'),this.loading=!1})}).catch(e=>{this.notificationService.showError('Error occured while getting "Qualifier" data'),this.loading=!1})}ngOnChanges(e){}ngOnInit(){this.globalCols=[{field:"paramterGroup",header:"Parameter Group",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"parameterName",header:"Parameter Name",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"qualifier",header:"Qualifier",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"parameterValue",header:"Parameter Value",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"andOr",header:"And/Or",showField:!0,display:"table-cell",type:"text",drag:!0}],this.columns=[],this.getTableColumns("ImputedCostRuleParameters","Imputed Cost Rule Parameters"),this.buildForm()}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];let t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.globalCols.findIndex(t=>t.field==e),this.onDrop(t))}),this.globalCols.forEach(t=>{-1!==e.tableColumns.indexOf(t.field)?this.columns.push(t):t.showField=!1}),this.columns.length!=this.globalCols.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.globalCols}).catch(()=>{this.notificationService.showError("Error occured while getting table columns data"),this.loading=!1})}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.globalCols.length-1;this.globalCols.forEach((i,a)=>{i.showField&&(e+=i.field,a<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("ImputedCostRuleParameters","Imputed Cost Rule Parameters",e,this.userId).then(e=>{this.columns=this.globalCols.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}selectColumns(e){let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}reset(e){this.paginationOptions={},this.rmanRuleParameterValue=new ts,e.reset()}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}buildForm(){this.ruleParametersForm=this.formBuilder.group({qualifier:["",[n.t.required]],parameterId:["",[n.t.required]],parameterName:[""]}),this.ruleParametersForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}onValueChanged(e){if(!this.ruleParametersForm)return;const t=this.ruleParametersForm;for(const i in this.formErrors){this.formErrors[i]="";const e=t.get(i);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[i];for(const a in e.errors)this.formErrors[i]+=t[a]+" "}}}transformRmanLookupsV(e){if(e)return e.lookupDescription}transformRmanLookupsV1(e){if(e)return e.lookupDescription}transformRmanEntityParametersV(e){if(e)return e.parameterName}getAllRmanRuleParameterValue(e){this.rmanRuleParameterValue.cstRuleId=this.pCstRuleId,this.loading=!0,null!=this.pCstRuleId&&this.pCstRuleId&&this.rmanRuleParameterValueService.getAllRmanRuleParameterValue(this.paginationOptions,this.rmanRuleParameterValue).then(e=>{this.loading=!1,this.datasource=e.content,0==this.isSerached?this.rmanRuleParameterValueList=e.content.filter(e=>e.cstRuleId=this.pCstRuleId):(this.rmanRuleParameterValueList=e.content,this.isSerached=0),this.totalElements=e.totalElements,this.pageSize=e.size,this.displaySearchDialog=!1}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}getRmanRuleParameterValue(e){this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,null!=this.pCstRuleId&&this.pCstRuleId&&(this.rmanRuleParameterValue.cstRuleId=this.pCstRuleId,this.rmanRuleParameterValueService.getAllRmanRuleParameterValue(this.paginationOptions,this.rmanRuleParameterValue).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanRuleParameterValueList=null!=this.pCstRuleId?e.content.filter(e=>e.cstRuleId==this.pCstRuleId):e.content,this.totalElements=e.totalElements,this.pageSize=e.size}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1}))}showDialogToAdd(){this.newRmanRuleParameterValue=!0,this.rmanRuleParameterValue=new ts,null==this.pCstRuleId||0==this.pCstRuleId?(this.displayDialog=!1,this.notificationService.showInfo("Please select Imputed Cost Rule"),this.displayConfirmation=!0):(this.rmanRuleParameterValue.cstRuleId=this.pCstRuleId,this.displayDialog=!0,this.prepareRmanLookupsVObject(),this.prepareRmanLookupsV1Object(),this.prepareRmanEntityParametersVObject())}cancelEdit(){this.displayDialog=!1,this.rmanRuleParameterValue=new ts}cancelSearch(){this.displaySearchDialog=!1,this.rmanRuleParameterValueSearch=new ts}parentCall(e){this.masterData=e,""!=e?(this.pCstRuleId=e.cstRuleId,this.pRuleCategory=e.ruleCategory,this.rmanEntityParametersVService.getAllRmanEntityParametersV(this.paginationOptions,{entityName:"Imputed Cost Rules"},"Y").then(e=>{this.rmanEntityParametersVList=e.content,this.prepareRmanEntityParametersVObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Parameter ID" data'),this.loading=!1}),this.getAllRmanRuleParameterValue()):(this.pCstRuleId=null,this.rmanRuleParameterValueList=[])}saveOrUpdate(e){this.notificationService.showSuccess(e),this.loading=!1,this.getAllRmanRuleParameterValue()}save(){const e=this.rmanEntityParametersV.filter(e=>e.value==this.rmanRuleParameterValue.parameterId);this.rmanRuleParameterValue.parameterName=e[0].label,this.newRmanRuleParameterValue?(this.rmanRuleParameterValue.cstRuleId=this.pCstRuleId,this.loading=!0,this.rmanRuleParameterValueService.saveRmanRuleParameterValue(this.rmanRuleParameterValue).then(e=>{this.saveOrUpdate("Saved successfully")}).catch(e=>{this.notificationService.showError("Error occured while saving data"),this.loading=!1})):(this.loading=!0,this.rmanRuleParameterValueService.updateRmanRuleParameterValue(this.rmanRuleParameterValue).then(e=>{this.saveOrUpdate("Updated successfully")}).catch(e=>{this.notificationService.showError("Error occured while updating the data"),this.loading=!1})),this.rmanRuleParameterValue=new ts,this.displayDialog=!1}delete(e){this.rmanRuleParameterValue=e,this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.loading=!0,this.rmanRuleParameterValueService.deleteRmanRuleParameterValue(this.rmanRuleParameterValue).then(e=>{this.loading=!1,this.rmanRuleParameterValueList.splice(this.findSelectedRmanRuleParameterValueIndex(),1),this.rmanRuleParameterValue=new ts,this.notificationService.showSuccess("Deleted successfully"),this.getAllRmanRuleParameterValue()},e=>{this.notificationService.showError("Error occurred while deleting data")})},reject:()=>{this.notificationService.showWarning("You have rejected")}})}editRow(e){this.newRmanRuleParameterValue=!1,this.rmanRuleParameterValue=this.cloneRmanRuleParameterValue(e),this.displayDialog=!0,this.ruleParametersForm.patchValue({parameterId:Number(this.rmanRuleParameterValue.parameterId)}),this.prepareRmanLookupsVObject(),this.prepareRmanLookupsV1Object(),this.prepareRmanEntityParametersVObject()}findSelectedRmanRuleParameterValueIndex(){return this.rmanRuleParameterValueList.indexOf(this.selectedRmanRuleParameterValue)}onRowSelect(e){}cloneRmanRuleParameterValue(e){let t=new ts;for(let i in e)t[i]=e[i];return t}toggleColumnMenu(){this.hideColumnMenu=!this.hideColumnMenu}toggleFilterBox(){this.showFilter=!this.showFilter}showDialogToSearch(){this.rmanRuleParameterValueSearch=new ts,0==this.isSerached&&(this.rmanRuleParameterValueSearch=new ts),this.displaySearchDialog=!0}search(){this.isSerached=1,this.rmanRuleParameterValue=this.rmanRuleParameterValueSearch,this.paginationOptions={},this.getAllRmanRuleParameterValue(this.rmanRuleParameterValue)}prepareRmanLookupsVObject(){let e=[{label:"--Select Qualifier(*)--",value:null}];this.rmanLookupsVList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV=e}prepareRmanLookupsV1Object(){let e=[{label:"--Select And/Or--",value:null}];this.rmanLookupsV1List.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV1=e}prepareRmanEntityParametersVObject(){let e=[{label:"--Select Parameter Name(*)--",value:null}];this.rmanEntityParametersVList.forEach(t=>{e.push({label:t.parameterName,value:t.entityParameterId})}),this.rmanEntityParametersV=e}onBeforeToggleRuleParameters(e){this.collapsedRuleParameters=e.collapsed}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(Dl),l.Pb(u.a),l.Pb(An.a),l.Pb(n.c),l.Pb(o.a),l.Pb(m.a),l.Pb(h.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["rmanImputedCostRuleParameterValue-data"]],inputs:{pCstRuleId:"pCstRuleId",pRuleCategory:"pRuleCategory"},features:[l.Db([Dl,An.a,o.a]),l.Cb],decls:67,vars:41,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","ruleParameter-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","columns","value","lazy","paginator","rows","totalRecords","resizableColumns","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Search","width","800","showEffect","fade",3,"visible","draggable","modal","blockScroll","visibleChange","onHide"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"selectSpan"],[1,"md-inputfield"],["pInputText","","name","paramterGroup","id","paramterGroup","required","","placeholder","Parameter Group",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],["pInputText","","name","parameterName","id","parameterName","required","","placeholder","Parameter Name",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["name","qualifier","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],["name","andOr","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],["pInputText","","name","parameterValue","id","parameterValue","required","","placeholder","Parameter Value",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["width","800","showEffect","fade",3,"header","visible","draggable","modal","blockScroll","visibleChange","onHide"],["novalidate","",3,"formGroup","ngSubmit"],["class","ui-grid ui-grid-responsive ui-fluid",4,"ngIf"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["header","Confirmation","icon","fa fa-question-circle","width","425"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow"],["title","Edit",1,"icon-edit",3,"click"],["title","Delete",1,"icon-delete",3,"click"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-results-data"],[1,"ui-g"],[1,"red-color"],["name","parameterId","formControlName","parameterId","appendTo","body",3,"options","ngModel","filter","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["name","qualifier","formControlName","qualifier","appendTo","body",3,"options","ngModel","filter","ngModelChange"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(e,t){if(1&e){const e=l.Wb();l.Qb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"h2"),l.Mc(7),l.Ub(),l.Vb(8,"div",6),l.Vb(9,"a",7),l.dc("click",(function(e){return t.onConfiguringColumns(e)})),l.Qb(10,"em",8),l.Mc(11,"Columns"),l.Ub(),l.Vb(12,"a",9),l.dc("click",(function(){return t.showDialogToAdd()})),l.Qb(13,"em",10),l.Ub(),l.Vb(14,"a",11),l.dc("click",(function(){return t.showDialogToSearch()})),l.Qb(15,"em",12),l.Ub(),l.Vb(16,"a",13),l.dc("click",(function(){l.Dc(e);const i=l.Bc(21);return t.reset(i)})),l.Qb(17,"em",14),l.Ub(),l.Kc(18,Il,15,5,"div",15),l.Ub(),l.Vb(19,"div",16),l.Vb(20,"p-table",17,18),l.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getRmanRuleParameterValue(e)})),l.Kc(22,Nl,3,1,"ng-template",19),l.Kc(23,Hl,3,1,"ng-template",20),l.Kc(24,Ql,5,2,"ng-template",21),l.Kc(25,Gl,3,1,"ng-template",22),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(26,"p-dialog",23),l.dc("visibleChange",(function(e){return t.displaySearchDialog=e}))("onHide",(function(){return t.cancelSearch()})),l.Vb(27,"form"),l.Vb(28,"div",24),l.Vb(29,"div",25),l.Vb(30,"div",26),l.Vb(31,"span",27),l.Mc(32," Parameter Group "),l.Ub(),l.Vb(33,"span",28),l.Vb(34,"input",29),l.dc("ngModelChange",(function(e){return t.rmanRuleParameterValueSearch.paramterGroup=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(35,"div",30),l.Vb(36,"span",27),l.Mc(37," Parameter Name "),l.Ub(),l.Vb(38,"span",28),l.Vb(39,"input",31),l.dc("ngModelChange",(function(e){return t.rmanRuleParameterValueSearch.parameterName=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(40,"div",25),l.Vb(41,"div",26),l.Vb(42,"span",27),l.Mc(43," Qualifier "),l.Ub(),l.Vb(44,"p-dropdown",32),l.dc("ngModelChange",(function(e){return t.rmanRuleParameterValueSearch.qualifier=e})),l.Ub(),l.Ub(),l.Vb(45,"div",30),l.Vb(46,"span",27),l.Mc(47," And/Or "),l.Ub(),l.Vb(48,"p-dropdown",33),l.dc("ngModelChange",(function(e){return t.rmanRuleParameterValueSearch.andOr=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(49,"div",25),l.Vb(50,"div",26),l.Vb(51,"span",27),l.Mc(52," Parameter Value "),l.Ub(),l.Vb(53,"span",28),l.Vb(54,"input",34),l.dc("ngModelChange",(function(e){return t.rmanRuleParameterValueSearch.parameterValue=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(55,"p-footer"),l.Vb(56,"div",35),l.Vb(57,"button",36),l.dc("click",(function(){return t.search()})),l.Ub(),l.Vb(58,"button",37),l.dc("click",(function(){return t.displaySearchDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(59,"p-dialog",38),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancelEdit()})),l.Vb(60,"form",39),l.dc("ngSubmit",(function(){return t.save()})),l.Kc(61,Zl,33,19,"div",40),l.Ub(),l.Vb(62,"p-footer"),l.Vb(63,"div",35),l.Vb(64,"button",41),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(65,"button",37),l.dc("click",(function(){return t.displayDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(66,"p-confirmDialog",42)}2&e&&(l.Eb(7),l.Oc("Cost Rule Conditions: ",null==t.masterData?null:t.masterData.cstRuleName," "),l.Eb(11),l.oc("ngIf",!t.showAddColumns),l.Eb(2),l.oc("loading",t.loading)("columns",t.columns)("value",t.rmanRuleParameterValueList)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("resizableColumns",!0),l.Eb(6),l.oc("visible",t.displaySearchDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(8),l.oc("ngModelOptions",l.rc(36,Jl))("ngModel",t.rmanRuleParameterValueSearch.paramterGroup),l.Eb(5),l.oc("ngModelOptions",l.rc(37,Jl))("ngModel",t.rmanRuleParameterValueSearch.parameterName),l.Eb(5),l.oc("options",t.rmanLookupsV)("ngModelOptions",l.rc(38,Jl))("ngModel",t.rmanRuleParameterValueSearch.qualifier)("filter",!0),l.Eb(4),l.oc("options",t.rmanLookupsV1)("ngModelOptions",l.rc(39,Jl))("ngModel",t.rmanRuleParameterValueSearch.andOr)("filter",!0),l.Eb(6),l.oc("ngModelOptions",l.rc(40,Jl))("ngModel",t.rmanRuleParameterValueSearch.parameterValue),l.Eb(5),l.pc("header",t.newRmanRuleParameterValue?"Create New Const Rule Condition":"Edit Const Rule Condition"),l.oc("visible",t.displayDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.ruleParametersForm),l.Eb(1),l.oc("ngIf",t.rmanRuleParameterValue),l.Eb(3),l.oc("disabled",!t.ruleParametersForm.valid))},directives:[v.o,y.j,o.f,M.a,n.v,n.l,n.m,n.b,S.a,n.s,n.k,n.n,R.a,o.b,C.b,n.g,E.a,D.a,k.b,k.c,n.a,v.p,v.n,y.g,y.i,n.e],pipes:[v.f,O.a],encapsulation:2}),e})();class ts{constructor(e,t,i,a,n,o,r,l,s,c,d,u,b){this.dealFlag=e,this.cstRuleId=t,this.lastUpdateDate=i,this.parameterValueId=a,this.parameterId=n,this.parameterName=o,this.createdBy=r,this.lastUpdatedBy=l,this.creationDate=s,this.qualifier=c,this.andOr=d,this.parameterValue=u}}function is(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",54),l.dc("click",(function(){return l.Dc(e),l.gc().showDialogToAdd()})),l.Qb(1,"em",55),l.Ub()}}function as(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",67),l.dc("onDragStart",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDragStart(t)}))("onDrop",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDrop(t)})),l.Vb(2,"div",68),l.Vb(3,"input",69),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label"),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField),l.Eb(2),l.Nc(e.header)}}const ns=function(){return{color:"grey"}};function os(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",70),l.Vb(2,"div"),l.Vb(3,"input",71),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label",72),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),l.Eb(1),l.oc("ngStyle",l.rc(5,ns)),l.Eb(1),l.Nc(e.header)}}function rs(e,t){if(1&e&&(l.Kc(0,as,6,3,"div",51),l.Kc(1,os,6,6,"div",51)),2&e){const e=t.$implicit;l.oc("ngIf",e.drag),l.Eb(1),l.oc("ngIf",!e.drag)}}const ls=function(){return{width:"100%",height:"100%"}};function ss(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",56),l.Vb(1,"div",57),l.Vb(2,"div",58),l.Vb(3,"input",59),l.dc("click",(function(){return l.Dc(e),l.gc().onSelectAll()})),l.Ub(),l.Vb(4,"label",60),l.Mc(5,"Select All"),l.Ub(),l.Vb(6,"a",61),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(7,"\xd7"),l.Ub(),l.Vb(8,"p-listbox",62),l.Kc(9,rs,2,2,"ng-template",63),l.Ub(),l.Ub(),l.Vb(10,"div",64),l.Vb(11,"a",65),l.dc("click",(function(){return l.Dc(e),l.gc().saveColumns()})),l.Mc(12,"Save"),l.Ub(),l.Vb(13,"a",66),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(14,"Cancel"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(3),l.oc("checked",e.isSelectAllChecked),l.Eb(5),l.Ic(l.rc(4,ls)),l.oc("options",e.globalCols)}}function cs(e,t){1&e&&l.Qb(0,"col")}function ds(e,t){if(1&e&&(l.Vb(0,"colgroup"),l.Qb(1,"col"),l.Kc(2,cs,1,0,"col",73),l.Ub()),2&e){const e=t.$implicit;l.Eb(2),l.oc("ngForOf",e)}}const us=function(e){return{display:e}};function bs(e,t){if(1&e&&(l.Vb(0,"th",76),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,us,e.display)),l.Eb(1),l.Nc(e.header)}}function ps(e,t){if(1&e&&(l.Vb(0,"th",77),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,us,e.display)),l.Eb(1),l.Nc(e.header)}}function gs(e,t){if(1&e&&(l.Tb(0),l.Kc(1,bs,2,5,"th",74),l.Kc(2,ps,2,5,"th",75),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type||"date"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function hs(e,t){if(1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Kc(2,gs,3,2,"ng-container",73),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.oc("ngForOf",e.columns)}}function ms(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",81),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().editRow(t)})),l.Ub()}}function fs(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",82),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc().delete(t)})),l.Ub()}}function Vs(e,t){if(1&e&&(l.Vb(0,"td",85),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,us,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function vs(e,t){if(1&e&&(l.Vb(0,"td",86),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,us,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function ys(e,t){if(1&e&&(l.Vb(0,"td",85),l.hc(1,"date"),l.Mc(2),l.hc(3,"date"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.jc(1,3,t[e.field],"MM/dd/yyyy")),l.oc("ngStyle",l.sc(9,us,e.display)),l.Eb(2),l.Oc(" ",l.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function Ms(e,t){if(1&e&&(l.Vb(0,"td",86),l.hc(1,"round"),l.Mc(2),l.hc(3,"round"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.ic(1,3,t[e.field])),l.oc("ngStyle",l.sc(7,us,e.display)),l.Eb(2),l.Oc(" ",l.ic(3,5,t[e.field])," ")}}function Us(e,t){if(1&e&&(l.Tb(0),l.Kc(1,Vs,2,5,"td",83),l.Kc(2,vs,2,5,"td",84),l.Kc(3,ys,4,11,"td",83),l.Kc(4,Ms,4,9,"td",84),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type),l.Eb(1),l.oc("ngIf","date"==e.type),l.Eb(1),l.oc("ngIf","round"==e.type)}}const Cs=function(){return["write","MICR"]};function Rs(e,t){if(1&e&&(l.Vb(0,"tr",78),l.Vb(1,"td"),l.Kc(2,ms,1,0,"a",79),l.Kc(3,fs,1,0,"a",80),l.Ub(),l.Kc(4,Us,5,4,"ng-container",73),l.Ub()),2&e){const e=t.columns;l.oc("pSelectableRow",t.$implicit),l.Eb(2),l.oc("isAuthorized",l.rc(4,Cs)),l.Eb(1),l.oc("isAuthorized",l.rc(5,Cs)),l.Eb(1),l.oc("ngForOf",e)}}function Ss(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td",87),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc(2);l.Eb(2),l.Nc(e.noData)}}function Es(e,t){1&e&&l.Kc(0,Ss,3,1,"tr",51),2&e&&l.oc("ngIf",!t.$implicit)}function Ds(e,t){if(1&e&&(l.Vb(0,"div",97),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.cstRuleName," ")}}function ks(e,t){if(1&e&&(l.Vb(0,"div",97),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.cstBasis," ")}}function ws(e,t){if(1&e&&(l.Vb(0,"div",97),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.cstAdjustment," ")}}function As(e,t){if(1&e&&(l.Vb(0,"div",97),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.enabledFlag," ")}}function Os(e,t){if(1&e&&(l.Vb(0,"div",97),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.startDate," ")}}const Ps=function(){return{standalone:!0}};function Is(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",25),l.Vb(1,"div",88),l.Vb(2,"div",26),l.Vb(3,"div",27),l.Vb(4,"span",28),l.Vb(5,"span",29),l.Mc(6," Rule Name "),l.Vb(7,"span",89),l.Mc(8,"*"),l.Ub(),l.Ub(),l.Vb(9,"input",90),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.cstRuleName=t})),l.Ub(),l.Kc(10,Ds,2,1,"div",91),l.Ub(),l.Ub(),l.Vb(11,"div",31),l.Vb(12,"span",29),l.Mc(13," Cost Basis "),l.Vb(14,"span",89),l.Mc(15,"*"),l.Ub(),l.Ub(),l.Vb(16,"p-dropdown",92),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.cstBasis=t})),l.Ub(),l.Kc(17,ks,2,1,"div",91),l.Ub(),l.Ub(),l.Vb(18,"div",26),l.Vb(19,"div",27),l.Vb(20,"span",28),l.Vb(21,"span",29),l.Mc(22," Cost Adjustment % "),l.Vb(23,"span",89),l.Mc(24,"*"),l.Ub(),l.Ub(),l.Vb(25,"input",93),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.cstAdjustment=t})),l.Ub(),l.Kc(26,ws,2,1,"div",91),l.Ub(),l.Ub(),l.Vb(27,"div",31),l.Vb(28,"span",28),l.Vb(29,"span",29),l.Mc(30," Activated Flag "),l.Vb(31,"span",89),l.Mc(32,"*"),l.Ub(),l.Ub(),l.Vb(33,"p-dropdown",94),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.enabledFlag=t})),l.Ub(),l.Kc(34,As,2,1,"div",91),l.Ub(),l.Ub(),l.Ub(),l.Vb(35,"div",26),l.Vb(36,"div",27),l.Vb(37,"span",29),l.Mc(38,"Rule Start Date "),l.Vb(39,"span",89),l.Mc(40,"*"),l.Ub(),l.Ub(),l.Vb(41,"p-calendar",95),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.startDate=t})),l.Kc(42,Os,2,1,"div",91),l.Ub(),l.Ub(),l.Vb(43,"div",31),l.Vb(44,"span",29),l.Mc(45,"Rule End Date"),l.Ub(),l.Vb(46,"p-calendar",96),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().rmanRulesHeader.endDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(9),l.oc("ngModel",e.rmanRulesHeader.cstRuleName),l.Eb(1),l.oc("ngIf",e.formErrors.cstRuleName),l.Eb(6),l.oc("options",e.rmanCostBasisV)("ngModel",e.rmanRulesHeader.cstBasis)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.cstBasis),l.Eb(8),l.oc("ngModel",e.rmanRulesHeader.cstAdjustment),l.Eb(1),l.oc("ngIf",e.formErrors.cstAdjustment),l.Eb(7),l.oc("options",e.rmanActivatedFlagsV)("ngModel",e.rmanRulesHeader.enabledFlag)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.enabledFlag),l.Eb(7),l.oc("ngModel",e.rmanRulesHeader.startDate)("monthNavigator",!0)("yearNavigator",!0),l.Eb(1),l.oc("ngIf",e.formErrors.startDate),l.Eb(4),l.oc("ngModelOptions",l.rc(20,Ps))("ngModel",e.rmanRulesHeader.endDate)("monthNavigator",!0)("yearNavigator",!0)}}function Fs(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Rule Name"),l.Ub())}function Ns(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Rule Category"),l.Ub())}function Ts(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Rule Start Date"),l.Ub())}const Ls=i("+yMW");let xs=(()=>{class e{constructor(e,t,i,a,n,o){this.rmanRulesHeaderService=e,this.rmanLookupsVService=t,this.formBuilder=i,this.confirmationService=a,this.notificationService=n,this.commonSharedService=o,this.rmanRulesHeader=new Bs,this.rmanRulesHeaderSearch=new Bs,this.isSerached=0,this.msgs=[],this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.rmanCostBasisList=[],this.rmanActivatedFlagList=[],this.noData=Ls.noData,this.collapsed=!0,this.formErrors={cstRuleName:"",startDate:"",endDate:"",cstAdjustment:"",enabledFlag:"",cstBasis:""},this.validationMessages={cstRuleName:{required:"Rule Name is required (minimum length is 4 and maximum length is 65 characters)",minlength:"Rule Name must be at least 4 characters long.",maxlength:"Rule Name cannot be more than 65 characters long."},startDate:{required:"Rule Start Date is Required"},category:{required:"Rule Category is required"},cstAdjustment:{required:"Cost Adjustment % is required (Only number values are allowed [0-9])",minlength:"Cost Adjustment % must be at least 1 characters long.",pattern:"Only number values are allowed [0-9]",min:"Minimum number allowed is -100.00"}},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.loading=!0,this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"IMPUTED_COST_BASIS"}).then(e=>{this.loading=!1,this.rmanCostBasisList=e.content,this.prepareRmanCostBasisObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Cost Basis" data'),this.loading=!1}),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"ENABLED_FLAG"}).then(e=>{this.loading=!1,this.rmanActivatedFlagList=e.content,this.prepareRmanActivatedFlagObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Activated Flag" data'),this.loading=!1})}ngOnInit(){this.globalCols=[{field:"cstRuleName",header:"Rule Name",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"cstAdjustment",header:"Cost Adjustment %",showField:!0,display:"table-cell",type:"number",drag:!1},{field:"cstBasis",header:"Cost Basis Value",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"startDate",header:"Start Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"endDate",header:"End Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"enabledFlag",header:"Activated Flag",showField:!0,display:"table-cell",type:"text",drag:!0}],this.columns=[],this.getTableColumns("ImputedCostRules","Imputed Cost Rules"),this.buildForm()}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];const t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.globalCols.findIndex(t=>t.field===e),this.onDrop(t))}),this.globalCols.forEach(t=>{-1!==e.tableColumns.indexOf(t.field)?this.columns.push(t):t.showField=!1}),this.columns.length!==this.globalCols.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.globalCols}).catch(()=>{this.notificationService.showError("Error occured while getting table columns data"),this.loading=!1})}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.globalCols.length-1;this.globalCols.forEach((i,a)=>{i.showField&&(e+=i.field,a<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("ImputedCostRules","Imputed Cost Rules",e,this.userId).then(e=>{this.columns=this.globalCols.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}selectColumns(e){const t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}reset(e){this.paginationOptions={},this.rmanRulesHeader=new Bs,e.reset()}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;const t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}buildForm(){this.arrangementRulesForm=this.formBuilder.group({cstRuleName:["",[n.t.required,n.t.minLength(4),n.t.maxLength(65)]],startDate:["",[n.t.required]],cstAdjustment:["",[n.t.required,n.t.minLength(1),n.t.pattern(/^\-?\d+(\.\d+)?$/),n.t.min(-100)]],cstBasis:["",[n.t.required]],enabledFlag:["",[n.t.required]],endDate:[""]}),this.arrangementRulesForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}onValueChanged(e){if(!this.arrangementRulesForm)return;const t=this.arrangementRulesForm;for(const i in this.formErrors){this.formErrors[i]="";const e=t.get(i);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[i];for(const a in e.errors)this.formErrors[i]+=t[a]+" "}}}transformRmanLookupsV(e){if(e)return e.lookupDescription}getAllRmanRulesHeader(){this.loading=!0,this.rmanRulesHeaderService.getAllRmanImputedCostRules(this.paginationOptions,this.rmanRulesHeader).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanRulesHeaderList=e.content,this.rmanRulesHeaderList.length>0?(this.selectedRmanRulesHeader=this.rmanRulesHeaderList[0],this.pRuleHeaderId=this.selectedRmanRulesHeader.cstRuleId,this.pRuleCategory=this.selectedRmanRulesHeader.ruleCategory,this.childTable.parentCall(this.selectedRmanRulesHeader)):this.childTable.parentCall(""),this.totalElements=e.totalElements,this.pageSize=e.size,this.displaySearchDialog=!1}).catch(e=>{console.error(e),this.notificationService.showError("Error occured while getting data"),this.loading=!1})}getRmanRulesHeader(e){this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.rmanRulesHeaderService.getAllRmanImputedCostRules(this.paginationOptions,this.rmanRulesHeader).then(e=>{this.loading=!1,this.datasource=e.content,this.rmanRulesHeaderList=e.content,this.rmanRulesHeaderList.length>0?(this.selectedRmanRulesHeader=this.rmanRulesHeaderList[0],this.pRuleHeaderId=this.selectedRmanRulesHeader.cstRuleId,this.pRuleCategory=this.selectedRmanRulesHeader.ruleCategory,this.childTable.parentCall(this.selectedRmanRulesHeader)):this.childTable.parentCall(""),this.totalElements=e.totalElements,this.pageSize=e.size}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}showDialogToAdd(){this.newRmanRulesHeader=!0,this.rmanRulesHeader=new Bs,this.displayDialog=!0,this.prepareRmanCostBasisObject(),this.buildForm()}saveOrUpdate(e){this.notificationService.showSuccess(e),this.loading=!1,this.getAllRmanRulesHeader()}save(){if(this.newRmanRulesHeader)this.loading=!0,this.rmanRulesHeaderService.saveRmanImputedCostRules(this.rmanRulesHeader).then(e=>{this.saveOrUpdate("Saved successfully")}).catch(e=>{this.notificationService.showError("Error occurred while saving data"),this.loading=!1});else{this.loading=!0;const e=this.prepareObjectToUpdate();this.rmanRulesHeaderService.updateRmanImputedCostRules(e).then(e=>{this.saveOrUpdate("Updated successfully")}).catch(e=>{this.notificationService.showError("Error occurred while updating data"),this.loading=!1})}this.rmanRulesHeader=new Bs,this.displayDialog=!1}delete(e){this.rmanRulesHeader=e,this.rmanRulesHeader.endDate=new Date(this.rmanRulesHeader.endDate),this.rmanRulesHeader.startDate=new Date(this.rmanRulesHeader.startDate),this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.loading=!0,this.rmanRulesHeaderService.deleteRmanImputedCostRules(this.rmanRulesHeader).then(e=>{this.loading=!1,this.rmanRulesHeaderList.splice(this.findSelectedRmanRulesHeaderIndex(),1),this.notificationService.showSuccess("Deleted successfully"),this.rmanRulesHeader=new Bs,this.getAllRmanRulesHeader()},e=>{this.notificationService.showError("Error occurred while deleting data")})},reject:()=>{this.notificationService.showWarning("You have rejected")}})}editRow(e){this.newRmanRulesHeader=!1,this.rmanRulesHeader=this.cloneRmanRulesHeader(e),this.rmanRulesHeader.endDate&&(this.rmanRulesHeader.endDate=new Date(this.rmanRulesHeader.endDate)),this.rmanRulesHeader.startDate&&(this.rmanRulesHeader.startDate=new Date(this.rmanRulesHeader.startDate)),this.displayDialog=!0,this.prepareRmanCostBasisObject()}findSelectedRmanRulesHeaderIndex(){return this.rmanRulesHeaderList.indexOf(this.selectedRmanRulesHeader)}onRowUnSelect(){this.childTable.parentCall("")}onRowSelect(e){this.selectedRmanRulesHeader=e.data,this.pRuleHeaderId=this.selectedRmanRulesHeader.cstRuleId,this.childTable.parentCall(e.data)}cloneRmanRulesHeader(e){const t=new Bs;for(const i in e)t[i]=e[i];return t}toggleColumnMenu(){this.hideColumnMenu=!this.hideColumnMenu}toggleFilterBox(){this.showFilter=!this.showFilter}showDialogToSearch(){this.rmanRulesHeaderSearch=new Bs,0==this.isSerached&&(this.rmanRulesHeaderSearch=new Bs),this.displaySearchDialog=!0}cancelSearch(){this.displaySearchDialog=!1,this.rmanRulesHeaderSearch=new Bs}cancelEdit(){this.displayDialog=!1,this.rmanRulesHeader=new Bs}search(){this.isSerached=1,this.rmanRulesHeader=this.rmanRulesHeaderSearch,this.paginationOptions={},this.getAllRmanRulesHeader()}prepareRmanCostBasisObject(){const e=[{label:"--Select Cost Basis(*)--",value:null}];this.rmanCostBasisList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanCostBasisV=e}prepareRmanActivatedFlagObject(){const e=[{label:"--Select Activated Flag(*)--",value:null}];this.rmanActivatedFlagList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanActivatedFlagsV=e}onBeforeToggle(e){this.collapsed=e.collapsed}prepareObjectToUpdate(){const e=new Bs;return e.cstRuleName=this.rmanRulesHeader.cstRuleName,e.endDate=this.rmanRulesHeader.endDate,e.cstAdjustment=this.rmanRulesHeader.cstAdjustment,e.cstBasis=this.rmanRulesHeader.cstBasis,e.enabledFlag=this.rmanRulesHeader.enabledFlag,e.startDate=this.rmanRulesHeader.startDate,e.cstRuleId=this.rmanRulesHeader.cstRuleId,e}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(Rl),l.Pb(u.a),l.Pb(n.c),l.Pb(o.a),l.Pb(m.a),l.Pb(h.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["rmanImputedCostRules"]],viewQuery:function(e,t){var i;1&e&&l.Qc(es,!0),2&e&&l.Ac(i=l.ec())&&(t.childTable=i.first)},features:[l.Db([Rl,o.a])],decls:81,vars:42,consts:[[1,"content-section","implementation"],["header","Confirmation","icon","fa fa-question-circle","width","425"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Add",3,"click",4,"isAuthorized"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","arrangementRules-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","columns","value","selection","lazy","paginator","rows","totalRecords","resizableColumns","selectionChange","onRowSelect","onRowUnselect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pCstRuleId","pRuleCategory"],["header","Search","width","800","showEffect","fade",3,"visible","modal","draggable","blockScroll","visibleChange","onHide"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["pInputText","","placeholder","Rule Name","name","cstRuleName","id","cstRuleName",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],["name","costBasis","appendTo","body",3,"options","ngModel","filter","ngModelChange"],["pInputText","","placeholder","Cost Adjustment %","name","cstAdjustment","id","cstAdjustment",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["name","enabledFlag","appendTo","body",3,"options","ngModel","filter","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["width","800","showEffect","fade",3,"header","visible","modal","draggable","blockScroll","visibleChange","onHide"],["novalidate","",3,"formGroup","ngSubmit"],["class","ui-grid ui-grid-responsive ui-fluid",4,"ngIf"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["id","FieldsMandatory","role","dialog","data-backdrop","static","data-keyboard","false",1,"modal","fade","dialogueBox"],[1,"modal-dialog","modal-sm"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-title"],[1,"form-horizontal"],[1,"modal-body","clearfix"],[1,"col-md-12","col-sm-12","col-xs-12","col-lg-12"],[4,"ngIf"],[1,"modal-footer",2,"padding","3px"],["data-dismiss","modal",1,"btn","btn-primary","pull-right"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow"],["class","icon-edit","title","Edit",3,"click",4,"isAuthorized"],["class","icon-delete","title","Delete",3,"click",4,"isAuthorized"],["title","Edit",1,"icon-edit",3,"click"],["title","Delete",1,"icon-delete",3,"click"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-data"],[1,"ui-g"],[1,"red-color"],["pInputText","","placeholder","Rule Name","name","cstRuleName","id","cstRuleName","formControlName","cstRuleName",1,"textbox",3,"ngModel","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["name","costBasis","formControlName","cstBasis","appendTo","body",3,"options","ngModel","filter","ngModelChange"],["pInputText","","name","ajjustment","placeholder","Adjustment","id","cstAdjustment","formControlName","cstAdjustment",1,"textbox",3,"ngModel","ngModelChange"],["name","enabledFlag","formControlName","enabledFlag","appendTo","body",3,"options","ngModel","filter","ngModelChange"],["showAnim","slideDown","inputStyleClass","textbox","name","startDate","id","startDate","yearRange","1950:2030","appendTo","body","formControlName","startDate","dateFormat","yy-mm-dd","placeholder","Rule Start Date*",3,"ngModel","monthNavigator","yearNavigator","ngModelChange"],["inputStyleClass","textbox","showAnim","slideDown","name","endDate","id","endDate","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","Rule End Date",3,"ngModelOptions","ngModel","monthNavigator","yearNavigator","ngModelChange"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(e,t){if(1&e){const e=l.Wb();l.Qb(0,"div",0),l.Qb(1,"p-confirmDialog",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"div",6),l.Vb(7,"h2"),l.Mc(8,"Cost Parameters"),l.Ub(),l.Vb(9,"div",7),l.Vb(10,"a",8),l.dc("click",(function(e){return t.onConfiguringColumns(e)})),l.Qb(11,"em",9),l.Mc(12,"Columns"),l.Ub(),l.Kc(13,is,2,0,"a",10),l.Vb(14,"a",11),l.dc("click",(function(){return t.showDialogToSearch()})),l.Qb(15,"em",12),l.Ub(),l.Vb(16,"a",13),l.dc("click",(function(){l.Dc(e);const i=l.Bc(21);return t.reset(i)})),l.Qb(17,"em",14),l.Ub(),l.Kc(18,ss,15,5,"div",15),l.Ub(),l.Vb(19,"div",16),l.Vb(20,"p-table",17,18),l.dc("selectionChange",(function(e){return t.selectedRmanRulesHeader=e}))("onRowSelect",(function(e){return t.onRowSelect(e)}))("onRowUnselect",(function(){return t.onRowUnSelect()}))("onLazyLoad",(function(e){return t.getRmanRulesHeader(e)})),l.Kc(22,ds,3,1,"ng-template",19),l.Kc(23,hs,3,1,"ng-template",20),l.Kc(24,Rs,5,6,"ng-template",21),l.Kc(25,Es,1,1,"ng-template",22),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(26,"rmanImputedCostRuleParameterValue-data",23),l.Mc(27,"loading.."),l.Ub(),l.Vb(28,"p-dialog",24),l.dc("visibleChange",(function(e){return t.displaySearchDialog=e}))("onHide",(function(){return t.cancelSearch()})),l.Vb(29,"form"),l.Vb(30,"div",25),l.Vb(31,"div",26),l.Vb(32,"div",27),l.Vb(33,"span",28),l.Vb(34,"span",29),l.Mc(35," Rule Name "),l.Ub(),l.Vb(36,"input",30),l.dc("ngModelChange",(function(e){return t.rmanRulesHeaderSearch.cstRuleName=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(37,"div",31),l.Vb(38,"span",28),l.Vb(39,"span",29),l.Mc(40," Cost Basis "),l.Ub(),l.Vb(41,"p-dropdown",32),l.dc("ngModelChange",(function(e){return t.rmanRulesHeaderSearch.cstBasis=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(42,"div",26),l.Vb(43,"div",27),l.Vb(44,"span",28),l.Vb(45,"span",29),l.Mc(46," Cost Adjustment % "),l.Ub(),l.Vb(47,"input",33),l.dc("ngModelChange",(function(e){return t.rmanRulesHeaderSearch.cstAdjustment=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(48,"div",31),l.Vb(49,"span",28),l.Vb(50,"span",29),l.Mc(51," Activated Flag "),l.Ub(),l.Vb(52,"p-dropdown",34),l.dc("ngModelChange",(function(e){return t.rmanRulesHeaderSearch.enabledFlag=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(53,"p-footer"),l.Vb(54,"div",35),l.Vb(55,"button",36),l.dc("click",(function(){return t.search()})),l.Ub(),l.Vb(56,"button",37),l.dc("click",(function(){return t.displaySearchDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(57,"p-dialog",38),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancelEdit()})),l.Vb(58,"form",39),l.dc("ngSubmit",(function(){return t.save()})),l.Kc(59,Is,47,21,"div",40),l.Ub(),l.Vb(60,"p-footer"),l.Vb(61,"div",35),l.Vb(62,"button",41),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(63,"button",37),l.dc("click",(function(){return t.displayDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(64,"div",42),l.Vb(65,"div",43),l.Vb(66,"div",44),l.Vb(67,"div",45),l.Vb(68,"button",46),l.Mc(69,"\xd7"),l.Ub(),l.Vb(70,"h4",47),l.Mc(71),l.Ub(),l.Ub(),l.Vb(72,"form",48),l.Vb(73,"div",49),l.Vb(74,"div",50),l.Kc(75,Fs,2,0,"p",51),l.Kc(76,Ns,2,0,"p",51),l.Kc(77,Ts,2,0,"p",51),l.Ub(),l.Ub(),l.Vb(78,"div",52),l.Vb(79,"button",53),l.Mc(80,"OK"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}2&e&&(l.Eb(13),l.oc("isAuthorized",l.rc(39,Cs)),l.Eb(5),l.oc("ngIf",!t.showAddColumns),l.Eb(2),l.oc("loading",t.loading)("columns",t.columns)("value",t.rmanRulesHeaderList)("selection",t.selectedRmanRulesHeader)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("resizableColumns",!0),l.Eb(6),l.oc("pCstRuleId",t.pRuleHeaderId)("pRuleCategory",t.pRuleCategory),l.Eb(2),l.oc("visible",t.displaySearchDialog)("modal",!0)("draggable",!0)("blockScroll",!0),l.Eb(8),l.oc("ngModelOptions",l.rc(40,Ps))("ngModel",t.rmanRulesHeaderSearch.cstRuleName),l.Eb(5),l.oc("options",t.rmanCostBasisV)("ngModel",t.rmanRulesHeaderSearch.cstBasis)("filter",!0),l.Eb(6),l.oc("ngModelOptions",l.rc(41,Ps))("ngModel",t.rmanRulesHeaderSearch.cstAdjustment),l.Eb(5),l.oc("options",t.rmanActivatedFlagsV)("ngModel",t.rmanRulesHeaderSearch.enabledFlag)("filter",!0),l.Eb(5),l.pc("header",t.newRmanRulesHeader?"Create Rule":"Edit Rule"),l.oc("visible",t.displayDialog)("modal",!0)("draggable",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.arrangementRulesForm),l.Eb(1),l.oc("ngIf",t.rmanRulesHeader),l.Eb(3),l.oc("disabled",!t.arrangementRulesForm.valid),l.Eb(9),l.Nc("Error"),l.Eb(4),l.oc("ngIf",5==t.showMsg),l.Eb(1),l.oc("ngIf",6==t.showMsg),l.Eb(1),l.oc("ngIf",7==t.showMsg))},directives:[E.a,V.a,v.o,y.j,o.f,es,M.a,n.v,n.l,n.m,n.b,S.a,n.k,n.n,R.a,o.b,C.b,n.g,D.a,k.b,k.c,n.a,v.p,v.n,y.g,y.i,n.e,w.a],pipes:[v.f,O.a],encapsulation:2}),e})();class Bs{constructor(e,t,i,a,n,o,r,l,s,c,d,u,b,p,g){this.dealFlag=e,this.ruleHeaderId=t,this.cstRuleId=i,this.cstRuleName=a,this.ruleMasterId=n,this.lastUpdateDate=o,this.endDate=r,this.cstAdjustment=l,this.approverId=s,this.cstBasis=c,this.enabledFlag=d,this.startDate=u,this.createdBy=b,this.lastUpdatedBy=p,this.creationDate=g}}const Hs=i("+yMW"),qs={headers:new r.f({"Content-Type":"application/json"})};let Ks=(()=>{class e{constructor(e){this.http=e}getAllAyaraOpportunities(e,t,i){let a=Hs.apiUrl+"/ayaraOpportunitiesSearch?",n="";return i&&(a+="fetchAll=true&"),null!=t.opportunityId&&""!=t.opportunityId&&(n=n+"opportunityId:"+t.opportunityId+","),null!=t.opportunityName&&""!=t.opportunityName&&(n=n+"opportunityName:"+encodeURIComponent(t.opportunityName)+","),null!=t.opportunityNumber&&""!=t.opportunityNumber&&(n=n+"opportunityNumber:"+t.opportunityNumber+","),null!=t.status&&""!=t.status&&(n=n+"status:"+t.status+","),null!=t.opportunityDate&&""!=t.opportunityDate&&(n=n+"opportunityDate:"+t.opportunityDate+","),null!=t.customerName&&""!=t.customerName&&(n=n+"customerName:"+t.customerName+","),null!=t.customerNumber&&""!=t.customerNumber&&(n=n+"customerNumber:"+t.customerNumber+","),""==n?a+="search=%25":a=a+"search="+n,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(a=a+"&page="+e.pageNumber+"&size="+e.pageSize),this.http.get(a).toPromise().then(e=>e)}saveAyaraOpportunities(e){let t=JSON.stringify(e);return this.http.post(Hs.apiUrl+"/AYARA_OPPORTUNITIES",t,qs).toPromise().then(e=>e)}updateAyaraOpportunities(e){delete e._links,delete e.interests;let t=JSON.stringify(e);return this.http.put(Hs.apiUrl+"/AYARA_OPPORTUNITIES/"+e.opportunityId,t,qs).toPromise().then(e=>e)}deleteAyaraOpportunities(e){return this.http.delete(Hs.apiUrl+"/AYARA_OPPORTUNITIES/"+e.opportunityId,qs).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac}),e})();function zs(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",45),l.dc("click",(function(){return l.Dc(e),l.gc(2).showDialogToAdd()})),l.Qb(1,"em",46),l.Ub()}}function js(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",59),l.dc("onDragStart",(function(){l.Dc(e);const t=l.gc().index;return l.gc(3).onDragStart(t)}))("onDrop",(function(){l.Dc(e);const t=l.gc().index;return l.gc(3).onDrop(t)})),l.Vb(2,"div",60),l.Vb(3,"input",61),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(3).selectColumns(t)})),l.Ub(),l.Vb(4,"label"),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField),l.Eb(2),l.Nc(e.header)}}const $s=function(){return{color:"grey"}};function _s(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",62),l.Vb(2,"div"),l.Vb(3,"input",63),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(3).selectColumns(t)})),l.Ub(),l.Vb(4,"label",64),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),l.Eb(1),l.oc("ngStyle",l.rc(5,$s)),l.Eb(1),l.Nc(e.header)}}function Qs(e,t){if(1&e&&(l.Kc(0,js,6,3,"div",58),l.Kc(1,_s,6,6,"div",58)),2&e){const e=t.$implicit;l.oc("ngIf",e.drag),l.Eb(1),l.oc("ngIf",!e.drag)}}const Gs=function(){return{width:"100%",height:"100%"}};function Ws(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",47),l.Vb(1,"div",48),l.Vb(2,"div",49),l.Vb(3,"input",50),l.dc("click",(function(){return l.Dc(e),l.gc(2).onSelectAll()})),l.Ub(),l.Vb(4,"label",51),l.Mc(5,"Select All"),l.Ub(),l.Vb(6,"a",52),l.dc("click",(function(t){return l.Dc(e),l.gc(2).closeConfigureColumns(t)})),l.Mc(7,"\xd7"),l.Ub(),l.Vb(8,"p-listbox",53),l.Kc(9,Qs,2,2,"ng-template",54),l.Ub(),l.Ub(),l.Vb(10,"div",55),l.Vb(11,"a",56),l.dc("click",(function(){return l.Dc(e),l.gc(2).saveColumns()})),l.Mc(12,"Save"),l.Ub(),l.Vb(13,"a",57),l.dc("click",(function(t){return l.Dc(e),l.gc(2).closeConfigureColumns(t)})),l.Mc(14,"Cancel"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc(2);l.Eb(3),l.oc("checked",e.isSelectAllChecked),l.Eb(5),l.Ic(l.rc(4,Gs)),l.oc("options",e.globalCols)}}const Ys=function(){return["write","MOPPORTUNITY"]};function Js(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",36),l.Vb(1,"a",37),l.dc("click",(function(t){return l.Dc(e),l.gc().onConfiguringColumns(t)})),l.Qb(2,"em",38),l.Mc(3,"Columns"),l.Ub(),l.Kc(4,zs,2,0,"a",39),l.Vb(5,"a",40),l.dc("click",(function(){return l.Dc(e),l.gc().showDialogToSearch()})),l.Qb(6,"em",41),l.Ub(),l.Vb(7,"a",42),l.dc("click",(function(){l.Dc(e);const t=l.gc(),i=l.Bc(11);return t.reset(i)})),l.Qb(8,"em",43),l.Ub(),l.Kc(9,Ws,15,5,"div",44),l.Ub()}if(2&e){const e=l.gc();l.Eb(4),l.oc("isAuthorized",l.rc(2,Ys)),l.Eb(5),l.oc("ngIf",!e.showAddColumns)}}function Zs(e,t){1&e&&l.Qb(0,"col")}function Xs(e,t){if(1&e&&(l.Vb(0,"colgroup"),l.Kc(1,Zs,1,0,"col",65),l.Ub()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngForOf",e)}}const ec=function(e){return{display:e}};function tc(e,t){if(1&e&&(l.Vb(0,"th",68),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,ec,e.display)),l.Eb(1),l.Nc(e.header)}}function ic(e,t){if(1&e&&(l.Vb(0,"th",69),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,ec,e.display)),l.Eb(1),l.Nc(e.header)}}function ac(e,t){if(1&e&&(l.Tb(0),l.Kc(1,tc,2,5,"th",66),l.Kc(2,ic,2,5,"th",67),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type||"date"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function nc(e,t){if(1&e&&(l.Vb(0,"tr"),l.Kc(1,ac,3,2,"ng-container",65),l.Ub()),2&e){const e=l.gc();l.Eb(1),l.oc("ngForOf",e.columns)}}function oc(e,t){if(1&e&&(l.Vb(0,"td",73),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,ec,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function rc(e,t){if(1&e&&(l.Vb(0,"td",74),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,ec,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function lc(e,t){if(1&e&&(l.Vb(0,"td",73),l.hc(1,"date"),l.Mc(2),l.hc(3,"date"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.jc(1,3,t[e.field],"MM/dd/yyyy")),l.oc("ngStyle",l.sc(9,ec,e.display)),l.Eb(2),l.Oc(" ",l.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function sc(e,t){if(1&e&&(l.Vb(0,"td",74),l.hc(1,"round"),l.Mc(2),l.hc(3,"round"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.ic(1,3,t[e.field])),l.oc("ngStyle",l.sc(7,ec,e.display)),l.Eb(2),l.Oc(" ",l.ic(3,5,t[e.field])," ")}}function cc(e,t){if(1&e&&(l.Tb(0),l.Kc(1,oc,2,5,"td",71),l.Kc(2,rc,2,5,"td",72),l.Kc(3,lc,4,11,"td",71),l.Kc(4,sc,4,9,"td",72),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type),l.Eb(1),l.oc("ngIf","date"==e.type),l.Eb(1),l.oc("ngIf","round"==e.type)}}function dc(e,t){if(1&e&&(l.Vb(0,"tr",70),l.Kc(1,cc,5,4,"ng-container",65),l.Ub()),2&e){const e=t.$implicit,i=t.columns,a=l.gc();l.oc("pSelectableRow",e)("pSelectableRowIndex",a.rowIndex),l.Eb(1),l.oc("ngForOf",i)}}function uc(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td",75),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc(2);l.Eb(2),l.Nc(e.noData)}}function bc(e,t){1&e&&l.Kc(0,uc,3,1,"tr",58),2&e&&l.oc("ngIf",!t.$implicit)}function pc(e,t){if(1&e&&(l.Vb(0,"div",88),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.opportunityName," ")}}function gc(e,t){if(1&e&&(l.Vb(0,"div",88),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.status," ")}}function hc(e,t){if(1&e&&(l.Vb(0,"div",88),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.customerName," ")}}function mc(e,t){if(1&e&&(l.Vb(0,"div",88),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.winPercent," ")}}function fc(e,t){if(1&e&&(l.Vb(0,"div",88),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.opportunityAmount," ")}}const Vc=function(){return{standalone:!0}};function vc(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",76),l.Vb(1,"div",77),l.Vb(2,"div",78),l.Vb(3,"div",17),l.Vb(4,"div",18),l.Vb(5,"span",19),l.Vb(6,"span",20),l.Mc(7,"Opportunity Name "),l.Vb(8,"span",79),l.Mc(9,"*"),l.Ub(),l.Ub(),l.Vb(10,"input",80),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraOpportunities.opportunityName=t})),l.Ub(),l.Kc(11,pc,2,1,"div",81),l.Ub(),l.Ub(),l.Vb(12,"div",22),l.Vb(13,"span",19),l.Vb(14,"span",20),l.Mc(15,"Opportunity Number"),l.Ub(),l.Vb(16,"input",82),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraOpportunities.opportunityNumber=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(17,"div",17),l.Vb(18,"div",18),l.Vb(19,"span",20),l.Mc(20,"Opportunity Date"),l.Ub(),l.Vb(21,"p-calendar",27),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraOpportunities.opportunityDate=t})),l.Ub(),l.Ub(),l.Vb(22,"div",22),l.Vb(23,"span",19),l.Vb(24,"span",20),l.Mc(25,"Opportunity Status "),l.Vb(26,"span",79),l.Mc(27,"*"),l.Ub(),l.Ub(),l.Vb(28,"input",83),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraOpportunities.status=t})),l.Ub(),l.Kc(29,gc,2,1,"div",81),l.Ub(),l.Ub(),l.Ub(),l.Vb(30,"div",17),l.Vb(31,"div",18),l.Vb(32,"span",19),l.Vb(33,"span",20),l.Mc(34,"Customer Name "),l.Vb(35,"span",79),l.Mc(36,"*"),l.Ub(),l.Ub(),l.Vb(37,"input",84),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraOpportunities.customerName=t})),l.Ub(),l.Kc(38,hc,2,1,"div",81),l.Ub(),l.Ub(),l.Vb(39,"div",22),l.Vb(40,"span",19),l.Vb(41,"span",20),l.Mc(42,"Win(%) "),l.Vb(43,"span",79),l.Mc(44,"*"),l.Ub(),l.Ub(),l.Vb(45,"input",85),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraOpportunities.winPercent=t})),l.Ub(),l.Kc(46,mc,2,1,"div",81),l.Ub(),l.Ub(),l.Ub(),l.Vb(47,"div",17),l.Vb(48,"div",18),l.Vb(49,"span",19),l.Vb(50,"span",20),l.Mc(51,"Opportunity Amount "),l.Vb(52,"span",79),l.Mc(53,"*"),l.Ub(),l.Ub(),l.Vb(54,"input",86),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraOpportunities.opportunityAmount=t})),l.Ub(),l.Kc(55,fc,2,1,"div",81),l.Ub(),l.Ub(),l.Vb(56,"div",22),l.Vb(57,"span",19),l.Vb(58,"span",20),l.Mc(59,"Deal Number"),l.Ub(),l.Vb(60,"input",87),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraOpportunities.dealNumber=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(10),l.oc("ngModel",e.ayaraOpportunities.opportunityName),l.Eb(1),l.oc("ngIf",e.formErrors.opportunityName),l.Eb(5),l.oc("ngModelOptions",l.rc(18,Vc))("ngModel",e.ayaraOpportunities.opportunityNumber),l.Eb(5),l.oc("ngModelOptions",l.rc(19,Vc))("ngModel",e.ayaraOpportunities.opportunityDate)("monthNavigator",!0)("yearNavigator",!0),l.Eb(7),l.oc("ngModel",e.ayaraOpportunities.status),l.Eb(1),l.oc("ngIf",e.formErrors.status),l.Eb(8),l.oc("ngModel",e.ayaraOpportunities.customerName),l.Eb(1),l.oc("ngIf",e.formErrors.customerName),l.Eb(7),l.oc("ngModel",e.ayaraOpportunities.winPercent),l.Eb(1),l.oc("ngIf",e.formErrors.winPercent),l.Eb(8),l.oc("ngModel",e.ayaraOpportunities.opportunityAmount),l.Eb(1),l.oc("ngIf",e.formErrors.opportunityAmount),l.Eb(5),l.oc("ngModelOptions",l.rc(20,Vc))("ngModel",e.ayaraOpportunities.dealNumber)}}const yc=i("+yMW");let Mc=(()=>{class e{constructor(e,t,i,a,n){this.ayaraOpportunitiesService=e,this.confirmationService=t,this.formBuilder=i,this.notificationService=a,this.commonSharedService=n,this.uploadLoading=!1,this.ayaraOpportunities=new Uc,this.ayaraOpportunitiesSearch=new Uc,this.isSerached=0,this.displayOpportunitiesDialog=!1,this.numRegex=/^-?\d*[.,]?\d{0,5}$/,this.paginationOptions={},this.collapsed=!0,this.noData=yc.noData,this.isSelectAllChecked=!0,this.showPaginator=!0,this.showAddColumns=!0,this.formErrors={opportunityName:"",customerName:"",status:"",winPercent:"",opportunityAmount:""},this.validationMessages={opportunityName:{required:"Opportunity Name is required (minimum length is 4 and maximum length is 100 characters)",minlength:"Opportunity Name must be at least 4 characters long.",maxlength:"Opportunity Name cannot be more than 100 characters long."},customerName:{required:"Customer Name is required (minimum length is 4 and maximum length is 60 characters)",minlength:"Customer Name must be at least 4 characters long.",maxlength:"Customer Name cannot be more than 60 characters long."},winPercent:{required:"Win Percent is Required"},status:{required:"Status is Required"},opportunityAmount:{required:"Opportunity Amount is Required",pattern:"Only number values are allowed [0-9]"}},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.buildForm()}ngOnInit(){this.globalCols=[{field:"opportunityId",header:"Opportunity Id",showField:!0,drag:!1,display:"table-cell",type:"text"},{field:"dealNumber",header:"Deal Number",showField:!0,drag:!1,display:"table-cell",type:"text"},{field:"opportunityNumber",header:"Opportunity Number",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"opportunityName",header:"Opportunity Name",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"opportunityDate",header:"Opportunity Date",showField:!0,drag:!0,display:"table-cell",type:"date"},{field:"customerName",header:"Customer Name",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"status",header:"Status",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"winPercent",header:"Win (%)",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"opportunityAmount",header:"Opportunity Amount",showField:!0,drag:!0,display:"table-cell",type:"round"}],this.columns=[],this.getTableColumns("ayaraOpportunities","Opportunities")}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];let t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.globalCols.findIndex(t=>t.field==e),this.onDrop(t))}),this.globalCols.forEach(t=>{-1!==e.tableColumns.indexOf(t.field)?this.columns.push(t):t.showField=!1}),this.columns.length!=this.globalCols.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.globalCols}).catch(()=>{this.notificationService.showError("Error occured while getting table columns data"),this.loading=!1})}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.globalCols.length-1;this.globalCols.forEach((i,a)=>{i.showField&&(e+=i.field,a<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("ayaraOpportunities","Opportunities",e,this.userId).then(e=>{this.columns=this.globalCols.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}selectColumns(e){let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}getAllAyaraOpportunities(){this.loading=!0,this.ayaraOpportunitiesService.getAllAyaraOpportunities(this.paginationOptions,this.ayaraOpportunities,!1).then(e=>{this.loading=!1,this.datasource=e.content,this.ayaraOpportunitiesList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size,this.displaySearchDialog=!1}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}getAyaraOpportunities(e){this.loading=!0,this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.ayaraOpportunitiesService.getAllAyaraOpportunities(this.paginationOptions,this.ayaraOpportunities,!1).then(e=>{this.loading=!1,this.datasource=e.content,this.ayaraOpportunitiesList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}buildForm(){this.opportunityForm=this.formBuilder.group({opportunityName:["",[n.t.required,n.t.minLength(4),n.t.maxLength(100)]],customerName:["",[n.t.required,n.t.minLength(4),n.t.maxLength(60)]],status:["",[n.t.required]],winPercent:["",[n.t.required]],opportunityAmount:["",[n.t.required,n.t.pattern(this.numRegex)]]}),this.opportunityForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}onValueChanged(e){if(!this.opportunityForm)return;const t=this.opportunityForm;for(const i in this.formErrors){this.formErrors[i]="";const e=t.get(i);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[i];for(const a in e.errors)this.formErrors[i]+=t[a]+" "}}}showDialogToAdd(){this.newAyaraOpportunities=!0,this.ayaraOpportunities=new Uc,this.displayDialog=!0,this.buildForm()}save(){this.newAyaraOpportunities?(this.loading=!0,this.ayaraOpportunitiesService.saveAyaraOpportunities(this.ayaraOpportunities).then(e=>{this.notificationService.showSuccess("Saved successfully"),this.getAllAyaraOpportunities()}).catch(e=>{this.notificationService.showError("Error occured while saving data"),this.loading=!1})):(this.loading=!0,this.ayaraOpportunitiesService.updateAyaraOpportunities(this.ayaraOpportunities).then(e=>{this.notificationService.showSuccess("Updated successfully"),this.getAllAyaraOpportunities()}).catch(e=>{this.notificationService.showError("Error occured while updating data"),this.loading=!1})),this.ayaraOpportunities=new Uc,this.displayDialog=!1}onBeforeToggle(e){this.collapsed=e.collapsed}reset(e){this.paginationOptions={},this.ayaraOpportunities=new Uc,this.ayaraOpportunitiesSearch=new Uc,e.reset()}delete(e){this.ayaraOpportunities=e,this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.ayaraOpportunitiesList.splice(this.findSelectedAyaraOpportunitiesIndex(),1),this.ayaraOpportunitiesService.deleteAyaraOpportunities(this.ayaraOpportunities).then(e=>{this.notificationService.showSuccess("Deleted successfully"),this.ayaraOpportunities=new Uc,this.getAllAyaraOpportunities()})},reject:()=>{this.notificationService.showWarning("You have rejected")}})}editRow(e){this.newAyaraOpportunities=!1,this.ayaraOpportunities=this.cloneAyaraOpportunities(e),this.displayDialog=!0}findSelectedAyaraOpportunitiesIndex(){return this.ayaraOpportunitiesList.indexOf(this.selectedAyaraOpportunities)}onRowSelect(e){}cloneAyaraOpportunities(e){let t=new Uc;for(let i in e)t[i]=e[i];return t}toggleColumnMenu(){this.hideColumnMenu=!this.hideColumnMenu}toggleFilterBox(){this.showFilter=!this.showFilter}showDialogToSearch(){0==this.isSerached&&(this.ayaraOpportunitiesSearch=new Uc),this.ayaraOpportunitiesSearch=new Uc,this.displaySearchDialog=!0}cancelAddEdit(){this.displayDialog=!1,this.ayaraOpportunities=new Uc}search(){this.isSerached=1,this.ayaraOpportunities=this.ayaraOpportunitiesSearch,this.paginationOptions={},this.getAllAyaraOpportunities()}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(Ks),l.Pb(o.a),l.Pb(n.c),l.Pb(m.a),l.Pb(h.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["ayaraOpportunities-data"]],features:[l.Db([Ks,o.a])],decls:63,vars:42,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["header","Manage Opportunities",3,"toggleable","onBeforeToggle"],["class","pull-right icons-list",4,"ngIf"],[1,"x-scroll"],["id","ayaraOpportunities-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","lazy","paginator","rows","totalRecords","columns","resizableColumns","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Search","width","auto","showEffect","fade",3,"visible","draggable","modal","blockScroll","visibleChange"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["pInputText","","name","opportunityName","id","opportunityName","placeholder","Opportunity Name",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],["pInputText","","name","opportunityNumber","id","opportunityNumber","placeholder","Opportunity Number",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","name","customerName","id","customerName","placeholder","Customer Name",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","name","status","id","status","placeholder","Opportunity Status",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","name","dealNumber","id","dealNumber","placeholder","Deal Number",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["inputStyleClass","textbox","showAnim","slideDown","name","opportunityDate","id","opportunityDate","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","Opportunity Date",3,"ngModelOptions","ngModel","monthNavigator","yearNavigator","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["width","500","showEffect","fade",3,"header","visible","draggable","modal","blockScroll","visibleChange","onHide"],[3,"formGroup","ngSubmit"],["class","ui-g ui-fluid",4,"ngIf"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["header","Confirmation","icon","fa fa-question-circle","width","425"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Add",3,"click",4,"isAuthorized"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-data"],[1,"ui-g","ui-fluid"],[1,"ui-g-12","form-group"],[1,"ui-grid-row"],[1,"red-color"],["pInputText","","id","opportunityName","name","opportunityName","placeholder","Opportunity Name","required","","formControlName","opportunityName",1,"textbox",3,"ngModel","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["pInputText","","id","opportunityNumber","placeholder","Opportunity Number","name","opportunityNumber",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","id","status","placeholder","Opportunity Status","name","status","required","","formControlName","status",1,"textbox",3,"ngModel","ngModelChange"],["pInputText","","id","customerName","name","customerName","placeholder","Customer Name","required","","formControlName","customerName",1,"textbox",3,"ngModel","ngModelChange"],["pInputText","","id","winPercent","placeholder","Win(%)","name","winPercent","required","","formControlName","winPercent",1,"textbox",3,"ngModel","ngModelChange"],["pInputText","","id","opportunityAmount","name","opportunityAmount","placeholder","Opportunity Amount","required","","formControlName","opportunityAmount",1,"textbox",3,"ngModel","ngModelChange"],["pInputText","","id","dealNumber","placeholder","Deal Number","name","dealNumber",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"p-panel",6),l.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),l.Vb(7,"p-header"),l.Kc(8,Js,10,3,"div",7),l.Ub(),l.Vb(9,"div",8),l.Vb(10,"p-table",9,10),l.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getAyaraOpportunities(e)})),l.Kc(12,Xs,2,1,"ng-template",11),l.Kc(13,nc,2,1,"ng-template",12),l.Kc(14,dc,2,3,"ng-template",13),l.Kc(15,bc,1,1,"ng-template",14),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(16,"p-dialog",15),l.dc("visibleChange",(function(e){return t.displaySearchDialog=e})),l.Vb(17,"form"),l.Vb(18,"div",16),l.Vb(19,"div",17),l.Vb(20,"div",18),l.Vb(21,"span",19),l.Vb(22,"span",20),l.Mc(23,"Opportunity Name"),l.Ub(),l.Vb(24,"input",21),l.dc("ngModelChange",(function(e){return t.ayaraOpportunitiesSearch.opportunityName=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(25,"div",22),l.Vb(26,"span",19),l.Vb(27,"span",20),l.Mc(28,"Opportunity Number"),l.Ub(),l.Vb(29,"input",23),l.dc("ngModelChange",(function(e){return t.ayaraOpportunitiesSearch.opportunityNumber=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(30,"div",17),l.Vb(31,"div",18),l.Vb(32,"span",19),l.Vb(33,"span",20),l.Mc(34,"Customer Name"),l.Ub(),l.Vb(35,"input",24),l.dc("ngModelChange",(function(e){return t.ayaraOpportunitiesSearch.customerName=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(36,"div",22),l.Vb(37,"span",19),l.Vb(38,"span",20),l.Mc(39,"Opportunity Status"),l.Ub(),l.Vb(40,"input",25),l.dc("ngModelChange",(function(e){return t.ayaraOpportunitiesSearch.status=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(41,"div",17),l.Vb(42,"div",18),l.Vb(43,"span",19),l.Vb(44,"span",20),l.Mc(45,"Deal Number"),l.Ub(),l.Vb(46,"input",26),l.dc("ngModelChange",(function(e){return t.ayaraOpportunitiesSearch.dealNumber=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(47,"div",22),l.Vb(48,"span",20),l.Mc(49,"Opportunity Date"),l.Ub(),l.Vb(50,"p-calendar",27),l.dc("ngModelChange",(function(e){return t.ayaraOpportunitiesSearch.opportunityDate=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(51,"p-footer"),l.Vb(52,"div",28),l.Vb(53,"button",29),l.dc("click",(function(){return t.search()})),l.Ub(),l.Vb(54,"button",30),l.dc("click",(function(){return t.displaySearchDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(55,"p-dialog",31),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancelAddEdit()})),l.Vb(56,"form",32),l.dc("ngSubmit",(function(){return t.save()})),l.Kc(57,vc,61,21,"div",33),l.Ub(),l.Vb(58,"p-footer"),l.Vb(59,"div",28),l.Vb(60,"button",34),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(61,"button",30),l.dc("click",(function(){return t.cancelAddEdit()})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(62,"p-confirmDialog",35)),2&e&&(l.Eb(6),l.oc("toggleable",!1),l.Eb(2),l.oc("ngIf",t.collapsed),l.Eb(2),l.oc("loading",t.loading)("value",t.ayaraOpportunitiesList)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("columns",t.columns)("resizableColumns",!0),l.Eb(6),l.oc("visible",t.displaySearchDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(8),l.oc("ngModelOptions",l.rc(36,Vc))("ngModel",t.ayaraOpportunitiesSearch.opportunityName),l.Eb(5),l.oc("ngModelOptions",l.rc(37,Vc))("ngModel",t.ayaraOpportunitiesSearch.opportunityNumber),l.Eb(6),l.oc("ngModelOptions",l.rc(38,Vc))("ngModel",t.ayaraOpportunitiesSearch.customerName),l.Eb(5),l.oc("ngModelOptions",l.rc(39,Vc))("ngModel",t.ayaraOpportunitiesSearch.status),l.Eb(6),l.oc("ngModelOptions",l.rc(40,Vc))("ngModel",t.ayaraOpportunitiesSearch.dealNumber),l.Eb(4),l.oc("ngModelOptions",l.rc(41,Vc))("ngModel",t.ayaraOpportunitiesSearch.opportunityDate)("monthNavigator",!0)("yearNavigator",!0),l.Eb(5),l.pc("header",t.newAyaraOpportunities?"Create Opportunity":"Edit Opportunity"),l.oc("visible",t.displayDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.opportunityForm),l.Eb(1),l.oc("ngIf",t.ayaraOpportunities),l.Eb(3),l.oc("disabled",!t.opportunityForm.valid))},directives:[oi.a,o.c,v.o,y.j,o.f,M.a,n.v,n.l,n.m,n.b,S.a,n.k,n.n,w.a,o.b,C.b,n.g,E.a,V.a,D.a,k.b,k.c,n.a,v.p,v.n,y.g,y.i,n.s,n.e],pipes:[v.f,O.a],encapsulation:2}),e})();class Uc{constructor(e,t,i,a,n,o,r,l,s,c,d,u,b,p,g,h,m,f,V,v,y,M,U,C,R,S){this.opportunityId=e,this.dealNumber=t,this.opportunityNumber=i,this.opportunityName=a,this.opportunityDate=n,this.customerNumber=o,this.customerName=r,this.status=l,this.winPercent=s,this.opportunityAmount=c,this.source=d,this.sourceId=u,this.attribute1=b,this.attribute2=p,this.attribute3=g,this.attribute4=h,this.attribute5=m,this.attribute6=f,this.attribute7=V,this.attribute8=v,this.attribute9=y,this.attribute10=M,this.createdBy=U,this.creationDate=C,this.lastUpdatedBy=R,this.lastUpdatedDate=S}}let Cc=(()=>{class e{constructor(e){this.http=e}getAmendments(){return this.http.get(qr.apiUrl+"/fetchAyaraAmendmentConfigHeaders?search=%25")}createAmendment(e){return this.http.post(qr.apiUrl+"/AYARA_AMENDMENT_CONFIG_HEADERS",e)}updateAmendment(e,t){return this.http.put(qr.apiUrl+"/AYARA_AMENDMENT_CONFIG_HEADERS/"+e,t)}deleteAmendment(e){return this.http.delete(qr.apiUrl+"/AYARA_AMENDMENT_CONFIG_HEADERS/"+e)}getAmendmentConfigs(e){return this.http.get(qr.apiUrl+"/fetchAyaraAmendmentConfigLines?search=configId:"+e.toString())}createAmendmentConfig(e){return this.http.post(qr.apiUrl+"/AYARA_AMENDMENT_CONFIG_LINES",e)}updateAmendmentConfig(e,t){return this.http.put(qr.apiUrl+"/AYARA_AMENDMENT_CONFIG_LINES/"+e,t)}deleteAmendmentConfig(e){return this.http.delete(qr.apiUrl+"/AYARA_AMENDMENT_CONFIG_LINES/"+e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Rc(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",33),l.dc("click",(function(){return l.Dc(e),l.gc(3).showDialogToAdd()})),l.Qb(1,"em",34),l.Ub()}}function Sc(e,t){1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Vb(2,"th"),l.Mc(3," Sr. No. "),l.Ub(),l.Vb(4,"th"),l.Mc(5," Parameter "),l.Ub(),l.Vb(6,"th"),l.Mc(7," Qualifier "),l.Ub(),l.Vb(8,"th"),l.Mc(9," Value "),l.Ub(),l.Vb(10,"th"),l.Mc(11," Criteria "),l.Ub(),l.Vb(12,"th"),l.Mc(13," Enabled "),l.Ub(),l.Ub())}function Ec(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",37),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(3).editRow(t)})),l.Ub()}}function Dc(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",38),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(3).delete(t)})),l.Ub()}}const kc=function(){return["write","MAMENDS"]};function wc(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td"),l.Vb(2,"span"),l.Kc(3,Ec,1,0,"a",35),l.Ub(),l.Vb(4,"span"),l.Kc(5,Dc,1,0,"a",36),l.Ub(),l.Ub(),l.Vb(6,"td"),l.Vb(7,"a"),l.Mc(8),l.Ub(),l.Ub(),l.Vb(9,"td"),l.Vb(10,"a"),l.Mc(11),l.Ub(),l.Ub(),l.Vb(12,"td"),l.Vb(13,"a"),l.Mc(14),l.Ub(),l.Ub(),l.Vb(15,"td"),l.Vb(16,"a"),l.Mc(17),l.Ub(),l.Ub(),l.Vb(18,"td"),l.Vb(19,"a"),l.Mc(20),l.Ub(),l.Ub(),l.Vb(21,"td"),l.Vb(22,"a"),l.Mc(23),l.Ub(),l.Ub(),l.Ub()),2&e){const e=t.$implicit,i=t.rowIndex;l.Eb(3),l.oc("isAuthorized",l.rc(8,kc)),l.Eb(2),l.oc("isAuthorized",l.rc(9,kc)),l.Eb(3),l.Nc(i+1),l.Eb(3),l.Nc(e.parameterName),l.Eb(3),l.Nc(e.qualifier),l.Eb(3),l.Nc(e.parameterValue),l.Eb(3),l.Nc(e.andOr),l.Eb(3),l.Nc(e.enabledFlag)}}function Ac(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td",39),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc(3);l.Eb(2),l.Nc(e.noData)}}const Oc=function(){return{"margin-bottom":"20px"}};function Pc(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",21),l.Vb(1,"p-panel",22),l.Vb(2,"div"),l.Vb(3,"h2"),l.Mc(4,"Amendment Treatment Configuration"),l.Ub(),l.Vb(5,"div",23),l.Kc(6,Rc,2,0,"a",24),l.Vb(7,"a",25),l.dc("click",(function(){l.Dc(e);const t=l.Bc(11);return l.gc(2).reset(t)})),l.Qb(8,"em",26),l.Ub(),l.Ub(),l.Ub(),l.Vb(9,"div",27),l.Vb(10,"p-table",28,29),l.dc("onLazyLoad",(function(t){l.Dc(e);const i=l.gc(2);return i.getAmendmentsConfigs(i.configId,t)})),l.Kc(12,Sc,14,0,"ng-template",30),l.Kc(13,wc,24,10,"ng-template",31),l.Kc(14,Ac,3,1,"ng-template",32),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=t.ngIf,i=l.gc(2);l.Eb(1),l.Ic(l.rc(10,Oc)),l.oc("toggleable",!1),l.Eb(5),l.oc("isAuthorized",l.rc(11,kc)),l.Eb(4),l.oc("value",e.configs)("loading",i.isLoading)("lazy",!0)("paginator",!0)("rows",i.pageSize)("totalRecords",i.totalElements)}}const Ic=function(e){return{configs:e}};function Fc(e,t){if(1&e&&(l.Vb(0,"div",16),l.Vb(1,"div",17),l.Vb(2,"div",18),l.Vb(3,"div",19),l.Kc(4,Pc,15,12,"div",20),l.hc(5,"async"),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&e){const e=l.gc();l.Eb(4),l.oc("ngIf",l.sc(3,Ic,l.ic(5,1,e.amendmentConfigs$)))}}const Nc=function(){return{standalone:!0}};let Tc=(()=>{class e{constructor(e,t,i,a){this.notificationService=e,this.amendmentsService=t,this.lookupsVService=i,this.confirmationService=a,this.pageSize=10,this.noData=qr.noData,this.isLoading=!1,this.displayDialog=!1,this.qualifiersList=[],this.paramNamesList=[],this.enabledFlagList=[],this.andOrList=[{name:"AND",description:"AND"},{name:"OR",description:"OR"}],this.selectedQualifier={lookupCode:"",lookupDescription:""},this.selectedParamName={lookupCode:"",lookupDescription:""},this.selectedAndOr={name:"",description:""},this.selectedFlag={lookupCode:"",lookupDescription:""},this.editingConfigId=null,this.configsForm=new n.f({parameterName:new n.d("",n.t.required),qualifier:new n.d("",n.t.required),parameterValue:new n.d("",n.t.required),andOr:new n.d("",n.t.required),enabledFlag:new n.d("",n.t.required)})}get parameterName(){return this.configsForm.get("parameterName")}get qualifier(){return this.configsForm.get("qualifier")}get parameterValue(){return this.configsForm.get("parameterValue")}get andOr(){return this.configsForm.get("andOr")}get enabledFlag(){return this.configsForm.get("enabledFlag")}ngOnInit(){this.getQualifiers(),this.getParameterNames(),this.getEnabledFlags()}ngOnChanges(e){this.configId&&e.configId.currentValue&&this.getAmendmentsConfigs(e.configId.currentValue)}getQualifiers(){this.lookupsVService.getAllRmanLookupsV(null,{lookupTypeName:"RULE_QUALIFIER"}).then(e=>this.qualifiersList=e.content.map(e=>({lookupCode:e.lookupCode,lookupDescription:e.lookupDescription})))}getParameterNames(){this.lookupsVService.getAllRmanLookupsV(null,{lookupTypeName:"AMENDMENT_PARAMETERS"}).then(e=>{this.paramNamesList=e.content.map(e=>({lookupCode:e.lookupCode,lookupDescription:e.lookupDescription}))})}getEnabledFlags(){this.lookupsVService.getAllRmanLookupsV(null,{lookupTypeName:"ENABLED_FLAG"}).then(e=>{this.enabledFlagList=e.content.map(e=>({lookupCode:e.lookupCode,lookupDescription:e.lookupDescription}))})}getAmendmentsConfigs(e,t){this.isLoading=!0,this.amendmentConfigs$=this.amendmentsService.getAmendmentConfigs(e).pipe(Object(zr.a)(e=>this.totalElements=e.totalElements),Object(jr.a)(e=>e.content),Object($r.a)(()=>{this.isLoading=!1}))}showDialogToAdd(){this.resetDropdownModels(),this.displayDialog=!0,this.isCreate=!0}reset(e){e.reset()}resetDropdownModels(){this.selectedParamName={lookupCode:"",lookupDescription:""},this.selectedFlag={lookupCode:"",lookupDescription:""},this.selectedQualifier={lookupCode:"",lookupDescription:""},this.selectedAndOr={name:"",description:""},this.parameterName.reset()}onQualifiersChange(e){this.selectedQualifier={lookupCode:e.value.lookupCode,lookupDescription:e.value.lookupDescription},this.qualifier.setValue(this.selectedQualifier.lookupCode)}onParamNameChange(e){this.selectedParamName={lookupCode:e.value.lookupCode,lookupDescription:e.value.lookupDescription},this.parameterName.setValue(this.selectedParamName.lookupCode)}onChangeAndOr(e){this.selectedAndOr={name:e.value.name,description:e.value.description},this.andOr.setValue(e.value.name)}onFlagChange(e){this.selectedFlag={lookupCode:e.value.lookupCode,lookupDescription:e.value.lookupDescription},this.enabledFlag.setValue(this.selectedFlag.lookupCode)}editRow(e){this.isCreate=!1,this.editingConfigId=e.configParamId;const{parameterName:t,parameterValue:i,qualifier:a,andOr:n,enabledFlag:o}=e;this.configsForm.setValue({parameterName:t,parameterValue:i,qualifier:a,andOr:n,enabledFlag:o});const r=this.paramNamesList.find(e=>e.lookupCode===t),l=this.qualifiersList.find(e=>e.lookupCode===a);this.selectedFlag={lookupCode:o,lookupDescription:"Y"===o?"Yes":"No"},this.selectedAndOr={name:n,description:n},this.selectedParamName=r,this.selectedQualifier=l,this.displayDialog=!0}delete(e){this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.amendmentsService.deleteAmendmentConfig(e.configParamId).pipe(Object(_r.a)()).subscribe(()=>{this.notificationService.showSuccess("Deleted successfully"),this.getAmendmentsConfigs(this.configId)},e=>this.notificationService.showError(e.message))},reject:()=>{this.notificationService.showWarning("You have rejected")}})}cancel(){this.configsForm.reset(),this.displayDialog=!1}save(){const e=this.configsForm.value;if(this.isCreate)this.amendmentsService.createAmendmentConfig(Object.assign(Object.assign({},e),{configId:this.configId})).subscribe(()=>{this.notificationService.showSuccess("Saved successfully"),this.getAmendmentsConfigs(this.configId)},e=>this.notificationService.showError(e.message));else{const t=Object.assign({ruleParameterId:this.editingConfigId,configId:this.configId},e);this.amendmentsService.updateAmendmentConfig(this.editingConfigId,t).subscribe(()=>{this.notificationService.showSuccess("Updated successfully"),this.getAmendmentsConfigs(this.configId)},e=>this.notificationService.showError(e.message))}this.displayDialog=!1}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(m.a),l.Pb(Cc),l.Pb(u.a),l.Pb(o.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["app-amendment-config"]],inputs:{configId:"configId"},features:[l.Cb],decls:30,vars:24,consts:[["class","card-wrapper",4,"ngIf"],[3,"header","visible","draggable","modal","blockScroll","visibleChange","onHide"],["novalidate","",3,"formGroup","ngSubmit"],[1,"ui-g","ui-fluid"],[1,"ui-g-12","form-group"],[1,"ui-grid-row","form-container"],[1,"ui-g-6"],[1,"selectSpan"],["placeholder","Select Parameter Name*","optionLabel","lookupDescription","appendTo","body",1,"ml-auto",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["pInputText","","type","text","placeholder","Type Parameter Value*","formControlName","parameterValue",1,"textbox"],["placeholder","Select Qualifier","optionLabel","lookupDescription","appendTo","body",1,"ml-auto",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["placeholder","Select Criteria*","optionLabel","description","appendTo","body",1,"ml-auto",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["placeholder","Select Flag*","optionLabel","lookupDescription","appendTo","body",1,"ml-auto",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],["class","card-block",4,"ngIf"],[1,"card-block"],[3,"toggleable"],[1,"pull-right","icons-list"],["title","Add",3,"click",4,"isAuthorized"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],[1,"x-scroll"],["scrollable","true",1,"ui-datatable","arrangementMgrTbl",3,"value","loading","lazy","paginator","rows","totalRecords","onLazyLoad"],["dt",""],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["class","icon-edit",3,"click",4,"isAuthorized"],["class","icon-delete",3,"click",4,"isAuthorized"],[1,"icon-edit",3,"click"],[1,"icon-delete",3,"click"],[1,"no-data"]],template:function(e,t){1&e&&(l.Kc(0,Fc,6,5,"div",0),l.Vb(1,"p-dialog",1),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancel()})),l.Vb(2,"form",2),l.dc("ngSubmit",(function(){return t.save()})),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"div",6),l.Vb(7,"span",7),l.Mc(8,"Parameter Name*"),l.Ub(),l.Vb(9,"p-dropdown",8),l.dc("ngModelChange",(function(e){return t.selectedParamName=e}))("onChange",(function(e){return t.onParamNameChange(e)})),l.Ub(),l.Ub(),l.Vb(10,"div",6),l.Vb(11,"span",7),l.Mc(12,"Parameter Value*"),l.Ub(),l.Qb(13,"input",9),l.Ub(),l.Vb(14,"div",6),l.Vb(15,"span",7),l.Mc(16,"Qualifier*"),l.Ub(),l.Vb(17,"p-dropdown",10),l.dc("ngModelChange",(function(e){return t.selectedQualifier=e}))("onChange",(function(e){return t.onQualifiersChange(e)})),l.Ub(),l.Ub(),l.Vb(18,"div",6),l.Vb(19,"span",7),l.Mc(20,"Criteria*"),l.Ub(),l.Vb(21,"p-dropdown",11),l.dc("ngModelChange",(function(e){return t.selectedAndOr=e}))("onChange",(function(e){return t.onChangeAndOr(e)})),l.Ub(),l.Ub(),l.Vb(22,"div",6),l.Vb(23,"span",7),l.Mc(24,"Enabled Flag*"),l.Ub(),l.Vb(25,"p-dropdown",12),l.dc("ngModelChange",(function(e){return t.selectedFlag=e}))("onChange",(function(e){return t.onFlagChange(e)})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(26,"p-footer"),l.Vb(27,"div",13),l.Vb(28,"button",14),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(29,"button",15),l.dc("click",(function(){return t.cancel()})),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&e&&(l.oc("ngIf",t.configId),l.Eb(1),l.pc("header",t.isCreate?"Create":"Edit"),l.oc("visible",t.displayDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.configsForm),l.Eb(7),l.oc("options",t.paramNamesList)("ngModel",t.selectedParamName)("ngModelOptions",l.rc(20,Nc)),l.Eb(8),l.oc("options",t.qualifiersList)("ngModel",t.selectedQualifier)("ngModelOptions",l.rc(21,Nc)),l.Eb(4),l.oc("options",t.andOrList)("ngModel",t.selectedAndOr)("ngModelOptions",l.rc(22,Nc)),l.Eb(4),l.oc("options",t.enabledFlagList)("ngModel",t.selectedFlag)("ngModelOptions",l.rc(23,Nc)),l.Eb(3),l.oc("disabled",!t.configsForm.valid))},directives:[v.o,M.a,n.v,n.l,n.g,R.a,n.k,n.n,n.b,S.a,n.e,o.b,C.b,oi.a,V.a,y.j,o.f],pipes:[v.b],styles:[""]}),e})();function Lc(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",36),l.dc("click",(function(){return l.Dc(e),l.gc(2).showDialogToAdd()})),l.Qb(1,"em",37),l.Ub()}}function xc(e,t){1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Vb(2,"th"),l.Mc(3," Sr. No. "),l.Ub(),l.Vb(4,"th"),l.Mc(5," Rank "),l.Ub(),l.Vb(6,"th"),l.Mc(7," Amendment Treatment "),l.Ub(),l.Vb(8,"th"),l.Mc(9," Rule Start Date "),l.Ub(),l.Vb(10,"th"),l.Mc(11," Rule End Date "),l.Ub(),l.Vb(12,"th"),l.Mc(13," Enabled "),l.Ub(),l.Ub())}function Bc(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",41),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).editRow(t)})),l.Ub()}}function Hc(e,t){if(1&e){const e=l.Wb();l.Vb(0,"a",42),l.dc("click",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).delete(t)})),l.Ub()}}const qc=function(){return["write","MAMENDS"]};function Kc(e,t){if(1&e&&(l.Vb(0,"tr",38),l.Vb(1,"td"),l.Vb(2,"span"),l.Kc(3,Bc,1,0,"a",39),l.Ub(),l.Vb(4,"span"),l.Kc(5,Hc,1,0,"a",40),l.Ub(),l.Ub(),l.Vb(6,"td"),l.Vb(7,"a"),l.Mc(8),l.Ub(),l.Ub(),l.Vb(9,"td"),l.Vb(10,"a"),l.Mc(11),l.Ub(),l.Ub(),l.Vb(12,"td"),l.Vb(13,"a"),l.Mc(14),l.Ub(),l.Ub(),l.Vb(15,"td"),l.Vb(16,"a"),l.Mc(17),l.hc(18,"date"),l.Ub(),l.Ub(),l.Vb(19,"td"),l.Vb(20,"a"),l.Mc(21),l.hc(22,"date"),l.Ub(),l.Ub(),l.Vb(23,"td"),l.Vb(24,"a"),l.Mc(25),l.Ub(),l.Ub(),l.Ub()),2&e){const e=t.$implicit,i=t.rowIndex;l.oc("pSelectableRow",e),l.Eb(3),l.oc("isAuthorized",l.rc(15,qc)),l.Eb(2),l.oc("isAuthorized",l.rc(16,qc)),l.Eb(3),l.Nc(i+1),l.Eb(3),l.Nc(e.rank),l.Eb(3),l.Nc(e.amendmentTreatmentType),l.Eb(3),l.Nc(l.jc(18,9,e.activeStartDate,"MM/dd/yyyy")),l.Eb(4),l.Nc(l.jc(22,12,e.activeEndDate,"MM/dd/yyyy")),l.Eb(4),l.Nc(e.enabledFlag)}}function zc(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td",43),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc(2);l.Eb(2),l.Nc(e.noData)}}const jc=function(){return{"margin-bottom":"20px"}};function $c(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",24),l.Vb(1,"p-panel",25),l.Vb(2,"div"),l.Vb(3,"h2"),l.Mc(4,"Amendment Treatment"),l.Ub(),l.Vb(5,"div",26),l.Kc(6,Lc,2,0,"a",27),l.Vb(7,"a",28),l.dc("click",(function(){l.Dc(e);const t=l.Bc(11);return l.gc().reset(t)})),l.Qb(8,"em",29),l.Ub(),l.Ub(),l.Ub(),l.Vb(9,"div",30),l.Vb(10,"p-table",31,32),l.dc("onLazyLoad",(function(t){return l.Dc(e),l.gc().getAmendments(t)}))("selectionChange",(function(t){return l.Dc(e),l.gc().selectedAmendmentId=t}))("onRowSelect",(function(t){return l.Dc(e),l.gc().onRowSelect(t)}))("onRowUnselect",(function(){return l.Dc(e),l.gc().onRowUnSelect()})),l.Kc(12,xc,14,0,"ng-template",33),l.Kc(13,Kc,26,17,"ng-template",34),l.Kc(14,zc,3,1,"ng-template",35),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=t.ngIf,i=l.gc();l.Eb(1),l.Ic(l.rc(11,jc)),l.oc("toggleable",!1),l.Eb(5),l.oc("isAuthorized",l.rc(12,qc)),l.Eb(4),l.oc("value",e.assigneeRules)("loading",i.isLoading)("lazy",!0)("paginator",!0)("rows",i.pageSize)("totalRecords",i.totalElements)("selection",i.selectedAmendmentId)}}const _c=function(e){return{assigneeRules:e}},Qc=function(){return{standalone:!0}};let Gc=(()=>{class e{constructor(e,t,i,a){this.amendmentsService=e,this.notificationService=t,this.lookupsVService=i,this.confirmationService=a,this.pageSize=10,this.noData=qr.noData,this.isLoading=!1,this.displayDialog=!1,this.amendmentsTypesList=[],this.enabledFlagList=[],this.editingAmendmentId=null,this.selectedFlag={lookupCode:"",lookupDescription:""},this.selectedType={lookupCode:"",lookupDescription:""},this.amendmentForm=new n.f({amendmentTreatmentType:new n.d("",n.t.required),enabledFlag:new n.d("",n.t.required),activeStartDate:new n.d("",n.t.required),activeEndDate:new n.d("",[]),rank:new n.d("",n.t.required)})}get amendmentTreatmentType(){return this.amendmentForm.get("amendmentTreatmentType")}get rank(){return this.amendmentForm.get("rank")}get enabledFlag(){return this.amendmentForm.get("enabledFlag")}get activeStartDate(){return this.amendmentForm.get("activeStartDate")}get activeEndDate(){return this.amendmentForm.get("activeEndDate")}ngOnInit(){this.getAmendmentTypes(),this.getEnabledFlags()}resetDropdownModels(){this.selectedFlag={lookupCode:"",lookupDescription:""},this.selectedType={lookupCode:"",lookupDescription:""}}getAmendments(e){this.isLoading=!0,this.amendments$=this.amendmentsService.getAmendments().pipe(Object(zr.a)(e=>this.totalElements=e.totalElements),Object(jr.a)(e=>e.content),Object($r.a)(()=>{this.isLoading=!1}))}getAmendmentTypes(){this.lookupsVService.getAllRmanLookupsV(null,{lookupTypeName:"AMENDMENT_TREATMENT_TYPE"}).then(e=>{this.amendmentsTypesList=e.content.map(e=>({lookupCode:e.lookupCode,lookupDescription:e.lookupDescription}))})}getEnabledFlags(){this.lookupsVService.getAllRmanLookupsV(null,{lookupTypeName:"ENABLED_FLAG"}).then(e=>{this.enabledFlagList=e.content.map(e=>({lookupCode:e.lookupCode,lookupDescription:e.lookupDescription}))})}showDialogToAdd(){this.resetDropdownModels(),this.displayDialog=!0,this.isCreate=!0}reset(e){e.reset()}editRow(e){this.isCreate=!1,console.log(e),e.activeStartDate=null!=e.activeStartDate?new Date(e.activeStartDate):null,e.activeEndDate=null!=e.activeStartDate?new Date(e.activeEndDate):null;const{rank:t,amendmentTreatmentType:i,enabledFlag:a,activeStartDate:n,activeEndDate:o}=e;this.editingAmendmentId=e.configId,this.amendmentForm.setValue({rank:t,amendmentTreatmentType:i,enabledFlag:a,activeStartDate:n,activeEndDate:o});const r="Y"===a?"Yes":"No";this.selectedType=this.amendmentsTypesList.find(e=>e.lookupCode===i),this.selectedFlag={lookupCode:a,lookupDescription:r},this.displayDialog=!0}delete(e){this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.amendmentsService.deleteAmendment(e.configId).pipe(Object(_r.a)()).subscribe(()=>{this.notificationService.showSuccess("Deleted successfully"),this.getAmendments()},e=>this.notificationService.showError(e.message))},reject:()=>{this.notificationService.showWarning("You have rejected")}})}cancel(){this.amendmentForm.reset(),this.displayDialog=!1}onTypesChange(e){this.selectedType={lookupCode:e.value.lookupCode,lookupDescription:e.value.lookupDescription},this.amendmentTreatmentType.setValue(this.selectedType.lookupCode)}onFlagChange(e){this.selectedFlag={lookupCode:e.value.lookupCode,lookupDescription:e.value.lookupDescription},this.enabledFlag.setValue(this.selectedFlag.lookupCode)}save(){const e=this.amendmentForm.value;console.log(e),this.isCreate?this.amendmentsService.createAmendment(e).subscribe(()=>{this.notificationService.showSuccess("Saved successfully"),this.getAmendments()},e=>this.notificationService.showError(e.message)):this.amendmentsService.updateAmendment(this.editingAmendmentId,e).subscribe(()=>{this.notificationService.showSuccess("Updated successfully"),this.getAmendments()},e=>this.notificationService.showError(e.message)),this.displayDialog=!1}onRowSelect(e){this.selectedAmendmentId=e.data.configId}onRowUnSelect(){this.selectedAmendmentId=null}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(Cc),l.Pb(m.a),l.Pb(u.a),l.Pb(o.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["app-amendments-treatment"]],decls:44,vars:25,consts:[[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],["class","card-block",4,"ngIf"],[3,"header","visible","draggable","modal","blockScroll","visibleChange","onHide"],[3,"formGroup","ngSubmit"],[1,"ui-g","ui-fluid"],[1,"ui-g-12","form-group"],[1,"ui-grid-row","form-container"],[1,"ui-g-6"],[1,"selectSpan"],[1,"red-color"],["placeholder","Select Type*","optionLabel","lookupDescription","appendTo","body",1,"ml-auto",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],[1,"md-inputfield"],["pInputText","","type","number","placeholder","Rank","formControlName","rank",1,"textbox"],["showAnim","slideDown","inputStyleClass","textbox","id","startDate","yearRange","1950:2030","appendTo","body","formControlName","activeStartDate","dateFormat","yy-mm-dd","placeholder","Active Start Date*",3,"monthNavigator","yearNavigator"],["showAnim","slideDown","inputStyleClass","textbox","id","endDate","yearRange","1950:2030","appendTo","body","formControlName","activeEndDate","dateFormat","yy-mm-dd","placeholder","Active End Date",3,"monthNavigator","yearNavigator"],["placeholder","Select Flag*","optionLabel","lookupDescription","appendTo","body",1,"ml-auto",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["header","Confirmation","icon","fa fa-question-circle"],[3,"configId"],[1,"card-block"],[3,"toggleable"],[1,"pull-right","icons-list"],["title","Add",3,"click",4,"isAuthorized"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],[1,"x-scroll"],["selectionMode","single","scrollable","true",1,"ui-datatable","arrangementMgrTbl",3,"value","loading","lazy","paginator","rows","totalRecords","selection","onLazyLoad","selectionChange","onRowSelect","onRowUnselect"],["dt",""],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],[3,"pSelectableRow"],["class","icon-edit",3,"click",4,"isAuthorized"],["class","icon-delete",3,"click",4,"isAuthorized"],[1,"icon-edit",3,"click"],[1,"icon-delete",3,"click"],[1,"no-data"]],template:function(e,t){1&e&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Kc(4,$c,15,13,"div",4),l.hc(5,"async"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(6,"p-dialog",5),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancel()})),l.Vb(7,"form",6),l.dc("ngSubmit",(function(){return t.save()})),l.Vb(8,"div",7),l.Vb(9,"div",8),l.Vb(10,"div",9),l.Vb(11,"div",10),l.Vb(12,"span",11),l.Mc(13,"Amendment Treatment Type"),l.Vb(14,"span",12),l.Mc(15,"*"),l.Ub(),l.Ub(),l.Vb(16,"p-dropdown",13),l.dc("ngModelChange",(function(e){return t.selectedType=e}))("onChange",(function(e){return t.onTypesChange(e)})),l.Ub(),l.Ub(),l.Vb(17,"div",10),l.Vb(18,"div",14),l.Vb(19,"span",11),l.Mc(20,"Rank"),l.Ub(),l.Qb(21,"input",15),l.Ub(),l.Ub(),l.Vb(22,"div",10),l.Vb(23,"span",11),l.Mc(24,"Active Start Date "),l.Vb(25,"span",12),l.Mc(26,"*"),l.Ub(),l.Ub(),l.Qb(27,"p-calendar",16),l.Ub(),l.Vb(28,"div",10),l.Vb(29,"span",11),l.Mc(30,"Active End Date"),l.Ub(),l.Qb(31,"p-calendar",17),l.Ub(),l.Vb(32,"div",10),l.Vb(33,"span",11),l.Mc(34,"Enabled Flag "),l.Vb(35,"span",12),l.Mc(36,"*"),l.Ub(),l.Ub(),l.Vb(37,"p-dropdown",18),l.dc("ngModelChange",(function(e){return t.selectedFlag=e}))("onChange",(function(e){return t.onFlagChange(e)})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(38,"p-footer"),l.Vb(39,"div",19),l.Vb(40,"button",20),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(41,"button",21),l.dc("click",(function(){return t.cancel()})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(42,"p-confirmDialog",22),l.Qb(43,"app-amendment-config",23)),2&e&&(l.Eb(4),l.oc("ngIf",l.sc(21,_c,l.ic(5,19,t.amendments$))),l.Eb(2),l.pc("header",t.isCreate?"Create":"Edit"),l.oc("visible",t.displayDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.amendmentForm),l.Eb(9),l.oc("options",t.amendmentsTypesList)("ngModel",t.selectedType)("ngModelOptions",l.rc(23,Qc)),l.Eb(11),l.oc("monthNavigator",!0)("yearNavigator",!0),l.Eb(4),l.oc("monthNavigator",!0)("yearNavigator",!0),l.Eb(6),l.oc("options",t.enabledFlagList)("ngModel",t.selectedFlag)("ngModelOptions",l.rc(24,Qc)),l.Eb(3),l.oc("disabled",!t.amendmentForm.valid),l.Eb(3),l.oc("configId",t.selectedAmendmentId))},directives:[v.o,M.a,n.v,n.l,n.g,R.a,n.k,n.n,n.p,n.b,S.a,n.e,w.a,o.b,C.b,E.a,Tc,oi.a,V.a,y.j,o.f,y.i],pipes:[v.b,v.f],styles:[""]}),e})();const Wc=i("+yMW"),Yc={headers:new r.f({"Content-Type":"application/json"})};let Jc=(()=>{class e{constructor(e,t){this.http=e,this.datePipe=t}getAllAyaraRules(e,t){let i=Wc.apiUrl+"/ayaraRulesSearch?",a="";return["ruleId","ruleName","ruleType","ruleBasis","ruleAdjType","ruleAdjValue","ruleApplyLevel","ruleStartDate","ruleEndDate","enabledFlag"].forEach(e=>{null!=t[e]&&""!=t[e]&&(a=t[e]instanceof Date?a+e+":"+this.datePipe.transform(t[e],"yyyyMMdd")+",":a+e+":"+t[e]+",")}),""==a?i+="search=%25":i=i+"search="+a,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(i=i+"&page="+e.pageNumber+"&size="+e.pageSize),this.http.get(i).toPromise().then(e=>e)}saveAyaraRules(e){let t=JSON.stringify(e);return this.http.post(Wc.apiUrl+"/AYARA_RULES",t,Yc).toPromise().then(e=>e)}updateAyaraRules(e){const t=e.ruleId;delete e._links,delete e.interests,delete e.ruleId;let i=JSON.stringify(e);return this.http.put(Wc.apiUrl+"/AYARA_RULES/"+t,i,Yc).toPromise().then(e=>e)}deleteAyaraRules(e){return this.http.delete(Wc.apiUrl+"/AYARA_RULES/"+e.ruleId,Yc).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b),l.Zb(v.f))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Zc=i("+yMW"),Xc={headers:new r.f({"Content-Type":"application/json"})};let ed=(()=>{class e{constructor(e,t){this.http=e,this.datePipe=t}getAllAyaraRuleParameters(e,t){let i=Zc.apiUrl+"/ayaraRuleParametersSearch?",a="";return["ruleParameterId","ruleId","parameterName","parameterValue"].forEach(e=>{null!=t[e]&&""!=t[e]&&(a=t[e]instanceof Date?a+e+":"+this.datePipe.transform(t[e],"yyyyMMdd")+",":a+e+":"+t[e]+",")}),""==a?i+="search=%25":i=i+"search="+a,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(i=i+"&page="+e.pageNumber+"&size="+e.pageSize),this.http.get(i).toPromise().then(e=>e)}saveAyaraRuleParameters(e){let t=JSON.stringify(e);return this.http.post(Zc.apiUrl+"/AYARA_RULE_PARAMETERS",t,Xc).toPromise().then(e=>e)}updateAyaraRuleParameters(e){const t=e.ruleParamId;delete e._links,delete e.interests,delete e.ruleParamId;let i=JSON.stringify(e);return this.http.put(Zc.apiUrl+"/AYARA_RULE_PARAMETERS/"+t,i,Xc).toPromise().then(e=>e)}deleteAyaraRuleParameters(e){return this.http.delete(Zc.apiUrl+"/AYARA_RULE_PARAMETERS/"+e.ruleParamId,Xc).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(r.b),l.Zb(v.f))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function td(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",55),l.dc("onDragStart",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDragStart(t)}))("onDrop",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDrop(t)})),l.Vb(2,"div",56),l.Vb(3,"input",57),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label"),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField),l.Eb(2),l.Nc(e.header)}}const id=function(){return{color:"grey"}};function ad(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",58),l.Vb(2,"div"),l.Vb(3,"input",59),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label",60),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),l.Eb(1),l.oc("ngStyle",l.rc(5,id)),l.Eb(1),l.Nc(e.header)}}function nd(e,t){if(1&e&&(l.Kc(0,td,6,3,"div",54),l.Kc(1,ad,6,6,"div",54)),2&e){const e=t.$implicit;l.oc("ngIf",e.drag),l.Eb(1),l.oc("ngIf",!e.drag)}}const od=function(){return{width:"100%",height:"100%"}};function rd(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",43),l.Vb(1,"div",44),l.Vb(2,"div",45),l.Vb(3,"input",46),l.dc("click",(function(){return l.Dc(e),l.gc().onSelectAll()})),l.Ub(),l.Vb(4,"label",47),l.Mc(5,"Select All"),l.Ub(),l.Vb(6,"a",48),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(7,"\xd7"),l.Ub(),l.Vb(8,"p-listbox",49),l.Kc(9,nd,2,2,"ng-template",50),l.Ub(),l.Ub(),l.Vb(10,"div",51),l.Vb(11,"a",52),l.dc("click",(function(){return l.Dc(e),l.gc().saveColumns()})),l.Mc(12,"Save"),l.Ub(),l.Vb(13,"a",53),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(14,"Cancel"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(3),l.oc("checked",e.isSelectAllChecked),l.Eb(5),l.Ic(l.rc(4,od)),l.oc("options",e.globalCols)}}function ld(e,t){1&e&&l.Qb(0,"col")}function sd(e,t){if(1&e&&(l.Vb(0,"colgroup"),l.Qb(1,"col"),l.Kc(2,ld,1,0,"col",61),l.Ub()),2&e){const e=t.$implicit;l.Eb(2),l.oc("ngForOf",e)}}const cd=function(e){return{display:e}};function dd(e,t){if(1&e&&(l.Vb(0,"th",64),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,cd,e.display)),l.Eb(1),l.Nc(e.header)}}function ud(e,t){if(1&e&&(l.Vb(0,"th",65),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,cd,e.display)),l.Eb(1),l.Nc(e.header)}}function bd(e,t){if(1&e&&(l.Tb(0),l.Kc(1,dd,2,5,"th",62),l.Kc(2,ud,2,5,"th",63),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type||"date"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function pd(e,t){if(1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Kc(2,bd,3,2,"ng-container",61),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.oc("ngForOf",e.columns)}}function gd(e,t){if(1&e&&(l.Vb(0,"td",71),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit,i=l.gc();l.pc("title",i.transformRmanEntityParametersV(t.rmanEntityParametersV)),l.oc("ngStyle",l.sc(3,cd,e.display)),l.Eb(1),l.Oc(" ",i.transformRmanEntityParametersV(t.rmanEntityParametersV)," ")}}function hd(e,t){if(1&e&&(l.Vb(0,"td",71),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,cd,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function md(e,t){if(1&e&&(l.Vb(0,"td",72),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,cd,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function fd(e,t){if(1&e&&(l.Vb(0,"td",71),l.hc(1,"date"),l.Mc(2),l.hc(3,"date"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.jc(1,3,t[e.field],"MM/dd/yyyy")),l.oc("ngStyle",l.sc(9,cd,e.display)),l.Eb(2),l.Oc(" ",l.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function Vd(e,t){if(1&e&&(l.Vb(0,"td",72),l.hc(1,"round"),l.Mc(2),l.hc(3,"round"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.ic(1,3,t[e.field])),l.oc("ngStyle",l.sc(7,cd,e.display)),l.Eb(2),l.Oc(" ",l.ic(3,5,t[e.field])," ")}}function vd(e,t){if(1&e&&(l.Tb(0),l.Kc(1,gd,2,5,"td",69),l.Kc(2,hd,2,5,"td",69),l.Kc(3,md,2,5,"td",70),l.Kc(4,fd,4,11,"td",69),l.Kc(5,Vd,4,9,"td",70),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type&&"parameterId"==e.field),l.Eb(1),l.oc("ngIf","text"==e.type&&"parameterId"!==e.field),l.Eb(1),l.oc("ngIf","number"==e.type),l.Eb(1),l.oc("ngIf","date"==e.type),l.Eb(1),l.oc("ngIf","round"==e.type)}}function yd(e,t){if(1&e){const e=l.Wb();l.Vb(0,"tr",66),l.Vb(1,"td"),l.Vb(2,"a",67),l.dc("click",(function(){l.Dc(e);const i=t.$implicit;return l.gc().editRow(i)})),l.Ub(),l.Vb(3,"a",68),l.dc("click",(function(){l.Dc(e);const i=t.$implicit;return l.gc().delete(i)})),l.Ub(),l.Ub(),l.Kc(4,vd,6,5,"ng-container",61),l.Ub()}if(2&e){const e=t.columns;l.oc("pSelectableRow",t.$implicit),l.Eb(4),l.oc("ngForOf",e)}}function Md(e,t){if(1&e&&(l.Vb(0,"div",73),l.Vb(1,"p"),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.Nc(e.noData)}}function Ud(e,t){if(1&e&&(l.Vb(0,"div",79),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.parameterId," ")}}function Cd(e,t){if(1&e&&(l.Vb(0,"div",79),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.qualifier," ")}}const Rd=function(){return{standalone:!0}};function Sd(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",24),l.Vb(1,"div",74),l.Vb(2,"div",25),l.Vb(3,"div",26),l.Vb(4,"span",27),l.Mc(5," Parameter Name "),l.Vb(6,"span",75),l.Mc(7,"*"),l.Ub(),l.Ub(),l.Vb(8,"p-dropdown",76),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraRuleParameters.parameterId=t})),l.Ub(),l.Kc(9,Ud,2,1,"div",77),l.Ub(),l.Vb(10,"div",30),l.Vb(11,"span",27),l.Mc(12," Qualifier "),l.Vb(13,"span",75),l.Mc(14,"*"),l.Ub(),l.Ub(),l.Vb(15,"p-dropdown",78),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraRuleParameters.qualifier=t})),l.Ub(),l.Kc(16,Cd,2,1,"div",77),l.Ub(),l.Ub(),l.Vb(17,"div",25),l.Vb(18,"div",26),l.Vb(19,"span",27),l.Mc(20," Parameter Value "),l.Ub(),l.Vb(21,"span",28),l.Vb(22,"input",34),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraRuleParameters.parameterValue=t})),l.Ub(),l.Ub(),l.Ub(),l.Vb(23,"div",30),l.Vb(24,"span",27),l.Mc(25," Parameter Group "),l.Ub(),l.Vb(26,"span",28),l.Vb(27,"input",29),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraRuleParameters.parmeterGroup=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(28,"div",25),l.Vb(29,"div",26),l.Vb(30,"span",27),l.Mc(31," And/Or "),l.Ub(),l.Vb(32,"p-dropdown",33),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraRuleParameters.andOr=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(8),l.oc("options",e.rmanEntityParametersV)("ngModel",e.ayaraRuleParameters.parameterId)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.parameterId),l.Eb(6),l.oc("options",e.rmanLookupsV)("ngModel",e.ayaraRuleParameters.qualifier)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.qualifier),l.Eb(6),l.oc("ngModelOptions",l.rc(16,Rd))("ngModel",e.ayaraRuleParameters.parameterValue),l.Eb(5),l.oc("ngModelOptions",l.rc(17,Rd))("ngModel",e.ayaraRuleParameters.parmeterGroup),l.Eb(5),l.oc("options",e.rmanLookupsV1)("ngModelOptions",l.rc(18,Rd))("ngModel",e.ayaraRuleParameters.andOr)("filter",!0)}}const Ed=i("+yMW");let Dd=(()=>{class e{constructor(e,t,i,a,n,o,r){this.ayaraRuleParametersService=e,this.rmanLookupsVService=t,this.rmanEntityParametersVService=i,this.formBuilder=a,this.confirmationService=n,this.notificationService=o,this.commonSharedService=r,this.msgs=[],this.ayaraRuleParameters=new kd,this.ayaraRuleParametersSearch=new kd,this.isSerached=0,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.rmanLookupsVList=[],this.rmanLookupsV1List=[],this.rmanEntityParametersVList=[],this.collapsedRuleParameters=!0,this.noData=Ed.noData,this.formErrors={qualifier:"",parameterId:""},this.validationMessages={parameterId:{required:"Parameter ID is required"},qualifier:{required:"Qualifier is Required"}},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"RULE_QUALIFIER"}).then(e=>{this.rmanLookupsVList=e.content,this.prepareRmanLookupsVObject(),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"RULE_CONDITION"}).then(e=>{this.rmanLookupsV1List=e.content,this.prepareRmanLookupsV1Object()}).catch(e=>{this.notificationService.showError('Error occured while getting "AND/OR" data'),this.loading=!1})}).catch(e=>{this.notificationService.showError('Error occured while getting "Qualifier" data'),this.loading=!1})}ngOnChanges(e){}ngOnInit(){this.globalCols=[{field:"parmeterGroup",header:"Parameter Group",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"parameterName",header:"Parameter Name",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"qualifier",header:"Qualifier",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"parameterValue",header:"Parameter Value",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"andOr",header:"And/Or",showField:!0,display:"table-cell",type:"text",drag:!0}],this.columns=[],this.getTableColumns("AyaraRuleParameters","Ayara Rule Parameters"),this.buildForm()}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];let t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.globalCols.findIndex(t=>t.field==e),this.onDrop(t))}),this.globalCols.forEach(t=>{-1!==e.tableColumns.indexOf(t.field)?this.columns.push(t):t.showField=!1}),this.columns.length!=this.globalCols.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.globalCols}).catch(()=>{this.notificationService.showError("Error occured while getting table columns data"),this.loading=!1})}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.globalCols.length-1;this.globalCols.forEach((i,a)=>{i.showField&&(e+=i.field,a<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("AyaraRuleParameters","Ayara Rule Parameters",e,this.userId).then(e=>{this.columns=this.globalCols.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}selectColumns(e){let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}reset(e){this.paginationOptions={},this.ayaraRuleParameters=new kd,e.reset()}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}buildForm(){this.ruleParametersForm=this.formBuilder.group({qualifier:["",[n.t.required]],parameterId:["",[n.t.required]],parameterName:[""]}),this.ruleParametersForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}onValueChanged(e){if(!this.ruleParametersForm)return;const t=this.ruleParametersForm;for(const i in this.formErrors){this.formErrors[i]="";const e=t.get(i);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[i];for(const a in e.errors)this.formErrors[i]+=t[a]+" "}}}transformRmanLookupsV(e){if(e)return e.lookupDescription}transformRmanLookupsV1(e){if(e)return e.lookupDescription}transformRmanEntityParametersV(e){if(e)return e.parameterName}getAllAyaraRuleParameters(e){this.ayaraRuleParameters.ruleId=this.pRuleId,this.loading=!0,null!=this.pRuleId&&this.pRuleId&&this.ayaraRuleParametersService.getAllAyaraRuleParameters(this.paginationOptions,this.ayaraRuleParameters).then(e=>{this.loading=!1,this.datasource=e.content,0==this.isSerached?this.ayaraRuleParametersList=e.content.filter(e=>e.ruleId==this.pRuleId):(this.ayaraRuleParametersList=e.content,this.isSerached=0),this.totalElements=e.totalElements,this.pageSize=e.size,this.displaySearchDialog=!1}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}getAyaraRuleParameters(e){this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!1,null!=this.pRuleId&&this.pRuleId&&(this.ayaraRuleParameters.ruleId=this.pRuleId,this.ayaraRuleParametersService.getAllAyaraRuleParameters(this.paginationOptions,this.ayaraRuleParameters).then(e=>{this.loading=!1,this.datasource=e.content,this.ayaraRuleParametersList=null!=this.pRuleId?e.content.filter(e=>e.ruleId==this.pRuleId):e.content,this.totalElements=e.totalElements,this.pageSize=e.size}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1}))}showDialogToAdd(){this.newAyaraRuleParameters=!0,this.ayaraRuleParameters=new kd,null==this.pRuleId||0==this.pRuleId?(this.displayDialog=!1,this.notificationService.showInfo("Please select Ayara Rule"),this.displayConfirmation=!0):(this.ayaraRuleParameters.ruleId=this.pRuleId,this.displayDialog=!0,this.prepareRmanLookupsVObject(),this.prepareRmanLookupsV1Object(),this.prepareRmanEntityParametersVObject())}cancelEdit(){this.displayDialog=!1,this.ayaraRuleParameters=new kd}cancelSearch(){this.displaySearchDialog=!1,this.ayaraRuleParametersSearch=new kd}parentCall(e){this.masterData=e,""!=e?(this.pRuleId=e.ruleId,this.rmanEntityParametersVService.getAllRmanEntityParametersV(this.paginationOptions,{entityName:"Ayara Deals"},"Y").then(e=>{this.rmanEntityParametersVList=e.content,this.prepareRmanEntityParametersVObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Parameter ID" data'),this.loading=!1}),this.getAllAyaraRuleParameters()):(this.pRuleId=null,this.ayaraRuleParametersList=[])}saveOrUpdate(e){this.notificationService.showSuccess(e),this.loading=!1,this.getAllAyaraRuleParameters()}save(){const e=this.rmanEntityParametersV.filter(e=>e.value==this.ayaraRuleParameters.parameterId);this.ayaraRuleParameters.parameterName=e[0].label,this.ayaraRuleParameters.parmeterGroup||(this.ayaraRuleParameters.parmeterGroup=""),this.newAyaraRuleParameters?(this.ayaraRuleParameters.ruleId=this.pRuleId,this.loading=!0,this.ayaraRuleParametersService.saveAyaraRuleParameters(this.ayaraRuleParameters).then(e=>{this.saveOrUpdate("Saved successfully")}).catch(e=>{this.notificationService.showError("Error occured while saving data"),this.loading=!1})):(this.loading=!0,this.ayaraRuleParametersService.updateAyaraRuleParameters(this.ayaraRuleParameters).then(e=>{this.saveOrUpdate("Updated successfully")}).catch(e=>{this.notificationService.showError("Error occured while updating the data"),this.loading=!1})),this.ayaraRuleParameters=new kd,this.displayDialog=!1}delete(e){this.ayaraRuleParameters=e,this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.loading=!0,this.ayaraRuleParametersService.deleteAyaraRuleParameters(this.ayaraRuleParameters).then(e=>{this.loading=!1,this.ayaraRuleParametersList.splice(this.findSelectedAyaraRuleParametersIndex(),1),this.ayaraRuleParameters=new kd,this.notificationService.showSuccess("Deleted successfully"),this.getAllAyaraRuleParameters()},e=>{this.notificationService.showError("Error occurred while deleting data")})},reject:()=>{this.notificationService.showWarning("You have rejected")}})}editRow(e){this.newAyaraRuleParameters=!1,this.ayaraRuleParameters=this.cloneAyaraRuleParameters(e),this.displayDialog=!0,this.ruleParametersForm.patchValue({parameterId:Number(this.ayaraRuleParameters.parameterId)}),this.prepareRmanLookupsVObject(),this.prepareRmanLookupsV1Object(),this.prepareRmanEntityParametersVObject()}findSelectedAyaraRuleParametersIndex(){return this.ayaraRuleParametersList.indexOf(this.selectedAyaraRuleParameters)}onRowSelect(e){}cloneAyaraRuleParameters(e){let t=new kd;for(let i in e)t[i]=e[i];return t}toggleColumnMenu(){this.hideColumnMenu=!this.hideColumnMenu}toggleFilterBox(){this.showFilter=!this.showFilter}showDialogToSearch(){this.ayaraRuleParametersSearch=new kd,0==this.isSerached&&(this.ayaraRuleParametersSearch=new kd),this.displaySearchDialog=!0}search(){this.isSerached=1,this.ayaraRuleParameters=this.ayaraRuleParametersSearch,this.paginationOptions={},this.getAllAyaraRuleParameters(this.ayaraRuleParameters)}prepareRmanLookupsVObject(){let e=[{label:"--Select Qualifier(*)--",value:null}];this.rmanLookupsVList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV=e}prepareRmanLookupsV1Object(){let e=[{label:"--Select And/Or--",value:null}];this.rmanLookupsV1List.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanLookupsV1=e}prepareRmanEntityParametersVObject(){let e=[{label:"--Select Parameter Name(*)--",value:null}];this.rmanEntityParametersVList.forEach(t=>{e.push({label:t.parameterName,value:t.entityParameterId})}),this.rmanEntityParametersV=e}onBeforeToggleRuleParameters(e){this.collapsedRuleParameters=e.collapsed}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(ed),l.Pb(u.a),l.Pb(An.a),l.Pb(n.c),l.Pb(o.a),l.Pb(m.a),l.Pb(h.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["app-rule-engine-conditions"]],inputs:{pRuleId:"pRuleId"},features:[l.Db([ed,An.a,o.a]),l.Cb],decls:67,vars:41,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","ruleParameter-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","columns","value","lazy","paginator","rows","totalRecords","resizableColumns","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Search","width","800","showEffect","fade",3,"visible","draggable","modal","blockScroll","visibleChange","onHide"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"selectSpan"],[1,"md-inputfield"],["pInputText","","name","parmeterGroup","id","parmeterGroup","required","","placeholder","Parameter Group",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],["pInputText","","name","parameterName","id","parameterName","required","","placeholder","Parameter Name",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["name","qualifier","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],["name","andOr","appendTo","body",3,"options","ngModelOptions","ngModel","filter","ngModelChange"],["pInputText","","name","parameterValue","id","parameterValue","required","","placeholder","Parameter Value",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["width","800","showEffect","fade",3,"header","visible","draggable","modal","blockScroll","visibleChange","onHide"],["novalidate","",3,"formGroup","ngSubmit"],["class","ui-grid ui-grid-responsive ui-fluid",4,"ngIf"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["header","Confirmation","icon","fa fa-question-circle","width","425"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow"],["title","Edit",1,"icon-edit",3,"click"],["title","Delete",1,"icon-delete",3,"click"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-results-data"],[1,"ui-g"],[1,"red-color"],["name","parameterId","formControlName","parameterId","appendTo","body",3,"options","ngModel","filter","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["name","qualifier","formControlName","qualifier","appendTo","body",3,"options","ngModel","filter","ngModelChange"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(e,t){if(1&e){const e=l.Wb();l.Qb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"h2"),l.Mc(7),l.Ub(),l.Vb(8,"div",6),l.Vb(9,"a",7),l.dc("click",(function(e){return t.onConfiguringColumns(e)})),l.Qb(10,"em",8),l.Mc(11,"Columns"),l.Ub(),l.Vb(12,"a",9),l.dc("click",(function(){return t.showDialogToAdd()})),l.Qb(13,"em",10),l.Ub(),l.Vb(14,"a",11),l.dc("click",(function(){return t.showDialogToSearch()})),l.Qb(15,"em",12),l.Ub(),l.Vb(16,"a",13),l.dc("click",(function(){l.Dc(e);const i=l.Bc(21);return t.reset(i)})),l.Qb(17,"em",14),l.Ub(),l.Kc(18,rd,15,5,"div",15),l.Ub(),l.Vb(19,"div",16),l.Vb(20,"p-table",17,18),l.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getAyaraRuleParameters(e)})),l.Kc(22,sd,3,1,"ng-template",19),l.Kc(23,pd,3,1,"ng-template",20),l.Kc(24,yd,5,2,"ng-template",21),l.Kc(25,Md,3,1,"ng-template",22),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(26,"p-dialog",23),l.dc("visibleChange",(function(e){return t.displaySearchDialog=e}))("onHide",(function(){return t.cancelSearch()})),l.Vb(27,"form"),l.Vb(28,"div",24),l.Vb(29,"div",25),l.Vb(30,"div",26),l.Vb(31,"span",27),l.Mc(32," Parameter Group "),l.Ub(),l.Vb(33,"span",28),l.Vb(34,"input",29),l.dc("ngModelChange",(function(e){return t.ayaraRuleParametersSearch.parmeterGroup=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(35,"div",30),l.Vb(36,"span",27),l.Mc(37," Parameter Name "),l.Ub(),l.Vb(38,"span",28),l.Vb(39,"input",31),l.dc("ngModelChange",(function(e){return t.ayaraRuleParametersSearch.parameterName=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(40,"div",25),l.Vb(41,"div",26),l.Vb(42,"span",27),l.Mc(43," Qualifier "),l.Ub(),l.Vb(44,"p-dropdown",32),l.dc("ngModelChange",(function(e){return t.ayaraRuleParametersSearch.qualifier=e})),l.Ub(),l.Ub(),l.Vb(45,"div",30),l.Vb(46,"span",27),l.Mc(47," And/Or "),l.Ub(),l.Vb(48,"p-dropdown",33),l.dc("ngModelChange",(function(e){return t.ayaraRuleParametersSearch.andOr=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(49,"div",25),l.Vb(50,"div",26),l.Vb(51,"span",27),l.Mc(52," Parameter Value "),l.Ub(),l.Vb(53,"span",28),l.Vb(54,"input",34),l.dc("ngModelChange",(function(e){return t.ayaraRuleParametersSearch.parameterValue=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(55,"p-footer"),l.Vb(56,"div",35),l.Vb(57,"button",36),l.dc("click",(function(){return t.search()})),l.Ub(),l.Vb(58,"button",37),l.dc("click",(function(){return t.displaySearchDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(59,"p-dialog",38),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancelEdit()})),l.Vb(60,"form",39),l.dc("ngSubmit",(function(){return t.save()})),l.Kc(61,Sd,33,19,"div",40),l.Ub(),l.Vb(62,"p-footer"),l.Vb(63,"div",35),l.Vb(64,"button",41),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(65,"button",37),l.dc("click",(function(){return t.displayDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(66,"p-confirmDialog",42)}2&e&&(l.Eb(7),l.Oc("Ayara Rule Parameters: ",null==t.masterData?null:t.masterData.ruleName," "),l.Eb(11),l.oc("ngIf",!t.showAddColumns),l.Eb(2),l.oc("loading",t.loading)("columns",t.columns)("value",t.ayaraRuleParametersList)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("resizableColumns",!0),l.Eb(6),l.oc("visible",t.displaySearchDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(8),l.oc("ngModelOptions",l.rc(36,Rd))("ngModel",t.ayaraRuleParametersSearch.parmeterGroup),l.Eb(5),l.oc("ngModelOptions",l.rc(37,Rd))("ngModel",t.ayaraRuleParametersSearch.parameterName),l.Eb(5),l.oc("options",t.rmanLookupsV)("ngModelOptions",l.rc(38,Rd))("ngModel",t.ayaraRuleParametersSearch.qualifier)("filter",!0),l.Eb(4),l.oc("options",t.rmanLookupsV1)("ngModelOptions",l.rc(39,Rd))("ngModel",t.ayaraRuleParametersSearch.andOr)("filter",!0),l.Eb(6),l.oc("ngModelOptions",l.rc(40,Rd))("ngModel",t.ayaraRuleParametersSearch.parameterValue),l.Eb(5),l.pc("header",t.newAyaraRuleParameters?"Create New Const Rule Condition":"Edit Const Rule Condition"),l.oc("visible",t.displayDialog)("draggable",!0)("modal",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.ruleParametersForm),l.Eb(1),l.oc("ngIf",t.ayaraRuleParameters),l.Eb(3),l.oc("disabled",!t.ruleParametersForm.valid))},directives:[v.o,y.j,o.f,M.a,n.v,n.l,n.m,n.b,S.a,n.s,n.k,n.n,R.a,o.b,C.b,n.g,E.a,D.a,k.b,k.c,n.a,v.p,v.n,y.g,y.i,n.e],pipes:[v.f,O.a],encapsulation:2}),e})();class kd{constructor(e,t,i,a,n,o,r,l){this.ruleParamId=e,this.ruleId=t,this.parameterGroup=i,this.parameterId=a,this.parameterName=n,this.qualifier=o,this.parameterValue=r,this.andOr=l}}function wd(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",65),l.dc("onDragStart",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDragStart(t)}))("onDrop",(function(){l.Dc(e);const t=l.gc().index;return l.gc(2).onDrop(t)})),l.Vb(2,"div",66),l.Vb(3,"input",67),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label"),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField),l.Eb(2),l.Nc(e.header)}}const Ad=function(){return{color:"grey"}};function Od(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",68),l.Vb(2,"div"),l.Vb(3,"input",69),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().$implicit.showField=t}))("change",(function(){l.Dc(e);const t=l.gc().$implicit;return l.gc(2).selectColumns(t)})),l.Ub(),l.Vb(4,"label",70),l.Mc(5),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc().$implicit;l.Eb(3),l.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),l.Eb(1),l.oc("ngStyle",l.rc(5,Ad)),l.Eb(1),l.Nc(e.header)}}function Pd(e,t){if(1&e&&(l.Kc(0,wd,6,3,"div",51),l.Kc(1,Od,6,6,"div",51)),2&e){const e=t.$implicit;l.oc("ngIf",e.drag),l.Eb(1),l.oc("ngIf",!e.drag)}}const Id=function(){return{width:"100%",height:"100%"}};function Fd(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",54),l.Vb(1,"div",55),l.Vb(2,"div",56),l.Vb(3,"input",57),l.dc("click",(function(){return l.Dc(e),l.gc().onSelectAll()})),l.Ub(),l.Vb(4,"label",58),l.Mc(5,"Select All"),l.Ub(),l.Vb(6,"a",59),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(7,"\xd7"),l.Ub(),l.Vb(8,"p-listbox",60),l.Kc(9,Pd,2,2,"ng-template",61),l.Ub(),l.Ub(),l.Vb(10,"div",62),l.Vb(11,"a",63),l.dc("click",(function(){return l.Dc(e),l.gc().saveColumns()})),l.Mc(12,"Save"),l.Ub(),l.Vb(13,"a",64),l.dc("click",(function(t){return l.Dc(e),l.gc().closeConfigureColumns(t)})),l.Mc(14,"Cancel"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(3),l.oc("checked",e.isSelectAllChecked),l.Eb(5),l.Ic(l.rc(4,Id)),l.oc("options",e.globalCols)}}function Nd(e,t){1&e&&l.Qb(0,"col")}function Td(e,t){if(1&e&&(l.Vb(0,"colgroup"),l.Qb(1,"col"),l.Kc(2,Nd,1,0,"col",71),l.Ub()),2&e){const e=t.$implicit;l.Eb(2),l.oc("ngForOf",e)}}const Ld=function(e){return{display:e}};function xd(e,t){if(1&e&&(l.Vb(0,"th",74),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,Ld,e.display)),l.Eb(1),l.Nc(e.header)}}function Bd(e,t){if(1&e&&(l.Vb(0,"th",75),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit;l.pc("title",e.header),l.oc("ngStyle",l.sc(3,Ld,e.display)),l.Eb(1),l.Nc(e.header)}}function Hd(e,t){if(1&e&&(l.Tb(0),l.Kc(1,xd,2,5,"th",72),l.Kc(2,Bd,2,5,"th",73),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type||"date"==e.type),l.Eb(1),l.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function qd(e,t){if(1&e&&(l.Vb(0,"tr"),l.Qb(1,"th"),l.Kc(2,Hd,3,2,"ng-container",71),l.Ub()),2&e){const e=l.gc();l.Eb(2),l.oc("ngForOf",e.columns)}}function Kd(e,t){if(1&e&&(l.Vb(0,"td",81),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,Ld,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function zd(e,t){if(1&e&&(l.Vb(0,"td",81),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit,i=l.gc();l.pc("title",i.transformRuleAdjType(t[e.field])),l.oc("ngStyle",l.sc(3,Ld,e.display)),l.Eb(1),l.Oc(" ",i.transformRuleAdjType(t[e.field])," ")}}function jd(e,t){if(1&e&&(l.Vb(0,"td",81),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit,i=l.gc();l.pc("title",i.transformRuleApplyLevel(t[e.field])),l.oc("ngStyle",l.sc(3,Ld,e.display)),l.Eb(1),l.Oc(" ",i.transformRuleApplyLevel(t[e.field])," ")}}function $d(e,t){if(1&e&&(l.Vb(0,"td",82),l.Mc(1),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",t[e.field]),l.oc("ngStyle",l.sc(3,Ld,e.display)),l.Eb(1),l.Oc(" ",t[e.field]," ")}}function _d(e,t){if(1&e&&(l.Vb(0,"td",81),l.hc(1,"date"),l.Mc(2),l.hc(3,"date"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.jc(1,3,t[e.field],"MM/dd/yyyy")),l.oc("ngStyle",l.sc(9,Ld,e.display)),l.Eb(2),l.Oc(" ",l.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function Qd(e,t){if(1&e&&(l.Vb(0,"td",82),l.hc(1,"round"),l.Mc(2),l.hc(3,"round"),l.Ub()),2&e){const e=l.gc().$implicit,t=l.gc().$implicit;l.pc("title",l.ic(1,3,t[e.field])),l.oc("ngStyle",l.sc(7,Ld,e.display)),l.Eb(2),l.Oc(" ",l.ic(3,5,t[e.field])," ")}}function Gd(e,t){if(1&e&&(l.Tb(0),l.Kc(1,Kd,2,5,"td",79),l.Kc(2,zd,2,5,"td",79),l.Kc(3,jd,2,5,"td",79),l.Kc(4,$d,2,5,"td",80),l.Kc(5,_d,4,11,"td",79),l.Kc(6,Qd,4,9,"td",80),l.Sb()),2&e){const e=t.$implicit;l.Eb(1),l.oc("ngIf","text"==e.type&&"ruleAdjType"!==e.field&&"ruleApplyLevel"!==e.field),l.Eb(1),l.oc("ngIf","text"==e.type&&"ruleAdjType"===e.field),l.Eb(1),l.oc("ngIf","text"==e.type&&"ruleApplyLevel"===e.field),l.Eb(1),l.oc("ngIf","number"==e.type),l.Eb(1),l.oc("ngIf","date"==e.type),l.Eb(1),l.oc("ngIf","round"==e.type)}}function Wd(e,t){if(1&e){const e=l.Wb();l.Vb(0,"tr",76),l.Vb(1,"td"),l.Vb(2,"a",77),l.dc("click",(function(){l.Dc(e);const i=t.$implicit;return l.gc().editRow(i)})),l.Ub(),l.Vb(3,"a",78),l.dc("click",(function(){l.Dc(e);const i=t.$implicit;return l.gc().delete(i)})),l.Ub(),l.Ub(),l.Kc(4,Gd,7,6,"ng-container",71),l.Ub()}if(2&e){const e=t.columns;l.oc("pSelectableRow",t.$implicit),l.Eb(4),l.oc("ngForOf",e)}}function Yd(e,t){if(1&e&&(l.Vb(0,"tr"),l.Vb(1,"td",83),l.Mc(2),l.Ub(),l.Ub()),2&e){const e=l.gc(2);l.Eb(2),l.Nc(e.noData)}}function Jd(e,t){1&e&&l.Kc(0,Yd,3,1,"tr",51),2&e&&l.oc("ngIf",!t.$implicit)}function Zd(e,t){if(1&e&&(l.Vb(0,"div",98),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.ruleName," ")}}function Xd(e,t){if(1&e&&(l.Vb(0,"div",98),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.ruleType," ")}}function eu(e,t){if(1&e&&(l.Vb(0,"div",98),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.ruleBasis," ")}}function tu(e,t){if(1&e&&(l.Vb(0,"div",98),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.ruleAdjType," ")}}function iu(e,t){if(1&e&&(l.Vb(0,"div",98),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.ruleAdjValue," ")}}function au(e,t){1&e&&(l.Vb(0,"small",99),l.Mc(1," Percentage values cannot exceed 100%. "),l.Ub())}function nu(e,t){if(1&e&&(l.Vb(0,"div",98),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.enabledFlag," ")}}function ou(e,t){1&e&&(l.Vb(0,"span",85),l.Mc(1,"*"),l.Ub())}function ru(e,t){if(1&e&&(l.Vb(0,"div",98),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.ruleApplyLevel," ")}}function lu(e,t){1&e&&(l.Vb(0,"small",99),l.Mc(1," Application Level is only required when Rule Type is Variable Consideration. "),l.Ub())}function su(e,t){if(1&e&&(l.Vb(0,"div",98),l.Mc(1),l.Ub()),2&e){const e=l.gc(2);l.Eb(1),l.Oc(" ",e.formErrors.ruleStartDate," ")}}const cu=function(){return{standalone:!0}};function du(e,t){if(1&e){const e=l.Wb();l.Vb(0,"div",26),l.Vb(1,"div",84),l.Vb(2,"div",27),l.Vb(3,"div",28),l.Vb(4,"span",29),l.Vb(5,"span",30),l.Mc(6," Rule Name "),l.Vb(7,"span",85),l.Mc(8,"*"),l.Ub(),l.Ub(),l.Vb(9,"input",86),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraRules.ruleName=t})),l.Ub(),l.Kc(10,Zd,2,1,"div",87),l.Ub(),l.Ub(),l.Vb(11,"div",28),l.Vb(12,"span",30),l.Mc(13," Rule Type "),l.Vb(14,"span",85),l.Mc(15,"*"),l.Ub(),l.Ub(),l.Vb(16,"p-dropdown",88),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraRules.ruleType=t}))("onChange",(function(t){return l.Dc(e),l.gc().onRuleTypeChange(t.value)})),l.Ub(),l.Kc(17,Xd,2,1,"div",87),l.Ub(),l.Ub(),l.Vb(18,"div",27),l.Vb(19,"div",28),l.Vb(20,"span",30),l.Mc(21," Rule Basis"),l.Vb(22,"span",85),l.Mc(23,"*"),l.Ub(),l.Ub(),l.Vb(24,"p-dropdown",89),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraRules.ruleBasis=t})),l.Ub(),l.Kc(25,eu,2,1,"div",87),l.Ub(),l.Vb(26,"div",28),l.Vb(27,"span",30),l.Mc(28," Adjustment Type "),l.Vb(29,"span",85),l.Mc(30,"*"),l.Ub(),l.Ub(),l.Vb(31,"p-dropdown",90),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraRules.ruleAdjType=t}))("onChange",(function(t){return l.Dc(e),l.gc().onAdjustmentTypeChange(t.value)}))("onFocus",(function(){return l.Dc(e),l.gc().loadRuleAdjTypeDataOnFocus()})),l.Ub(),l.Kc(32,tu,2,1,"div",87),l.Ub(),l.Ub(),l.Vb(33,"div",27),l.Vb(34,"div",28),l.Vb(35,"span",29),l.Vb(36,"span",30),l.Mc(37," Adjustment Value"),l.Vb(38,"span",85),l.Mc(39,"*"),l.Ub(),l.Ub(),l.Vb(40,"input",91),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraRules.ruleAdjValue=t}))("ngModelChange",(function(t){return l.Dc(e),l.gc().onAdjustmentValueChange(t)})),l.Ub(),l.Kc(41,iu,2,1,"div",87),l.Kc(42,au,2,0,"small",92),l.Ub(),l.Ub(),l.Vb(43,"div",28),l.Vb(44,"span",29),l.Vb(45,"span",30),l.Mc(46," Activated Flag "),l.Vb(47,"span",85),l.Mc(48,"*"),l.Ub(),l.Ub(),l.Vb(49,"p-dropdown",93),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraRules.enabledFlag=t})),l.Ub(),l.Kc(50,nu,2,1,"div",87),l.Ub(),l.Ub(),l.Ub(),l.Vb(51,"div",27),l.Vb(52,"div",28),l.Vb(53,"span",30),l.Mc(54," Application Level "),l.Kc(55,ou,2,0,"span",94),l.Ub(),l.Vb(56,"p-dropdown",95),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraRules.ruleApplyLevel=t}))("onFocus",(function(){return l.Dc(e),l.gc().loadApplicationLevelDataOnFocus()})),l.Ub(),l.Kc(57,ru,2,1,"div",87),l.Kc(58,lu,2,0,"small",92),l.Ub(),l.Vb(59,"div",28),l.Vb(60,"span",30),l.Mc(61,"Rule Start Date "),l.Vb(62,"span",85),l.Mc(63,"*"),l.Ub(),l.Ub(),l.Vb(64,"p-calendar",96),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraRules.ruleStartDate=t})),l.Kc(65,su,2,1,"div",87),l.Ub(),l.Ub(),l.Ub(),l.Vb(66,"div",27),l.Vb(67,"div",28),l.Vb(68,"span",30),l.Mc(69,"Rule End Date"),l.Ub(),l.Vb(70,"p-calendar",97),l.dc("ngModelChange",(function(t){return l.Dc(e),l.gc().ayaraRules.ruleEndDate=t})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){const e=l.gc();l.Eb(9),l.oc("ngModel",e.ayaraRules.ruleName),l.Eb(1),l.oc("ngIf",e.formErrors.ruleName),l.Eb(6),l.oc("options",e.rmanRuleTypeV)("ngModel",e.ayaraRules.ruleType)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.ruleType),l.Eb(7),l.oc("options",e.filteredRuleBasisV)("ngModel",e.ayaraRules.ruleBasis)("filter",!0)("disabled",!e.ayaraRules.ruleType),l.Eb(1),l.oc("ngIf",e.formErrors.ruleBasis),l.Eb(6),l.oc("options",e.rmanRuleAdjTypeV)("ngModel",e.ayaraRules.ruleAdjType)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.ruleAdjType),l.Eb(8),l.oc("ngModel",e.ayaraRules.ruleAdjValue),l.Eb(1),l.oc("ngIf",e.formErrors.ruleAdjValue),l.Eb(1),l.oc("ngIf",e.ayaraRules.ruleAdjType&&"PERCENT"===e.ayaraRules.ruleAdjType.toString().toUpperCase()),l.Eb(7),l.oc("options",e.rmanActivatedFlagsV)("ngModel",e.ayaraRules.enabledFlag)("filter",!0),l.Eb(1),l.oc("ngIf",e.formErrors.enabledFlag),l.Eb(5),l.oc("ngIf",e.isApplicationLevelEnabled),l.Eb(1),l.oc("options",e.rmanApplicationLevelV)("ngModel",e.ayaraRules.ruleApplyLevel)("filter",!0)("disabled",!e.isApplicationLevelEnabled),l.Eb(1),l.oc("ngIf",e.formErrors.ruleApplyLevel),l.Eb(1),l.oc("ngIf",!e.isApplicationLevelEnabled),l.Eb(6),l.oc("ngModel",e.ayaraRules.ruleStartDate)("monthNavigator",!0)("yearNavigator",!0),l.Eb(1),l.oc("ngIf",e.formErrors.ruleStartDate),l.Eb(5),l.oc("ngModelOptions",l.rc(37,cu))("ngModel",e.ayaraRules.ruleEndDate)("monthNavigator",!0)("yearNavigator",!0)}}function uu(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Rule Name"),l.Ub())}function bu(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Rule Category"),l.Ub())}function pu(e,t){1&e&&(l.Vb(0,"p"),l.Mc(1,"Please enter Rule Start Date"),l.Ub())}const gu=i("+yMW");let hu=(()=>{class e{constructor(e,t,i,a,n,o,r){this.ayaraRulesService=e,this.rmanLookupsVService=t,this.rmanLookupCodesService=i,this.formBuilder=a,this.confirmationService=n,this.notificationService=o,this.commonSharedService=r,this.ayaraRules=new mu,this.ayaraRulesSearch=new mu,this.isSerached=0,this.msgs=[],this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.rmanCostBasisList=[],this.rmanRuleBasisList=[],this.rmanActivatedFlagList=[],this.rmanRuleTypeList=[],this.rmanRuleAdjTypeList=[],this.rmanApplicationLevelList=[],this.rmanVCBasisList=[],this.rmanICBasisList=[],this.filteredRuleBasisV=[],this.noData=gu.noData,this.collapsed=!0,this.isApplicationLevelEnabled=!1,this.ruleAdjTypeDataLoaded=!1,this.applicationLevelDataLoaded=!1,this.formErrors={ruleName:"",ruleType:"",ruleStartDate:"",ruleEndDate:"",ruleAdjValue:"",ruleAdjType:"",ruleApplyLevel:"",enabledFlag:"",ruleBasis:""},this.validationMessages={ruleName:{required:"Rule Name is required (minimum length is 4 and maximum length is 65 characters)",minlength:"Rule Name must be at least 4 characters long.",maxlength:"Rule Name cannot be more than 65 characters long."},ruleType:{required:"Rule Type is required"},ruleBasis:{required:"Rule Basis is required"},ruleAdjType:{required:"Adjustment Type is required"},ruleApplyLevel:{required:"Application Level is required when Rule Type is Variable Consideration"},ruleStartDate:{required:"Rule Start Date is Required"},category:{required:"Rule Category is required"},ruleAdjValue:{required:"Cost Adjustment % is required (Only number values are allowed [0-9])",minlength:"Cost Adjustment % must be at least 1 characters long.",pattern:"Only number values are allowed [0-9]",min:"Minimum number allowed is -100.00",percentageExceeded:"Percentage value cannot exceed 100%"}},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.loading=!0,this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"RULE_TYPE"}).then(e=>{this.loading=!1,this.rmanRuleTypeList=e.content,this.prepareRmanRuleTypeObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Rule Type" data'),this.loading=!1}),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"ENABLED_FLAG"}).then(e=>{this.loading=!1,this.rmanActivatedFlagList=e.content,this.prepareRmanActivatedFlagObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Activated Flag" data'),this.loading=!1})}ngOnInit(){this.globalCols=[{field:"ruleName",header:"Rule Name",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"ruleType",header:"Rule Type",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"ruleBasis",header:"Rule Basis",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"ruleAdjType",header:"Adjustment Type",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"ruleAdjValue",header:"Adjustment Value",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"ruleApplyLevel",header:"Application Level",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"ruleStartDate",header:"Start Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"ruleEndDate",header:"End Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"enabledFlag",header:"Activated Flag",showField:!0,display:"table-cell",type:"text",drag:!0}],this.columns=[],this.getTableColumns("AyaraRules","Ayara Rules"),this.buildForm()}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];const t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.globalCols.findIndex(t=>t.field===e),this.onDrop(t))}),this.globalCols.forEach(t=>{-1!==e.tableColumns.indexOf(t.field)?this.columns.push(t):t.showField=!1}),this.columns.length!==this.globalCols.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.globalCols}).catch(()=>{this.notificationService.showError("Error occured while getting table columns data"),this.loading=!1})}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.globalCols.length-1;this.globalCols.forEach((i,a)=>{i.showField&&(e+=i.field,a<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("AyaraRules","Ayara Rules",e,this.userId).then(e=>{this.columns=this.globalCols.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}selectColumns(e){const t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}reset(e){this.paginationOptions={},this.ayaraRules=new mu,e.reset()}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;const t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}buildForm(){this.arrangementRulesForm=this.formBuilder.group({ruleName:["",[n.t.required,n.t.minLength(4),n.t.maxLength(65)]],ruleType:["",[n.t.required]],ruleStartDate:["",[n.t.required]],ruleAdjType:["",[n.t.required]],ruleAdjValue:["",[n.t.required,n.t.minLength(1),n.t.pattern(/^\-?\d+(\.\d+)?$/),n.t.min(-100),this.percentageValidator.bind(this)]],ruleBasis:["",[n.t.required]],ruleApplyLevel:[""],enabledFlag:["",[n.t.required]],ruleEndDate:[""]}),this.arrangementRulesForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged(),this.updateApplicationLevelValidation()}updateApplicationLevelValidation(){if(!this.arrangementRulesForm)return;const e=this.arrangementRulesForm.get("ruleType"),t=this.arrangementRulesForm.get("ruleApplyLevel");if(e&&t){const i="VC"===e.value;this.isApplicationLevelEnabled=i,i?(t.enable(),t.setValidators([n.t.required])):(t.disable(),t.clearValidators(),t.setValue(null)),t.updateValueAndValidity()}}onValueChanged(e){if(!this.arrangementRulesForm)return;const t=this.arrangementRulesForm;for(const i in this.formErrors){this.formErrors[i]="";const e=t.get(i);if(e&&!e.valid&&(e.dirty||e.touched||e.errors&&e.errors.percentageExceeded)){const t=this.validationMessages[i];for(const a in e.errors)this.formErrors[i]+=t[a]+" "}}}transformRmanLookupsV(e){if(e)return e.lookupDescription}transformRuleAdjType(e){if(!e||!this.rmanRuleAdjTypeList)return e;const t=this.rmanRuleAdjTypeList.find(t=>t.lookupCode===e);if(t){let e=t.attribute1;return e&&null!==e||(e=t.description),e&&null!==e||(e=t.lookupCode),e}return e}transformRuleApplyLevel(e){if(!e||!this.rmanApplicationLevelList)return e;const t=this.rmanApplicationLevelList.find(t=>t.lookupCode===e);if(t){let e=t.attribute1;return e&&null!==e||(e=t.description),e&&null!==e||(e=t.lookupCode),e}return e}getAllAyaraRules(){this.loading=!0,this.ayaraRulesService.getAllAyaraRules(this.paginationOptions,this.ayaraRules).then(e=>{this.loading=!1,this.datasource=e.content,this.ayaraRulesList=e.content,this.ayaraRulesList.length>0?(this.selectedAyaraRules=this.ayaraRulesList[0],this.pRuleId=this.selectedAyaraRules.ruleId,this.childTable.parentCall(this.selectedAyaraRules)):(this.selectedAyaraRules=null,this.pRuleId=null),this.totalElements=e.totalElements,this.pageSize=e.size,this.displaySearchDialog=!1}).catch(e=>{console.error(e),this.notificationService.showError("Error occured while getting data"),this.loading=!1})}getAyaraRules(e){this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.ayaraRulesService.getAllAyaraRules(this.paginationOptions,this.ayaraRules).then(e=>{this.loading=!1,this.datasource=e.content,this.ayaraRulesList=e.content,this.ayaraRulesList.length>0?(this.selectedAyaraRules=this.ayaraRulesList[0],this.pRuleId=this.selectedAyaraRules.ruleId,this.childTable.parentCall(this.selectedAyaraRules)):(this.selectedAyaraRules=null,this.pRuleId=null),this.totalElements=e.totalElements,this.pageSize=e.size}).catch(e=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}showDialogToAdd(){console.log("Opening add rule dialog..."),this.newAyaraRules=!0,this.ayaraRules=new mu,this.displayDialog=!0,this.ruleAdjTypeDataLoaded=!1,this.applicationLevelDataLoaded=!1,this.rmanRuleBasisList=[],this.prepareRmanCostBasisObject(),this.prepareRmanActivatedFlagObject(),this.prepareRmanRuleTypeObject(),this.prepareRmanRuleAdjTypeObject(),this.prepareRmanApplicationLevelObject(),this.filteredRuleBasisV=[{label:"--Select Rule Basis(*)--",value:null}],this.buildForm(),setTimeout(()=>{this.updateApplicationLevelValidation()},0)}loadRuleAdjTypeDataOnFocus(){return new Promise((e,t)=>{this.ruleAdjTypeDataLoaded?(console.log("Adjustment Type data already loaded (no API call)."),this.prepareRmanRuleAdjTypeObject(),e()):(console.log("API Call: Fetching Adjustment Type data on focus..."),this.loading=!0,this.rmanLookupCodesService.getAllRmanLookupCodes(this.paginationOptions,{lookupTypeCode:"RuleAdjType"}).then(t=>{this.rmanRuleAdjTypeList=t.content||[],this.prepareRmanRuleAdjTypeObject(),this.ruleAdjTypeDataLoaded=!0,this.loading=!1,e()}).catch(e=>{console.error("Error loading RuleAdjType on focus:",e),this.notificationService.showError("Error occurred while loading Adjustment Type data"),this.loading=!1,t(e)}))})}loadApplicationLevelDataOnFocus(){return new Promise((e,t)=>{this.applicationLevelDataLoaded?(this.prepareRmanApplicationLevelObject(),e()):(this.loading=!0,this.rmanLookupCodesService.getAllRmanLookupCodes(this.paginationOptions,{lookupTypeCode:"APPLICATION_LEVEL"}).then(t=>{this.rmanApplicationLevelList=t.content||[],this.prepareRmanApplicationLevelObject(),this.applicationLevelDataLoaded=!0,this.loading=!1,console.log("Application Level data loaded on focus:",this.rmanApplicationLevelList),e()}).catch(e=>{this.notificationService.showError("Error occurred while loading Application Level data"),this.loading=!1,t(e)}))})}loadRuleBasisDataForType(e){return new Promise((t,i)=>{this.rmanRuleBasisList.length>0&&this.rmanRuleBasisList.every(t=>t.lookupTypeCode===e)?(this.filterRuleBasisOptions(e),t()):(console.log(`API Call: Fetching Rule Basis data for type: ${e}...`),this.loading=!0,this.rmanLookupCodesService.getAllRmanLookupCodes(this.paginationOptions,{lookupTypeCode:e}).then(i=>{this.rmanRuleBasisList=i.content||[],console.log(`API Response for Rule Basis (${e}):`,this.rmanRuleBasisList),this.loading=!1,this.filterRuleBasisOptions(e),t()}).catch(t=>{console.error(`Error loading Rule Basis data for type ${e}:`,t),this.notificationService.showError("Error occurred while loading Rule Basis data for "+e),this.loading=!1,i(t)}))})}saveOrUpdate(e){this.notificationService.showSuccess(e),this.loading=!1,this.getAllAyaraRules()}save(){if(this.newAyaraRules)this.loading=!0,this.ayaraRulesService.saveAyaraRules(this.ayaraRules).then(e=>{this.saveOrUpdate("Saved successfully")}).catch(e=>{this.notificationService.showError("Error occurred while saving data"),this.loading=!1});else{this.loading=!0;const e=this.prepareObjectToUpdate();this.ayaraRulesService.updateAyaraRules(e).then(e=>{this.saveOrUpdate("Updated successfully")}).catch(e=>{this.notificationService.showError("Error occurred while updating data"),this.loading=!1})}this.ayaraRules=new mu,this.displayDialog=!1}delete(e){this.ayaraRules=e,this.ayaraRules.ruleEndDate=new Date(this.ayaraRules.ruleEndDate),this.ayaraRules.ruleStartDate=new Date(this.ayaraRules.ruleStartDate),console.log("Delete - ayaraRules:",this.ayaraRules),console.log("Delete - ruleId:",this.ayaraRules.ruleId),this.displayDialog=!1,this.confirmationService.confirm({message:"Are you sure you want to delete this record?",header:"Confirmation",icon:"",accept:()=>{this.loading=!0,this.ayaraRulesService.deleteAyaraRules(this.ayaraRules).then(e=>{this.loading=!1,this.ayaraRulesList.splice(this.findSelectedAyaraRulesIndex(),1),this.notificationService.showSuccess("Deleted successfully"),this.ayaraRules=new mu,this.getAllAyaraRules()},e=>{console.error("Delete error:",e),this.notificationService.showError("Error occurred while deleting data"),this.loading=!1})},reject:()=>{this.notificationService.showWarning("You have rejected")}})}editRow(e){this.newAyaraRules=!1,this.ayaraRules=this.cloneAyaraRules(e),this.ayaraRules.ruleEndDate&&(this.ayaraRules.ruleEndDate=new Date(this.ayaraRules.ruleEndDate)),this.ayaraRules.ruleStartDate&&(this.ayaraRules.ruleStartDate=new Date(this.ayaraRules.ruleStartDate)),this.displayDialog=!0,this.prepareRmanCostBasisObject(),this.prepareRmanActivatedFlagObject(),this.prepareRmanRuleTypeObject(),this.loadRuleAdjTypeDataOnFocus(),this.loadApplicationLevelDataOnFocus(),this.ayaraRules.ruleType?this.loadRuleBasisDataForType(this.ayaraRules.ruleType):this.filteredRuleBasisV=[{label:"--Select Rule Basis(*)--",value:null}],this.buildForm(),setTimeout(()=>{this.updateApplicationLevelValidation()},0)}findSelectedAyaraRulesIndex(){return this.ayaraRulesList.indexOf(this.selectedAyaraRules)}onRowUnSelect(){this.childTable.parentCall("")}onRowSelect(e){this.selectedAyaraRules=e.data,this.pRuleId=this.selectedAyaraRules.ruleId,this.childTable.parentCall(e.data)}cloneAyaraRules(e){const t=new mu;for(const i in e)t[i]=e[i];return t}toggleColumnMenu(){this.hideColumnMenu=!this.hideColumnMenu}toggleFilterBox(){this.showFilter=!this.showFilter}showDialogToSearch(){this.ayaraRulesSearch=new mu,0==this.isSerached&&(this.ayaraRulesSearch=new mu),this.displaySearchDialog=!0}cancelSearch(){this.displaySearchDialog=!1,this.ayaraRulesSearch=new mu}cancelEdit(){this.displayDialog=!1,this.ayaraRules=new mu}search(){this.isSerached=1,this.ayaraRules=this.ayaraRulesSearch,this.paginationOptions={},this.getAllAyaraRules()}prepareRmanCostBasisObject(){const e=[{label:"--Select Cost Basis(*)--",value:null}];this.rmanCostBasisList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanCostBasisV=e}prepareRmanRuleBasisObject(){const e=[{label:"--Select Rule Type(*)--",value:null}];this.rmanRuleBasisList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanRuleBasisV=e}prepareRmanActivatedFlagObject(){const e=[{label:"--Select Activated Flag(*)--",value:null}];this.rmanActivatedFlagList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanActivatedFlagsV=e}prepareRmanRuleTypeObject(){const e=[{label:"--Select Rule Type(*)--",value:null}];this.rmanRuleTypeList.forEach(t=>{e.push({label:t.lookupDescription,value:t.lookupCode})}),this.rmanRuleTypeV=e}prepareRmanRuleAdjTypeObject(){const e=[{label:"--Select Adjustment Type(*)--",value:null}];this.rmanRuleAdjTypeList&&this.rmanRuleAdjTypeList.length>0?this.rmanRuleAdjTypeList.forEach(t=>{e.push({label:t.attribute1||t.description||t.lookupCode,value:t.lookupCode})}):(e.push({label:"AMOUNT",value:"AMOUNT"}),e.push({label:"PERCENT",value:"PERCENT"})),this.rmanRuleAdjTypeV=e}prepareRmanApplicationLevelObject(){const e=[{label:"--Select Application Level(*)--",value:null}];this.rmanApplicationLevelList&&this.rmanApplicationLevelList.length>0?this.rmanApplicationLevelList.forEach(t=>{let i=t.attribute1;i&&null!==i||(i=t.description),i&&null!==i||(i=t.lookupCode),e.push({label:i,value:t.lookupCode})}):e.push({label:"No options available",value:null,disabled:!0}),this.rmanApplicationLevelV=e}percentageValidator(e){var t,i;if(!e.value)return null;const a=null===(i=null===(t=this.arrangementRulesForm)||void 0===t?void 0:t.get("ruleAdjType"))||void 0===i?void 0:i.value;return a&&"PERCENT"===a.toString().toUpperCase()&&parseFloat(e.value)>100?{percentageExceeded:!0}:null}onAdjustmentTypeChange(e){var t;const i=null===(t=this.arrangementRulesForm)||void 0===t?void 0:t.get("ruleAdjValue");i&&(i.updateValueAndValidity(),this.onValueChanged())}onAdjustmentValueChange(e){var t;const i=null===(t=this.arrangementRulesForm)||void 0===t?void 0:t.get("ruleAdjValue");i&&(i.updateValueAndValidity(),this.onValueChanged())}onRuleTypeChange(e){this.ayaraRules.ruleBasis=null,e?this.loadRuleBasisDataForType(e):(this.filteredRuleBasisV=[{label:"--Select Rule Basis(*)--",value:null}],this.rmanRuleBasisList=[]),this.updateApplicationLevelValidation()}filterRuleBasisOptions(e){if(!this.rmanRuleBasisList||0===this.rmanRuleBasisList.length)return void(this.filteredRuleBasisV=[{label:"--Select Rule Basis(*)--",value:null}]);if(!e)return void(this.filteredRuleBasisV=[{label:"--Select Rule Basis(*)--",value:null}]);const t=this.rmanRuleBasisList.filter(t=>t.lookupTypeCode===e),i=[{label:"--Select Rule Basis(*)--",value:null}];0===t.length?i.push({label:"No options available for "+e,value:null,disabled:!0}):t.forEach(e=>{let t=e.attribute1;t&&null!==t||(t=e.description),t&&null!==t||(t=e.lookupCode),i.push({label:t,value:t})}),this.filteredRuleBasisV=i}onBeforeToggle(e){this.collapsed=e.collapsed}prepareObjectToUpdate(){const e=new mu;return e.ruleName=this.ayaraRules.ruleName,e.ruleEndDate=this.ayaraRules.ruleEndDate,e.ruleType=this.ayaraRules.ruleType,e.ruleAdjType=this.ayaraRules.ruleAdjType,e.ruleAdjValue=this.ayaraRules.ruleAdjValue,e.ruleBasis=this.ayaraRules.ruleBasis,e.enabledFlag=this.ayaraRules.enabledFlag,e.ruleStartDate=this.ayaraRules.ruleStartDate,e.ruleId=this.ayaraRules.ruleId,e.ruleApplyLevel=this.ayaraRules.ruleApplyLevel,e}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(Jc),l.Pb(u.a),l.Pb(Ua.a),l.Pb(n.c),l.Pb(o.a),l.Pb(m.a),l.Pb(h.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["ayara-rules"]],viewQuery:function(e,t){var i;1&e&&l.Qc(Dd,!0),2&e&&l.Ac(i=l.ec())&&(t.childTable=i.first)},features:[l.Db([Jc,o.a,Ua.a])],decls:76,vars:36,consts:[[1,"content-section","implementation"],["header","Confirmation","icon","fa fa-question-circle","width","425"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Add",3,"click"],[1,"fa","fa-plus-circle"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","arrangementRules-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","columns","value","selection","lazy","paginator","rows","totalRecords","resizableColumns","selectionChange","onRowSelect","onRowUnselect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pRuleId"],["header","Search","width","800","showEffect","fade",3,"visible","modal","draggable","blockScroll","visibleChange","onHide"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["pInputText","","placeholder","Rule Name","name","ruleName","id","ruleName",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],["name","ruleType","appendTo","body",3,"options","ngModel","filter","ngModelChange"],["name","enabledFlag","appendTo","body",3,"options","ngModel","filter","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["width","800","showEffect","fade",3,"header","visible","modal","draggable","blockScroll","visibleChange","onHide"],["novalidate","",3,"formGroup","ngSubmit"],["class","ui-grid ui-grid-responsive ui-fluid",4,"ngIf"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["id","FieldsMandatory","role","dialog","data-backdrop","static","data-keyboard","false",1,"modal","fade","dialogueBox"],[1,"modal-dialog","modal-sm"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-title"],[1,"form-horizontal"],[1,"modal-body","clearfix"],[1,"col-md-12","col-sm-12","col-xs-12","col-lg-12"],[4,"ngIf"],[1,"modal-footer",2,"padding","3px"],["data-dismiss","modal",1,"btn","btn-primary","pull-right"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow"],["title","Edit",1,"icon-edit",3,"click"],["title","Delete",1,"icon-delete",3,"click"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-data"],[1,"ui-g"],[1,"red-color"],["pInputText","","placeholder","Rule Name","name","ruleName","id","ruleName","formControlName","ruleName",1,"textbox",3,"ngModel","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["name","ruleType","formControlName","ruleType","appendTo","body",3,"options","ngModel","filter","ngModelChange","onChange"],["name","ruleBasis","formControlName","ruleBasis","appendTo","body",3,"options","ngModel","filter","disabled","ngModelChange"],["name","ruleAdjType","formControlName","ruleAdjType","appendTo","body",3,"options","ngModel","filter","ngModelChange","onChange","onFocus"],["pInputText","","name","ruleAdjValue","placeholder","Adjustment","id","ruleAdjValue","formControlName","ruleAdjValue",1,"textbox",3,"ngModel","ngModelChange"],["class","help-text","style","color: #666; font-style: italic;",4,"ngIf"],["name","enabledFlag","formControlName","enabledFlag","appendTo","body",3,"options","ngModel","filter","ngModelChange"],["class","red-color",4,"ngIf"],["name","ruleApplyLevel","formControlName","ruleApplyLevel","appendTo","body",3,"options","ngModel","filter","disabled","ngModelChange","onFocus"],["showAnim","slideDown","inputStyleClass","textbox","name","ruleStartDate","id","ruleStartDate","yearRange","1950:2030","appendTo","body","formControlName","ruleStartDate","dateFormat","yy-mm-dd","placeholder","Rule Start Date*",3,"ngModel","monthNavigator","yearNavigator","ngModelChange"],["inputStyleClass","textbox","showAnim","slideDown","name","ruleEndDate","id","ruleEndDate","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","Rule End Date",3,"ngModelOptions","ngModel","monthNavigator","yearNavigator","ngModelChange"],[1,"ui-message","ui-messages-error","ui-corner-all"],[1,"help-text",2,"color","#666","font-style","italic"]],template:function(e,t){if(1&e){const e=l.Wb();l.Qb(0,"div",0),l.Qb(1,"p-confirmDialog",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Vb(6,"div",6),l.Vb(7,"h2"),l.Mc(8,"Ayara Rules"),l.Ub(),l.Vb(9,"div",7),l.Vb(10,"a",8),l.dc("click",(function(e){return t.onConfiguringColumns(e)})),l.Qb(11,"em",9),l.Mc(12,"Columns"),l.Ub(),l.Vb(13,"a",10),l.dc("click",(function(){return t.showDialogToAdd()})),l.Qb(14,"em",11),l.Ub(),l.Vb(15,"a",12),l.dc("click",(function(){return t.showDialogToSearch()})),l.Qb(16,"em",13),l.Ub(),l.Vb(17,"a",14),l.dc("click",(function(){l.Dc(e);const i=l.Bc(22);return t.reset(i)})),l.Qb(18,"em",15),l.Ub(),l.Kc(19,Fd,15,5,"div",16),l.Ub(),l.Vb(20,"div",17),l.Vb(21,"p-table",18,19),l.dc("selectionChange",(function(e){return t.selectedAyaraRules=e}))("onRowSelect",(function(e){return t.onRowSelect(e)}))("onRowUnselect",(function(){return t.onRowUnSelect()}))("onLazyLoad",(function(e){return t.getAyaraRules(e)})),l.Kc(23,Td,3,1,"ng-template",20),l.Kc(24,qd,3,1,"ng-template",21),l.Kc(25,Wd,5,2,"ng-template",22),l.Kc(26,Jd,1,1,"ng-template",23),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(27,"app-rule-engine-conditions",24),l.Vb(28,"p-dialog",25),l.dc("visibleChange",(function(e){return t.displaySearchDialog=e}))("onHide",(function(){return t.cancelSearch()})),l.Vb(29,"form"),l.Vb(30,"div",26),l.Vb(31,"div",27),l.Vb(32,"div",28),l.Vb(33,"span",29),l.Vb(34,"span",30),l.Mc(35," Rule Name "),l.Ub(),l.Vb(36,"input",31),l.dc("ngModelChange",(function(e){return t.ayaraRulesSearch.ruleName=e})),l.Ub(),l.Ub(),l.Ub(),l.Vb(37,"div",32),l.Vb(38,"span",29),l.Vb(39,"span",30),l.Mc(40,"Rule Type "),l.Ub(),l.Vb(41,"p-dropdown",33),l.dc("ngModelChange",(function(e){return t.ayaraRulesSearch.ruleType=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(42,"div",27),l.Vb(43,"div",28),l.Vb(44,"span",29),l.Vb(45,"span",30),l.Mc(46," Activated Flag "),l.Ub(),l.Vb(47,"p-dropdown",34),l.dc("ngModelChange",(function(e){return t.ayaraRulesSearch.enabledFlag=e})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(48,"p-footer"),l.Vb(49,"div",35),l.Vb(50,"button",36),l.dc("click",(function(){return t.search()})),l.Ub(),l.Vb(51,"button",37),l.dc("click",(function(){return t.displaySearchDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(52,"p-dialog",38),l.dc("visibleChange",(function(e){return t.displayDialog=e}))("onHide",(function(){return t.cancelEdit()})),l.Vb(53,"form",39),l.dc("ngSubmit",(function(){return t.save()})),l.Kc(54,du,71,38,"div",40),l.Ub(),l.Vb(55,"p-footer"),l.Vb(56,"div",35),l.Vb(57,"button",41),l.dc("click",(function(){return t.save()})),l.Ub(),l.Vb(58,"button",37),l.dc("click",(function(){return t.displayDialog=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(59,"div",42),l.Vb(60,"div",43),l.Vb(61,"div",44),l.Vb(62,"div",45),l.Vb(63,"button",46),l.Mc(64,"\xd7"),l.Ub(),l.Vb(65,"h4",47),l.Mc(66),l.Ub(),l.Ub(),l.Vb(67,"form",48),l.Vb(68,"div",49),l.Vb(69,"div",50),l.Kc(70,uu,2,0,"p",51),l.Kc(71,bu,2,0,"p",51),l.Kc(72,pu,2,0,"p",51),l.Ub(),l.Ub(),l.Vb(73,"div",52),l.Vb(74,"button",53),l.Mc(75,"OK"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}2&e&&(l.Eb(19),l.oc("ngIf",!t.showAddColumns),l.Eb(2),l.oc("loading",t.loading)("columns",t.columns)("value",t.ayaraRulesList)("selection",t.selectedAyaraRules)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("resizableColumns",!0),l.Eb(6),l.oc("pRuleId",t.pRuleId),l.Eb(1),l.oc("visible",t.displaySearchDialog)("modal",!0)("draggable",!0)("blockScroll",!0),l.Eb(8),l.oc("ngModelOptions",l.rc(35,cu))("ngModel",t.ayaraRulesSearch.ruleName),l.Eb(5),l.oc("options",t.rmanRuleTypeV)("ngModel",t.ayaraRulesSearch.ruleType)("filter",!0),l.Eb(6),l.oc("options",t.rmanActivatedFlagsV)("ngModel",t.ayaraRulesSearch.enabledFlag)("filter",!0),l.Eb(5),l.pc("header",t.newAyaraRules?"Create Rule":"Edit Rule"),l.oc("visible",t.displayDialog)("modal",!0)("draggable",!0)("blockScroll",!0),l.Eb(1),l.oc("formGroup",t.arrangementRulesForm),l.Eb(1),l.oc("ngIf",t.ayaraRules),l.Eb(3),l.oc("disabled",!t.arrangementRulesForm.valid),l.Eb(9),l.Nc("Error"),l.Eb(4),l.oc("ngIf",5==t.showMsg),l.Eb(1),l.oc("ngIf",6==t.showMsg),l.Eb(1),l.oc("ngIf",7==t.showMsg))},directives:[E.a,v.o,y.j,o.f,Dd,M.a,n.v,n.l,n.m,n.b,S.a,n.k,n.n,R.a,o.b,C.b,n.g,D.a,k.b,k.c,n.a,v.p,v.n,y.g,y.i,n.e,w.a],pipes:[v.f,O.a],encapsulation:2}),e})();class mu{constructor(e,t,i,a,n,o,r,l,s,c){this.ruleId=e,this.ruleName=t,this.ruleType=i,this.ruleBasis=a,this.ruleAdjType=n,this.ruleAdjValue=o,this.ruleApplyLevel=r,this.ruleStartDate=l,this.ruleEndDate=s,this.enabledFlag=c}}const fu=[{path:"",component:Hr},{path:"rmanRulesHeader",component:Jo},{path:"rmanContHeader",component:fe},{path:"rmanContTemplate",component:it},{path:"rmanFcBuckets",component:Si},{path:"rmanFiscalPeriods",component:Va},{path:"rmanPobMappings",component:kn},{path:"rmanConversionRates",component:Xt},{path:"rmanApprovalRules",component:Lr},{path:"rmanDealAssignment",component:yl},{path:"rmanImputedCostRules",component:xs},{path:"ayaraOpportunities",component:Mc},{path:"amendmentRules",component:Gc},{path:"ayaraRules",component:hu}];let Vu=(()=>{class e{}return e.\u0275mod=l.Nb({type:e}),e.\u0275inj=l.Mb({factory:function(t){return new(t||e)},providers:[u.a,Kr,o.a,Ml.a,An.a],imports:[[Br.a,a.k.forChild(fu)]]}),e})()}}]);