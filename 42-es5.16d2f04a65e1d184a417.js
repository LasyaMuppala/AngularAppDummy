!function(){function e(e,o){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,o){if(!e)return;if("string"==typeof e)return t(e,o);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,o)}(e))||o&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,l=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw l}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"Kv+q":function(t,n,a){"use strict";a.r(n),a.d(n,"OperationalReportsModule",(function(){return vl}));var l,r=a("tyNb"),s=a("JSOo"),c=a("J7oY"),d=a("tk/3"),u=a("fXoL"),h=a("ofXK"),g=a("+yMW"),b={headers:new d.f({"Content-Type":"application/json"})},p=((l=function(){function e(t,n){o(this,e),this.http=t,this.datePipe=n}return i(e,[{key:"getServiceUrl",value:function(e,t,o,n,i){var a=g.apiUrl+"/rmanArrgSummaryReportVExport?";0==o&&(a=g.apiUrl+"/rmanArrgSummaryReportVSearch?");var l="";return null!=t.dealArrangementId&&""!=t.dealArrangementId&&(l=l+"dealArrangementId:"+t.dealArrangementId+","),null!=t.dealArrangementNumber&&""!=t.dealArrangementNumber&&(l=l+"dealArrangementNumber:"+t.dealArrangementNumber+","),null!=t.dealArrangementName&&""!=t.dealArrangementName&&(l=l+"dealArrangementName:"+t.dealArrangementName+","),null!=t.dealArrangementStatus&&""!=t.dealArrangementStatus&&(l=l+"dealArrangementStatus:"+t.dealArrangementStatus+","),null!=t.legalEntityName&&""!=t.legalEntityName&&(l=l+"legalEntityName:"+t.legalEntityName+","),null!=t.dealArrangementSource&&""!=t.dealArrangementSource&&(l=l+"dealArrangementSource:"+t.dealArrangementSource+","),null!=t.customerPoNum&&""!=t.customerPoNum&&(l=l+"customerPoNum:"+t.customerPoNum+","),null!=t.bookingCurrency&&""!=t.bookingCurrency&&(l=l+"bookingCurrency:"+t.bookingCurrency+","),null!=t.shipToCustomer&&""!=t.shipToCustomer&&(l=l+"shipToCustomer:"+t.shipToCustomer+","),null!=t.shipToCustomerNumber&&""!=t.shipToCustomerNumber&&(l=l+"shipToCustomerNumber:"+t.shipToCustomerNumber+","),null!=t.billToCustomer&&""!=t.billToCustomer&&(l=l+"billToCustomer:"+t.billToCustomer+","),null!=t.billToCustomerNumber&&""!=t.billToCustomerNumber&&(l=l+"billToCustomerNumber:"+t.billToCustomerNumber+","),null!=t.salesTheater&&""!=t.salesTheater&&(l=l+"salesTheater:"+t.salesTheater+","),null!=t.salesRegion&&""!=t.salesRegion&&(l=l+"salesRegion:"+t.salesRegion+","),null!=t.salesTerritory&&""!=t.salesTerritory&&(l=l+"salesTerritory:"+t.salesTerritory+","),null!=t.bookedAmount&&""!=t.bookedAmount&&(l=l+"bookedAmount:"+t.bookedAmount+","),null!=t.sspAmount&&""!=t.sspAmount&&(l=l+"sspAmount:"+t.sspAmount+","),null!=t.allocationAmount&&""!=t.allocationAmount&&(l=l+"allocationAmount:"+t.allocationAmount+","),null!=t.carveInOutAmount&&""!=t.carveInOutAmount&&(l=l+"carveInOutAmount:"+t.carveInOutAmount+","),null!=t.deliveredAmount&&""!=t.deliveredAmount&&(l=l+"deliveredAmount:"+t.deliveredAmount+","),null!=t.billedAmount&&""!=t.billedAmount&&(l=l+"billedAmount:"+t.billedAmount+","),null!=t.deliveredAllocationAmount&&""!=t.deliveredAllocationAmount&&(l=l+"deliveredAllocationAmount:"+t.deliveredAllocationAmount+","),null!=t.postBillingDeferrals&&""!=t.postBillingDeferrals&&(l=l+"postBillingDeferrals:"+t.postBillingDeferrals+","),null!=t.postBillingAllocationAmount&&""!=t.postBillingAllocationAmount&&(l=l+"postBillingAllocationAmount:"+t.postBillingAllocationAmount+","),null!=t.revBegBal&&""!=t.revBegBal&&(l=l+"revBegBal:"+t.revBegBal+","),null!=t.revCurrBal&&""!=t.revCurrBal&&(l=l+"revCurrBal:"+t.revCurrBal+","),null!=t.revEndBal&&""!=t.revEndBal&&(l=l+"revEndBal:"+t.revEndBal+","),null!=t.unamortizedAmount&&""!=t.unamortizedAmount&&(l=l+"unamortizedAmount:"+t.unamortizedAmount+","),null!=t.revenueUnbilled&&""!=t.revenueUnbilled&&(l=l+"revenueUnbilled:"+t.revenueUnbilled+","),null!=t.allocationAmountFc&&""!=t.allocationAmountFc&&(l=l+"allocationAmountFc:"+t.allocationAmountFc+","),null!=t.deliveredAllocationAmountFc&&""!=t.deliveredAllocationAmountFc&&(l=l+"deliveredAllocationAmountFc:"+t.deliveredAllocationAmountFc+","),null!=t.postBillingDeferralsFc&&""!=t.postBillingDeferralsFc&&(l=l+"postBillingDeferralsFc:"+t.postBillingDeferralsFc+","),null!=t.pbAllocationAmountFc&&""!=t.pbAllocationAmountFc&&(l=l+"pbAllocationAmountFc:"+t.pbAllocationAmountFc+","),null!=t.revBegBalFc&&""!=t.revBegBalFc&&(l=l+"revBegBalFc:"+t.revBegBalFc+","),null!=t.revCurrBalFc&&""!=t.revCurrBalFc&&(l=l+"revCurrBalFc:"+t.revCurrBalFc+","),null!=t.revEndBalFc&&""!=t.revEndBalFc&&(l=l+"revEndBalFc:"+t.revEndBalFc+","),null!=t.unamortizedAmountFc&&""!=t.unamortizedAmountFc&&(l=l+"unamortizedAmountFc:"+t.unamortizedAmountFc+","),null!=t.totalCostFc&&""!=t.totalCostFc&&(l=l+"totalCostFc:"+t.totalCostFc+","),null!=t.grossMarginFc&&""!=t.grossMarginFc&&(l=l+"grossMarginFc:"+t.grossMarginFc),null!=n.fromPeriod&&null!=n.fromPeriod&&(l=l+"lastArrgModifiedDate>"+this.datePipe.transform(n.fromPeriod,"yyyyMMdd")+","),null!=n.toPeriod&&null!=n.toPeriod&&(l=l+"lastArrgModifiedDate<"+this.datePipe.transform(n.toPeriod,"yyyyMMdd")+","),null!=n.fromArrgId&&null!=n.fromArrgId&&(l=l+"dealArrangementId>"+n.fromArrgId+","),null!=n.toArrgId&&null!=n.toArrgId&&(l=l+"dealArrangementId<"+n.toArrgId+","),null!=n.customerPoNum&&""!=n.customerPoNum&&(l=l+"customerPoNum:"+n.customerPoNum+","),null!=n.billToCustomer&&""!=n.billToCustomer&&(l=l+"billToCustomer:"+n.billToCustomer+","),null!=n.billToCustomerNumber&&""!=n.billToCustomerNumber&&(l=l+"billToCustomerNumber:"+n.billToCustomerNumber+","),null!=n.salesRegion&&""!=n.salesRegion&&(l=l+"salesRegion:"+n.salesRegion+","),null!=n.legalEntityName&&""!=n.legalEntityName&&(l=l+"legalEntityName:"+n.legalEntityName+","),null!=n.salesContract&&""!=n.salesContract&&(l=l+"salesContract:"+n.salesContract+","),""==l?a+="search=%25":a=a+"search="+l,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(a=a+"&page="+e.pageNumber+"&size="+e.pageSize),null!=i&&""!=i&&(a=a+"&exportCols="+i),a}},{key:"getAllRmanArrgSummaryReportV",value:function(e,t,o,n){var i=this.getServiceUrl(e,t,0,o,n);return this.http.get(i).toPromise().then((function(e){return e}))}},{key:"searchRmanArrgSummaryReportV",value:function(e){return this.http.get(g.apiUrl+"/RMAN_ARRG_SUMMARY_REPORT_V/search/findByDealArrangementIdAndDealArrangementNumberAndDealArrangementNameAndDealArrangementStatusAndLegalEntityNameAndDealArrangementSourceAndCustomerPoNumAndBookingCurrencyAndShipToCustomerAndShipToCustomerNumberAndBillToCustomerAndBillToCustomerNumberAndSalesTheaterAndSalesRegionAndSalesTerritoryAndBookedAmountAndSspAmountAndAllocationAmountAndCarveInOutAmountAndDeliveredAmountAndBilledAmountAndDeliveredAllocationAmountAndPostBillingDeferralsAndPostBillingAllocationAmountAndRevBegBalAndRevCurrBalAndRevEndBalAndUnamortizedAmountAndRevenueUnbilledAndAllocationAmountFcAndDeliveredAllocationAmountFcAndPostBillingDeferralsFcAndPbAllocationAmountFcAndRevBegBalFcAndRevCurrBalFcAndRevEndBalFcAndUnamortizedAmountFcAndTotalCostFcAndGrossMarginFc?dealArrangementId="+e.dealArrangementId+"&dealArrangementNumber="+e.dealArrangementNumber+"&dealArrangementName="+e.dealArrangementName+"&dealArrangementStatus="+e.dealArrangementStatus+"&legalEntityName="+e.legalEntityName+"&dealArrangementSource="+e.dealArrangementSource+"&customerPoNum="+e.customerPoNum+"&bookingCurrency="+e.bookingCurrency+"&shipToCustomer="+e.shipToCustomer+"&shipToCustomerNumber="+e.shipToCustomerNumber+"&billToCustomer="+e.billToCustomer+"&billToCustomerNumber="+e.billToCustomerNumber+"&salesTheater="+e.salesTheater+"&salesRegion="+e.salesRegion+"&salesTerritory="+e.salesTerritory+"&bookedAmount="+e.bookedAmount+"&sspAmount="+e.sspAmount+"&allocationAmount="+e.allocationAmount+"&carveInOutAmount="+e.carveInOutAmount+"&deliveredAmount="+e.deliveredAmount+"&billedAmount="+e.billedAmount+"&deliveredAllocationAmount="+e.deliveredAllocationAmount+"&postBillingDeferrals="+e.postBillingDeferrals+"&postBillingAllocationAmount="+e.postBillingAllocationAmount+"&revBegBal="+e.revBegBal+"&revCurrBal="+e.revCurrBal+"&revEndBal="+e.revEndBal+"&unamortizedAmount="+e.unamortizedAmount+"&revenueUnbilled="+e.revenueUnbilled+"&allocationAmountFc="+e.allocationAmountFc+"&deliveredAllocationAmountFc="+e.deliveredAllocationAmountFc+"&postBillingDeferralsFc="+e.postBillingDeferralsFc+"&pbAllocationAmountFc="+e.pbAllocationAmountFc+"&revBegBalFc="+e.revBegBalFc+"&revCurrBalFc="+e.revCurrBalFc+"&revEndBalFc="+e.revEndBalFc+"&unamortizedAmountFc="+e.unamortizedAmountFc+"&totalCostFc="+e.totalCostFc+"&grossMarginFc="+e.grossMarginFc).toPromise().then((function(e){return e}))}},{key:"saveRmanArrgSummaryReportV",value:function(e){var t=JSON.stringify(e);return this.http.post(g.apiUrl+"/RMAN_ARRG_SUMMARY_REPORT_V",t,b).toPromise().then((function(e){return e}))}},{key:"updateRmanArrgSummaryReportV",value:function(e){delete e._links,delete e.interests;var t=JSON.stringify(e);return this.http.put(g.apiUrl+"/RMAN_ARRG_SUMMARY_REPORT_V/"+e.dealArrangementId,t,b).toPromise().then((function(e){return e}))}},{key:"deleteRmanArrgSummaryReportV",value:function(e){return this.http.delete(g.apiUrl+"/RMAN_ARRG_SUMMARY_REPORT_V/"+e.dealArrangementId,b).toPromise().then((function(e){return e}))}},{key:"fetchRCNumbers",value:function(e){return this.http.get(g.apiUrl+"/fetchAllRC?rc="+e).toPromise().then((function(e){return e}))}}]),e}()).\u0275fac=function(e){return new(e||l)(u.Zb(d.b),u.Zb(h.f))},l.\u0275prov=u.Lb({token:l,factory:l.\u0275fac}),l),m=a("ElGL"),f=a("DBtk"),y=a("xJ9n"),v=a("/8oK"),C=a("7CaW"),A=a("7zfz"),S=a("rEr+"),M=a("/RsI"),R=a("3Pt+"),V=a("V5BG"),w=a("eO1q"),U=a("7kUa"),D=a("jIHw"),k=a("+07z"),N=a("TjhJ"),F=a("pqzn");function x(e,t){if(1&e){var o=u.Wb();u.Vb(0,"a",44),u.dc("click",(function(){return u.Dc(o),u.gc(2).exportExcel()})),u.Qb(1,"em",45),u.Ub()}}function E(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",58),u.dc("onDragStart",(function(){u.Dc(o);var e=u.gc().index;return u.gc(3).onDragStart(e)}))("onDrop",(function(){u.Dc(o);var e=u.gc().index;return u.gc(3).onDrop(e)})),u.Vb(2,"div",59),u.Vb(3,"input",60),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(3).selectColumns(e)})),u.Ub(),u.Vb(4,"label"),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField),u.Eb(2),u.Nc(n.header)}}var T=function(){return{color:"grey"}};function L(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",61),u.Vb(2,"div"),u.Vb(3,"input",62),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(3).selectColumns(e)})),u.Ub(),u.Vb(4,"label",63),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField)("disabled",!n.drag),u.Eb(1),u.oc("ngStyle",u.rc(5,T)),u.Eb(1),u.Nc(n.header)}}function P(e,t){if(1&e&&(u.Kc(0,E,6,3,"div",57),u.Kc(1,L,6,6,"div",57)),2&e){var o=t.$implicit;u.oc("ngIf",o.drag),u.Eb(1),u.oc("ngIf",!o.drag)}}var O=function(){return{width:"100%",height:"100%"}};function I(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",46),u.Vb(1,"div",47),u.Vb(2,"div",48),u.Vb(3,"input",49),u.dc("click",(function(){return u.Dc(o),u.gc(2).onSelectAll()})),u.Ub(),u.Vb(4,"label",50),u.Mc(5,"Select All"),u.Ub(),u.Vb(6,"a",51),u.dc("click",(function(e){return u.Dc(o),u.gc(2).closeConfigureColumns(e)})),u.Mc(7,"\xd7"),u.Ub(),u.Vb(8,"p-listbox",52),u.Kc(9,P,2,2,"ng-template",53),u.Ub(),u.Ub(),u.Vb(10,"div",54),u.Vb(11,"a",55),u.dc("click",(function(){return u.Dc(o),u.gc(2).saveColumns()})),u.Mc(12,"Save"),u.Ub(),u.Vb(13,"a",56),u.dc("click",(function(e){return u.Dc(o),u.gc(2).closeConfigureColumns(e)})),u.Mc(14,"Cancel"),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc(2);u.Eb(3),u.oc("checked",n.isSelectAllChecked),u.Eb(5),u.Ic(u.rc(4,O)),u.oc("options",n.globalCols)}}function B(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",34),u.Vb(1,"a",35),u.dc("click",(function(){return u.Dc(o),u.gc().goToOperationReports()})),u.Qb(2,"em",36),u.Mc(3,"Back"),u.Ub(),u.Vb(4,"a",35),u.dc("click",(function(e){return u.Dc(o),u.gc().onConfiguringColumns(e)})),u.Qb(5,"em",37),u.Mc(6,"Columns"),u.Ub(),u.Vb(7,"a",38),u.dc("click",(function(){return u.Dc(o),u.gc().showDialogToSearch()})),u.Qb(8,"em",39),u.Ub(),u.Vb(9,"a",40),u.dc("click",(function(){u.Dc(o);var e=u.gc(),t=u.Bc(11);return e.reset(t)})),u.Qb(10,"em",41),u.Ub(),u.Kc(11,x,2,0,"a",42),u.Kc(12,I,15,5,"div",43),u.Ub()}if(2&e){var n=u.gc();u.Eb(11),u.oc("ngIf",!n.disableExport),u.Eb(1),u.oc("ngIf",!n.showAddColumns)}}function z(e,t){1&e&&u.Qb(0,"col")}function Q(e,t){if(1&e&&(u.Vb(0,"colgroup"),u.Kc(1,z,1,0,"col",64),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngForOf",o)}}var K=function(e){return{display:e}};function _(e,t){if(1&e&&(u.Vb(0,"th",67),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit;u.pc("title",o.header),u.oc("ngStyle",u.sc(3,K,o.display)),u.Eb(1),u.Nc(o.header)}}function q(e,t){if(1&e&&(u.Vb(0,"th",68),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit;u.pc("title",o.header),u.oc("ngStyle",u.sc(3,K,o.display)),u.Eb(1),u.Nc(o.header)}}function W(e,t){if(1&e&&(u.Tb(0),u.Kc(1,_,2,5,"th",65),u.Kc(2,q,2,5,"th",66),u.Sb()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngIf","text"==o.type||"date"==o.type),u.Eb(1),u.oc("ngIf","number"==o.type||"round"==o.type||"link"==o.type)}}function j(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,W,3,2,"ng-container",64),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngForOf",o.columns)}}function J(e,t){if(1&e&&(u.Vb(0,"td",72),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",n[o.field]),u.oc("ngStyle",u.sc(3,K,o.display)),u.Eb(1),u.Oc(" ",n[o.field]," ")}}function H(e,t){if(1&e&&(u.Vb(0,"td",73),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",n[o.field]),u.oc("ngStyle",u.sc(3,K,o.display)),u.Eb(1),u.Oc(" ",n[o.field]," ")}}function G(e,t){if(1&e&&(u.Vb(0,"td",72),u.hc(1,"date"),u.Mc(2),u.hc(3,"date"),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",u.jc(1,3,n[o.field],"MM/dd/yyyy")),u.oc("ngStyle",u.sc(9,K,o.display)),u.Eb(2),u.Oc(" ",u.jc(3,6,n[o.field],"MM/dd/yyyy")," ")}}function Y(e,t){if(1&e&&(u.Vb(0,"td",73),u.hc(1,"round"),u.Mc(2),u.hc(3,"round"),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",u.ic(1,3,n[o.field])),u.oc("ngStyle",u.sc(7,K,o.display)),u.Eb(2),u.Oc(" ",u.ic(3,5,n[o.field])," ")}}function Z(e,t){if(1&e&&(u.Tb(0),u.Kc(1,J,2,5,"td",70),u.Kc(2,H,2,5,"td",71),u.Kc(3,G,4,11,"td",70),u.Kc(4,Y,4,9,"td",71),u.Sb()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngIf","text"==o.type),u.Eb(1),u.oc("ngIf","number"==o.type),u.Eb(1),u.oc("ngIf","date"==o.type),u.Eb(1),u.oc("ngIf","round"==o.type)}}function X(e,t){if(1&e&&(u.Vb(0,"tr",69),u.Kc(1,Z,5,4,"ng-container",64),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.oc("pSelectableRow",o),u.Eb(1),u.oc("ngForOf",n.columns)}}function ee(e,t){if(1&e&&(u.Vb(0,"tr"),u.Vb(1,"td",74),u.Mc(2),u.Ub(),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.Eb(1),u.Fb("colspan",o.length),u.Eb(1),u.Nc(n.noData)}}var te,oe,ne=function(){return{standalone:!0}},ie=((te=function(){function e(t,n,i,a,l,r,s,c){var d=this;o(this,e),this.rmanArrgSummaryReportVService=t,this.location=n,this.commonSharedService=i,this.notificationService=a,this.rmanCustomersService=l,this.rmanLookupCodesService=r,this.rmanLegalEntitiesService=s,this.rmanFiscalPeriodsService=c,this.rmanArrgSummaryReportV=new ae,this.rmanArrgSummaryReportVSearch=new ae,this.isSerached=0,this.searchFields={},this.collapsed=!0,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.exportCols=[],this.disableExport=!0,this.customerNames=[],this.customerNumbers=[],this.regions=[],this.legalEntities=[],this.dealArrangementNumbers=[],this.currentPeriod={},this.paginationOptions={pageNumber:0,pageSize:"10000"},this.rmanFiscalPeriodsService.getCurrentfiscalperiod().then((function(e){d.currentPeriod=e}))}return i(e,[{key:"ngOnInit",value:function(){this.globalCols=[{field:"dealArrangementNumber",header:"Revenue Contract Number",showField:!0,display:"table-cell",type:"number",drag:!1},{field:"dealArrangementBasis",header:"Revenue Contract Basis",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"dealArrangementStatus",header:"Status",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"lastArrgModifiedDate",header:"Revenue Contract Modified Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"legalEntityName",header:"Billing Company",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"dealArrangementSource",header:"Revenue Contract Source",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"salesContact",header:"Sales Rep",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"customerPoNum",header:"PO Number",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"bookingCurrency",header:"Currency",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"billToCustomer",header:"Customer Name",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"billToCustomerNumber",header:"Customer Number",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"salesTheater",header:"Sales Theater",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"salesRegion",header:"Billing Region",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"salesTerritory",header:"Sales Territory",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"bookedAmount",header:"Booked Amount (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"sspAmount",header:"Extended SSP Amount (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"allocationAmount",header:"Allocation Amount (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"carveInOutAmount",header:"Carve In/Carve Out Amount (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"deliveredAmount",header:"Delivered Amount (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"billedAmount",header:"Invoice Amount (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"deliveredAllocationAmount",header:"Delivered Allocation Amount (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"postBillingDeferrals",header:"Post Billing Deferrals (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"postBillingAllocationAmount",header:"Post Billing Allocation Amount (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"revBegBal",header:"Revenue Beginning Balance (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"revCurrBal",header:"Revenue Current Balance (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"revEndBal",header:"Revenue Ending Balance (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"unamortizedAmount",header:"Unamortized Amount (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"allocationAmountFc",header:"Allocation Amount (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"deliveredAllocationAmountFc",header:"Delivered Allocation Amount (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"postBillingDeferralsFc",header:"Post Billing Deferrals (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"pbAllocationAmountFc",header:"Post Billing Allocation Amount (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"revBegBalFc",header:"Revenue Beginning Balance (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"revCurrBalFc",header:"Revenue Current Balance (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"revEndBalFc",header:"Revenue Ending Balance (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"unamortizedAmountFc",header:"Unamortized Amount (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"totalCostFc",header:"Total Cost (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"grossMarginFc",header:"Gross Margin (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"contractAsset",header:"Contract Asset (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"contractLiability",header:"Contract Liability (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"deferredRevenue",header:"Deferred Revenue Amount (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"clearing",header:"Invoice Revenue (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"contractAssetFc",header:"Contract Asset (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"contractLiabilityFc",header:"Contract Liability (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"deferredRevenueFc",header:"Deferred Revenue (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"clearingFc",header:"Invoice Revenue (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"salesContract",header:"Sales Contract Number",showField:!0,display:"table-cell",type:"text",drag:!0}],this.columns=[],this.getTableColumns("rmanArrgSummaryReportV","Revenue Contract Summary Report")}},{key:"getTableColumns",value:function(e,t){var o=this;this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then((function(e){if(e&&null!=e&&e.userId){o.columns=[];var t=e.tableColumns.split(",");t.length>0&&t.forEach((function(e,t){e&&(o.startIndex=o.globalCols.findIndex((function(t){return t.field==e})),o.onDrop(t))})),o.globalCols.forEach((function(t){-1!==e.tableColumns.indexOf(t.field)?o.columns.push(t):t.showField=!1})),o.columns.length!=o.globalCols.length&&(o.isSelectAllChecked=!1),o.showPaginator=0!==o.columns.length,o.userId=e.userId}else o.columns=o.globalCols})).catch((function(){o.notificationService.showError("Error occured while getting table columns data"),o.loading=!1}))}},{key:"saveColumns",value:function(){var e=this,t="";this.showAddColumns=!this.showAddColumns;var o=this.globalCols.length-1;this.globalCols.forEach((function(e,n){e.showField&&(t+=e.field,n<o&&(t+=","))})),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("rmanArrgSummaryReportV","Revenue Contract Summary Report",t,this.userId).then((function(t){e.columns=e.globalCols.filter((function(e){return e.showField})),e.userId=t.userId,e.showPaginator=0!==e.columns.length,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"onDragStart",value:function(e){this.startIndex=e}},{key:"onDrop",value:function(e){var t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}},{key:"selectColumns",value:function(e){var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"onConfiguringColumns",value:function(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}},{key:"closeConfigureColumns",value:function(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"goToOperationReports",value:function(){this.location.back()}},{key:"reset",value:function(e){this.paginationOptions={},this.searchFields={},e.reset()}},{key:"getAllRmanArrgSummaryReportV",value:function(){var e=this;this.loading=!0,this.rmanArrgSummaryReportVService.getAllRmanArrgSummaryReportV(this.paginationOptions,this.rmanArrgSummaryReportV,this.searchFields,this.exportCols).then((function(t){e.datasource=t.content,e.rmanArrgSummaryReportVList=t.content,e.totalElements=t.totalElements,e.pageSize=t.size,e.loading=!1,e.disableExport=!1,e.displaySearchDialog=!1}))}},{key:"searchCustomerNames",value:function(e){var t=this;this.rmanCustomersService.getAllRmanCustomers(this.paginationOptions,{customerName:e.query},!1).then((function(e){t.customerNames=e.content.map((function(e){return e.customerName}))})).catch((function(e){t.customerNames=[]}))}},{key:"searchCustomerNumbers",value:function(e){var t=this;this.rmanCustomersService.getAllRmanCustomers(this.paginationOptions,{customerNumber:e.query},!1).then((function(e){t.customerNumbers=e.content.map((function(e){return e.customerNumber}))})).catch((function(e){t.customerNumbers=[]}))}},{key:"searchRegions",value:function(e){var t=this;this.rmanLookupCodesService.getAllRmanLookupCodes(this.paginationOptions,{lookupTypeCode:"REGIONS",enabledFlag:"Y",lookupCode:e.query}).then((function(e){t.regions=e.content.map((function(e){return e.lookupCode}))})).catch((function(e){t.regions=[]}))}},{key:"searchLegalEntities",value:function(e){var t=this;this.rmanLegalEntitiesService.getAllRmanLegalEntities(this.paginationOptions,{name:e.query}).then((function(e){t.legalEntities=e.content.map((function(e){return e.name}))})).catch((function(e){t.legalEntities=[]}))}},{key:"searchRCList",value:function(e){var t=this;this.rmanArrgSummaryReportVService.fetchRCNumbers(e.query).then((function(e){t.dealArrangementNumbers=e.map((function(e){return e}))})).catch((function(e){t.dealArrangementNumbers=[]}))}},{key:"getRmanArrgSummaryReportV",value:function(e){var t=this;this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.rmanArrgSummaryReportVService.getAllRmanArrgSummaryReportV(this.paginationOptions,this.rmanArrgSummaryReportV,this.searchFields,this.exportCols).then((function(e){t.datasource=e.content,t.rmanArrgSummaryReportVList=e.content,t.totalElements=e.totalElements,t.pageSize=e.size,t.loading=!1,t.disableExport=!1}))}},{key:"exportExcel",value:function(){this.exportCols=[],this.loading=!0;for(var e=0;e<this.columns.length;e++)this.columns[e].showField&&this.exportCols.push(this.columns[e].field);var t=this.rmanArrgSummaryReportVService.getServiceUrl(this.paginationOptions,this.rmanArrgSummaryReportV,1,this.searchFields,this.exportCols);this.loading=!1,window.location.href=t}},{key:"findSelectedRmanArrgSummaryReportVIndex",value:function(){return this.rmanArrgSummaryReportVList.indexOf(this.selectedRmanArrgSummaryReportV)}},{key:"onRowSelect",value:function(e){}},{key:"showDialogToSearch",value:function(){0==this.isSerached&&(this.rmanArrgSummaryReportVSearch=new ae),this.displaySearchDialog=!0,0==this.isSerached&&(this.searchFields.fromPeriod=new Date(this.currentPeriod.startDate),this.searchFields.toPeriod=new Date(this.currentPeriod.endDate))}},{key:"search",value:function(){this.isSerached=1,this.paginationOptions={},this.rmanArrgSummaryReportV=this.rmanArrgSummaryReportVSearch,this.getAllRmanArrgSummaryReportV(),this.displaySearchDialog=!1}},{key:"onBeforeToggle",value:function(e){this.collapsed=e.collapsed}}]),e}()).\u0275fac=function(e){return new(e||te)(u.Pb(p),u.Pb(h.k),u.Pb(s.a),u.Pb(c.a),u.Pb(m.a),u.Pb(f.a),u.Pb(y.a),u.Pb(v.a))},te.\u0275cmp=u.Jb({type:te,selectors:[["rmanArrgSummaryReportV-data"]],features:[u.Db([p,m.a,f.a,y.a,v.a])],decls:71,vars:56,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["header","Consolidated Arrangements Summary Report",3,"toggleable","onBeforeToggle"],["class","pull-right icons-list",4,"ngIf"],[1,"x-scroll"],["id","arrgSummary-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","paginator","lazy","rows","totalRecords","columns","resizableColumns","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Search","width","800","showEffect","fade",3,"visible","draggable","modal","visibleChange"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","RC Number Type atleast 3 Characters","id","from",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],[1,"ui-g-6","pull-right"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","RC Number Type atleast 3 Characters","id","to",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["showAnim","slideDown","inputStyleClass","textbox","name","fromPeriod","id","fromPeriod","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","From Period",3,"monthNavigator","yearNavigator","ngModelOptions","ngModel","ngModelChange"],["showAnim","slideDown","name","toPeriod","inputStyleClass","textbox","id","toPeriod","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","To Period",3,"monthNavigator","yearNavigator","ngModelOptions","ngModel","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Customer Name Type atleast 3 Characters","id","billToCustomer",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Customer Number Type atleast 3 Characters","id","billToCustomerNumber",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Billing Region Type atleast 2 Characters","id","salesRegion",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Billing Company Type atleast 2 Characters","id","legalEntityName",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["pInputText","","name","salesContract","id","salesContract","placeholder","Sales Contract Number",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-reply"],[1,"fa","fa-cog"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Export",3,"click",4,"ngIf"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-data"]],template:function(e,t){1&e&&(u.Qb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"div",5),u.Vb(6,"p-panel",6),u.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),u.Vb(7,"p-header"),u.Kc(8,B,13,2,"div",7),u.Ub(),u.Vb(9,"div",8),u.Vb(10,"p-table",9,10),u.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getRmanArrgSummaryReportV(e)})),u.Kc(12,Q,2,1,"ng-template",11),u.Kc(13,j,2,1,"ng-template",12),u.Kc(14,X,2,2,"ng-template",13),u.Kc(15,ee,3,2,"ng-template",14),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(16,"p-dialog",15),u.dc("visibleChange",(function(e){return t.displaySearchDialog=e})),u.Vb(17,"form"),u.Vb(18,"div",16),u.Vb(19,"div",17),u.Vb(20,"div",18),u.Vb(21,"span",19),u.Vb(22,"span",20),u.Mc(23,"Revenue Contract Number From"),u.Ub(),u.Vb(24,"p-autoComplete",21),u.dc("completeMethod",(function(e){return t.searchRCList(e)}))("ngModelChange",(function(e){return t.searchFields.fromArrgId=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(25,"div",22),u.Vb(26,"span",19),u.Vb(27,"span",20),u.Mc(28,"Revenue Contract Number To"),u.Ub(),u.Vb(29,"p-autoComplete",23),u.dc("completeMethod",(function(e){return t.searchRCList(e)}))("ngModelChange",(function(e){return t.searchFields.toArrgId=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(30,"div",17),u.Vb(31,"div",18),u.Vb(32,"span",20),u.Mc(33,"From Period"),u.Ub(),u.Vb(34,"p-calendar",24),u.dc("ngModelChange",(function(e){return t.searchFields.fromPeriod=e})),u.Ub(),u.Ub(),u.Vb(35,"div",22),u.Vb(36,"span",20),u.Mc(37,"To Period"),u.Ub(),u.Vb(38,"p-calendar",25),u.dc("ngModelChange",(function(e){return t.searchFields.toPeriod=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(39,"div",17),u.Vb(40,"div",18),u.Vb(41,"span",19),u.Vb(42,"span",20),u.Mc(43,"Customer Name"),u.Ub(),u.Vb(44,"p-autoComplete",26),u.dc("completeMethod",(function(e){return t.searchCustomerNames(e)}))("ngModelChange",(function(e){return t.searchFields.billToCustomer=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(45,"div",22),u.Vb(46,"span",19),u.Vb(47,"span",20),u.Mc(48,"Customer Number"),u.Ub(),u.Vb(49,"p-autoComplete",27),u.dc("completeMethod",(function(e){return t.searchCustomerNumbers(e)}))("ngModelChange",(function(e){return t.searchFields.billToCustomerNumber=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(50,"div",17),u.Vb(51,"div",18),u.Vb(52,"span",19),u.Vb(53,"span",20),u.Mc(54,"Billing Region"),u.Ub(),u.Vb(55,"p-autoComplete",28),u.dc("completeMethod",(function(e){return t.searchRegions(e)}))("ngModelChange",(function(e){return t.searchFields.salesRegion=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(56,"div",22),u.Vb(57,"span",19),u.Vb(58,"span",20),u.Mc(59,"Billing Company"),u.Ub(),u.Vb(60,"p-autoComplete",29),u.dc("completeMethod",(function(e){return t.searchLegalEntities(e)}))("ngModelChange",(function(e){return t.searchFields.legalEntityName=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(61,"div",17),u.Vb(62,"div",18),u.Vb(63,"span",19),u.Vb(64,"span",20),u.Mc(65,"Sales Contract Number"),u.Ub(),u.Vb(66,"input",30),u.dc("ngModelChange",(function(e){return t.searchFields.salesContract=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(67,"p-footer"),u.Vb(68,"div",31),u.Vb(69,"button",32),u.dc("click",(function(){return t.search()})),u.Ub(),u.Vb(70,"button",33),u.dc("click",(function(){return t.displaySearchDialog=!1})),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&e&&(u.Eb(6),u.oc("toggleable",!1),u.Eb(2),u.oc("ngIf",t.collapsed),u.Eb(2),u.oc("loading",t.loading)("value",t.rmanArrgSummaryReportVList)("paginator",t.showPaginator)("lazy",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("columns",t.columns)("resizableColumns",!0),u.Eb(6),u.oc("visible",t.displaySearchDialog)("draggable",!0)("modal",!0),u.Eb(8),u.oc("suggestions",t.dealArrangementNumbers)("minLength",3)("ngModelOptions",u.rc(47,ne))("ngModel",t.searchFields.fromArrgId),u.Eb(5),u.oc("suggestions",t.dealArrangementNumbers)("minLength",3)("ngModelOptions",u.rc(48,ne))("ngModel",t.searchFields.toArrgId),u.Eb(5),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModelOptions",u.rc(49,ne))("ngModel",t.searchFields.fromPeriod),u.Eb(4),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModelOptions",u.rc(50,ne))("ngModel",t.searchFields.toPeriod),u.Eb(6),u.oc("suggestions",t.customerNames)("minLength",3)("ngModelOptions",u.rc(51,ne))("ngModel",t.searchFields.billToCustomer),u.Eb(5),u.oc("suggestions",t.customerNumbers)("minLength",3)("ngModelOptions",u.rc(52,ne))("ngModel",t.searchFields.billToCustomerNumber),u.Eb(6),u.oc("suggestions",t.regions)("minLength",2)("ngModelOptions",u.rc(53,ne))("ngModel",t.searchFields.salesRegion),u.Eb(5),u.oc("suggestions",t.legalEntities)("minLength",2)("ngModelOptions",u.rc(54,ne))("ngModel",t.searchFields.legalEntityName),u.Eb(6),u.oc("ngModelOptions",u.rc(55,ne))("ngModel",t.searchFields.salesContract))},directives:[C.a,A.c,h.o,S.j,A.f,M.a,R.v,R.l,R.m,V.a,R.k,R.n,w.a,R.b,U.a,A.b,D.b,k.a,N.b,N.c,R.a,h.p,h.n,S.g,S.i],pipes:[h.f,F.a],encapsulation:2}),te),ae=function e(t,n,i,a,l,r,s,c,d,u,h,g,b,p,m,f,y,v,C,A,S,M,R,V,w,U,D,k,N,F,x,E,T,L,P,O,I,B,z,Q,$,K,_,q,W,j,J){o(this,e),this.dealArrangementNumber=t,this.revEndBal=n,this.postBillingDeferrals=i,this.revenueUnbilled=a,this.pbAllocationAmountFc=l,this.deliveredAllocationAmount=r,this.revCurrBal=s,this.revBegBalFc=c,this.salesTheater=d,this.salesTerritory=u,this.dealArrangementName=h,this.allocationAmount=g,this.billToCustomerNumber=b,this.unamortizedAmount=p,this.revCurrBalFc=m,this.salesRegion=f,this.shipToCustomerNumber=y,this.carveInOutAmount=v,this.billToCustomer=C,this.sspAmount=A,this.revBegBal=S,this.bookedAmount=M,this.postBillingDeferralsFc=R,this.shipToCustomer=V,this.dealArrangementSource=w,this.bookingCurrency=U,this.revEndBalFc=D,this.customerPoNum=k,this.dealArrangementId=N,this.billedAmount=F,this.allocationAmountFc=x,this.deliveredAllocationAmountFc=E,this.legalEntityName=T,this.grossMarginFc=L,this.postBillingAllocationAmount=P,this.unamortizedAmountFc=O,this.deliveredAmount=I,this.totalCostFc=B,this.dealArrangementStatus=z,this.contractAsset=Q,this.contractLiability=$,this.deferredRevenue=K,this.clearing=_,this.contractAssetFc=q,this.contractLiabilityFc=W,this.deferredRevenueFc=j,this.clearingFc=J},le=a("+yMW"),re=((oe=function(){function e(t){o(this,e),this.http=t}return i(e,[{key:"getAllRmanArrgWaterfallReportV",value:function(e,t){var o=le.apiUrl+"/rmanArrgWaterfallReportNvSearch?";return o+="search=%25",this.http.get(o).toPromise().then((function(e){return e}))}},{key:"getRmanWaterFallDetailsReport",value:function(e,t,o,n,i,a,l,r,s,c,d,u,h,g){return null==o&&(o=""),null==n&&(n=""),null==i&&(i=""),null==a&&(a=""),null==l&&(l=""),null==e&&(e=0),null==t&&(t=0),null==r&&(r=""),null==s&&(s=""),null==c&&(c=""),null==d&&(d=""),null==u&&(u=""),null==h&&(h=""),null==g&&(g=""),this.http.get(le.apiUrl+"/revmantra/wfr/?fromArrgId="+e+"&toArrgId="+t+"&fromPeriod="+o+"&toPeriod="+n+"&po="+i+"&so="+a+"&legalEntity="+l+"&customerName="+r+"&customerNumber="+s+"&region="+c+"&productFamily="+d+"&productLine="+u+"&assetId="+h+"&salesContract="+g).toPromise().then((function(e){return e}))}},{key:"getRmanWaterFallDetailsReportFile",value:function(e,t,o,n,i,a,l,r,s,c,d,u,h,g,b){null==o&&(o=""),null==n&&(n=""),null==a&&(a=""),null==i&&(i=""),null==l&&(l=""),null==e&&(e=0),null==t&&(t=0),null==r&&(r=""),null==s&&(s=""),null==c&&(c=""),null==d&&(d=""),null==u&&(u=""),null==h&&(h=""),null==g&&(g="");var p=le.apiUrl+"/exportWFReport?fromArrgId="+e+"&toArrgId="+t+"&fromPeriod="+o+"&toPeriod="+n+"&po="+i+"&so="+a+"&legalEntity="+l+"&customerName="+r+"&customerNumber="+s+"&region="+c+"&productFamily="+d+"&productLine="+u+"&assetId="+h+"&salesContract="+g;return null!=b&&""!=b&&(p=p+"&exportCols="+b),p}},{key:"fetchRCNumbers",value:function(e){return this.http.get(le.apiUrl+"/fetchAllRC?rc="+e).toPromise().then((function(e){return e}))}}]),e}()).\u0275fac=function(e){return new(e||oe)(u.Zb(d.b))},oe.\u0275prov=u.Lb({token:oe,factory:oe.\u0275fac}),oe),se=a("arFO");function ce(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",61),u.dc("onDragStart",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDragStart(e)}))("onDrop",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDrop(e)})),u.Vb(2,"div",62),u.Vb(3,"input",63),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label"),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField),u.Eb(2),u.Nc(n.header)}}var de=function(){return{color:"grey"}};function ue(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",64),u.Vb(2,"div"),u.Vb(3,"input",65),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label",66),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField)("disabled",!n.drag),u.Eb(1),u.oc("ngStyle",u.rc(5,de)),u.Eb(1),u.Nc(n.header)}}function he(e,t){if(1&e&&(u.Kc(0,ce,6,3,"div",60),u.Kc(1,ue,6,6,"div",60)),2&e){var o=t.$implicit;u.oc("ngIf",o.drag),u.Eb(1),u.oc("ngIf",!o.drag)}}var ge=function(){return{width:"100%",height:"100%"}};function be(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",49),u.Vb(1,"div",50),u.Vb(2,"div",51),u.Vb(3,"input",52),u.dc("click",(function(){return u.Dc(o),u.gc().onSelectAll()})),u.Ub(),u.Vb(4,"label",53),u.Mc(5,"Select All"),u.Ub(),u.Vb(6,"a",54),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(7,"\xd7"),u.Ub(),u.Vb(8,"p-listbox",55),u.Kc(9,he,2,2,"ng-template",56),u.Ub(),u.Ub(),u.Vb(10,"div",57),u.Vb(11,"a",58),u.dc("click",(function(){return u.Dc(o),u.gc().saveColumns()})),u.Mc(12,"Save"),u.Ub(),u.Vb(13,"a",59),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(14,"Cancel"),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc();u.Eb(3),u.oc("checked",n.isSelectAllChecked),u.Eb(5),u.Ic(u.rc(4,ge)),u.oc("options",n.globalCols)}}function pe(e,t){1&e&&u.Qb(0,"col")}function me(e,t){if(1&e&&(u.Vb(0,"colgroup"),u.Kc(1,pe,1,0,"col",67),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngForOf",o)}}var fe=function(e,t){return{display:e,"text-align":t}};function ye(e,t){if(1&e&&(u.Vb(0,"th",69),u.Mc(1),u.Ub()),2&e){var o=t.$implicit;u.oc("ngStyle",u.tc(2,fe,o.display,o.text)),u.Eb(1),u.Oc(" ",o.header," ")}}function ve(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,ye,2,5,"th",68),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngForOf",o.columns)}}function Ce(e,t){if(1&e&&(u.Vb(0,"td",72),u.Vb(1,"span",73),u.Mc(2),u.hc(3,"number"),u.Ub(),u.Ub()),2&e){var o=t.$implicit,n=u.gc().$implicit,i=u.gc();u.oc("ngStyle",u.tc(6,fe,o.display,o.text)),u.Eb(1),u.pc("title",n[o.field]),u.Eb(1),u.Nc("number"==i.fieldType(n[o.field])?u.jc(3,3,n[o.field],"1.2-2"):n[o.field])}}function Ae(e,t){if(1&e&&(u.Vb(0,"tr",70),u.Kc(1,Ce,4,9,"td",71),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.oc("pSelectableRow",o),u.Eb(1),u.oc("ngForOf",n.columns)}}function Se(e,t){if(1&e&&(u.Vb(0,"div",74),u.Vb(1,"p"),u.Mc(2),u.Ub(),u.Ub()),2&e){var o=u.gc();u.Eb(2),u.Nc(o.noData)}}var Me,Re,Ve=function(){return{standalone:!0}},we=a("+yMW"),Ue=((Me=function(){function e(t,n,i,a,l,r,s,c){var d=this;o(this,e),this.rmanArrgWaterfallReportVService=t,this.rmanFiscalPeriodsService=n,this.rmanLegalEntitiesService=i,this.location=a,this.commonSharedService=l,this.notificationService=r,this.rmanCustomersService=s,this.rmanLookupCodesService=c,this.columns=[],this.isSerached=0,this.selectedCustomer={},this.legalEntitiesList=[],this.fiscalPeriodsList=[],this.fromPeriodArray=[],this.entities=[],this.customers=[],this.currentPeriod={},this.noData=we.noData,this.collapsed=!1,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.exportCols=[],this.disableExport=!0,this.customerNames=[],this.customerNumbers=[],this.regions=[],this.legalEntities=[],this.productFamilies=[],this.productLines=[],this.dealArrangementNumbers=[],this.currentDate=new Date,this.globalCols=[],this.paginationOptions={pageNumber:0,pageSize:"10000"},this.rmanFiscalPeriodsService.getCurrentfiscalperiod().then((function(e){d.currentPeriod=e}))}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.rowCount=20,this.rmanLegalEntitiesService.getAllRmanLegalEntities(this.paginationOptions,{}).then((function(t){e.legalEntitiesList=t.content,e.getEntities()})),this.getAllRmanArrgWaterfallReportV2()}},{key:"getTableColumns",value:function(e,t){var o=this;this.isSelectAllChecked=!0;var n=["Jan-","Feb-","Mar-","Apr-","May-","Jun-","Jul-","Aug-","Sep-","Oct-","Nov-","Dec-"];this.commonSharedService.getConfiguredColDetails(e,t).then((function(e){if(e&&null!=e&&e.userId){o.columns=[];var t=e.tableColumns.split(",");t.length>0&&t.forEach((function(e,t){e&&(o.startIndex=o.globalCols.findIndex((function(t){return t.field==e})),o.onDrop(t))})),o.globalCols.forEach((function(t){-1!==e.tableColumns.indexOf(t.field)||1==o.checkIfStringStartsWith(t.field,n)?o.columns.push(t):t.showField=!1})),o.columns.length!=o.globalCols.length&&(o.isSelectAllChecked=!1),o.showPaginator=0!==o.columns.length,o.userId=e.userId}else o.columns=o.globalCols})).catch((function(){o.notificationService.showError("Error occured while getting table columns data"),o.loading=!1}))}},{key:"checkIfStringStartsWith",value:function(e,t){return t.some((function(t){return e.startsWith(t)}))}},{key:"saveColumns",value:function(){var e=this,t="";this.showAddColumns=!this.showAddColumns;var o=this.globalCols.length-1;this.globalCols.forEach((function(n,i){n.showField&&0==e.checkIfStringStartsWith(n.field,["Jan-","Feb-","Mar-","Apr-","May-","Jun-","Jul-","Aug-","Sep-","Oct-","Nov-","Dec-"])&&(t+=n.field,i<o&&(t+=","))})),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("rmanArrgWaterfallReportV","WaterFall Details Report",t,this.userId).then((function(t){e.columns=e.globalCols.filter((function(e){return e.showField})),e.userId=t.userId,e.showPaginator=0!==e.columns.length,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while saving"),e.loading=!1}))}},{key:"onDragStart",value:function(e){this.startIndex=e}},{key:"onDrop",value:function(e){var t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}},{key:"selectColumns",value:function(e){var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"onConfiguringColumns",value:function(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}},{key:"closeConfigureColumns",value:function(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"goToOperationReports",value:function(){this.location.back()}},{key:"buildPivot",value:function(){var e=$.pivotUtilities.aggregatorTemplates.sum,t=(0,$.pivotUtilities.numberFormat)({digitsAfterDecimal:2});$("#pivot").pivot(this.data,{rows:["dealArrangementNumber","dealName","dealLineNumber","orderNumber","sourceLineNumber"],cols:["seqNumber","glPeriodNew"],aggregator:e(t)(["glAmount"]),aggregatorName:"Sum",rendererName:"Table",hideTotals:!0}),$(".pvtTotal").hide(),$(".colTotal").hide(),$(".pvtTotalLabel").hide(),$(".pvtGrandTotal").hide()}},{key:"getAllRmanArrgWaterfallReportV",value:function(){var e=this;this.rmanArrgWaterfallReportVService.getAllRmanArrgWaterfallReportV(this.paginationOptions,{}).then((function(t){e.data=t.content,e.totalElements=t.totalElements,e.pageSize=t.size,e.buildPivot(),e.disableExport=!1}))}},{key:"onBeforeToggle",value:function(e){this.collapsed=e.collapsed}},{key:"paginate",value:function(e){this.loading=!0,this.arrgWaterFallRepList=this.arrgWaterFallList.slice(e.first,e.first+10),this.loading=!1}},{key:"onRowSelect",value:function(e){}},{key:"getAllRmanArrgWaterfallReportV2",value:function(){var e=this;this.globalCols=[],this.loading=!0,this.customerNumber=void 0===this.selectedCustomer.customerNumber?this.customerNumber:this.selectedCustomer.customerNumber,this.rmanArrgWaterfallReportVService.getRmanWaterFallDetailsReport(this.fromArrgId,this.toArrgId,this.fromPeriod,this.toPeriod,this.po,this.so,this.legalEntity,this.customerName,this.customerNumber,this.region,this.productFamily,this.productLine,this.assetId,this.salesContract).then((function(t){e.arrgWaterFallRepList=t.Content,e.arrgWaterFallList=t.Content;var o=e.arrgWaterFallRepList[0];for(var n in o)e.globalCols.push({field:n,header:n,style:{width:"100px","text-align":"right"},display:"table-cell",showField:!0,text:"right",drag:!0});for(var i=["NOTE","Cont Apply","Element Type","Customer","Arrangement Name","Legal Entity","Deal Name","Product Name","Product Line","Division","Product Family","Current Period","Delivered Date","Rev SDate","Rev EDate","Revenue Contract Name"],a=0;a<e.globalCols.length;a++)e.globalCols[a].text=-1==i.indexOf(e.globalCols[a].header)?"right":"left";e.totalRecords=e.arrgWaterFallRepList.length,e.loading=!1,e.columns=[],e.getTableColumns("rmanArrgWaterfallReportV","WaterFall Details Report")})).catch((function(t){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"showDialogToSearch",value:function(){this.fromArrgId=null,this.toArrgId=null,this.po="",this.so=null,this.legalEntity=null,this.region="",this.customerName="",this.customerNumber="",this.assetId="",this.productFamily="",this.productLine="",this.salesContract="",this.selectedCustomer={},this.displayDialog=!0,0==this.isSerached?(this.fromPeriod=this.currentPeriod.periodName,this.toPeriod=this.currentPeriod.periodName):(this.fromPeriod="",this.toPeriod="")}},{key:"searchPeriod",value:function(e){var t=this,o=[];this.rmanFiscalPeriodsService.getAllRmanFiscalPeriods(this.paginationOptions,{periodName:e.query}).then((function(e){t.fiscalPeriodsList=e.content,t.fiscalPeriodsList.forEach((function(e){o.push(e.periodName)})),t.fromPeriodArray=o}))}},{key:"exportCSVfile",value:function(){this.exportCols=[];for(var e=0;e<this.columns.length;e++)this.columns[e].showField&&this.exportCols.push(this.columns[e].header.replace(/[#$/()]/g,""));var t=this.rmanArrgWaterfallReportVService.getRmanWaterFallDetailsReportFile(this.fromArrgId,this.toArrgId,this.fromPeriod,this.toPeriod,this.po,this.so,this.legalEntity,this.customerName,this.customerNumber,this.region,this.productFamily,this.productLine,this.assetId,this.salesContract,this.exportCols);window.location.href=t}},{key:"getEntities",value:function(){var e=[{label:"--Select Entity Name--",value:null}];this.legalEntitiesList.forEach((function(t){e.push({label:t.name,value:t.legalEntityId})})),this.entities=e}},{key:"search",value:function(){this.isSerached=1,this.getAllRmanArrgWaterfallReportV2(),this.displayDialog=!1}},{key:"searchCustomerNames",value:function(e){var t=this;this.rmanCustomersService.getAllRmanCustomers(this.paginationOptions,{customerName:e.query},!1).then((function(e){t.customers=e.content})).catch((function(e){t.customers=[]}))}},{key:"searchCustomerNumbers",value:function(e){var t=this;this.rmanCustomersService.getAllRmanCustomers(this.paginationOptions,{customerNumber:e.query},!1).then((function(e){t.customerNumbers=e.content.map((function(e){return e.customerNumber}))})).catch((function(e){t.customerNumbers=[]}))}},{key:"searchRegions",value:function(e){var t=this;this.rmanLookupCodesService.getAllRmanLookupCodes(this.paginationOptions,{lookupTypeCode:"REGIONS",enabledFlag:"Y",lookupCode:e.query}).then((function(e){t.regions=e.content.map((function(e){return e.lookupCode}))})).catch((function(e){t.regions=[]}))}},{key:"searchLegalEntities",value:function(e){var t=this;this.rmanLegalEntitiesService.getAllRmanLegalEntities(this.paginationOptions,{name:e.query}).then((function(e){t.legalEntities=e.content.map((function(e){return e.name}))})).catch((function(e){t.legalEntities=[]}))}},{key:"searchProductFamilies",value:function(e){var t=this;this.rmanLookupCodesService.getAllRmanLookupCodes(this.paginationOptions,{lookupTypeCode:"PRODUCT_FAMILIES",enabledFlag:"Y",description:e.query}).then((function(e){t.productFamilies=e.content.map((function(e){return e.description}))})).catch((function(e){t.productFamilies=[]}))}},{key:"searchProductLines",value:function(e){var t=this;this.rmanLookupCodesService.getAllRmanLookupCodes(this.paginationOptions,{lookupTypeCode:"PRODUCT_LINES",enabledFlag:"Y",description:e.query}).then((function(e){t.productLines=e.content.map((function(e){return e.description}))})).catch((function(e){t.productLines=[]}))}},{key:"reset",value:function(e){this.fromArrgId=null,this.toArrgId=null,this.fromPeriod=this.currentPeriod.periodName,this.toPeriod=this.currentPeriod.periodName,this.po="",this.so=null,this.legalEntity=null,this.region="",this.customerName="",this.customerNumber="",this.assetId="",this.productFamily="",this.productLine="",this.salesContract="",this.selectedCustomer={},this.getAllRmanArrgWaterfallReportV2(),this.displayDialog=!1,this.isSerached=0}},{key:"fieldType",value:function(e){return typeof e}},{key:"isDateField",value:function(e){return-1!=e.search("Date")}},{key:"searchRCList",value:function(e){var t=this;this.rmanArrgWaterfallReportVService.fetchRCNumbers(e.query).then((function(e){t.dealArrangementNumbers=e.map((function(e){return e}))})).catch((function(e){t.dealArrangementNumbers=[]}))}}]),e}()).\u0275fac=function(e){return new(e||Me)(u.Pb(re),u.Pb(v.a),u.Pb(y.a),u.Pb(h.k),u.Pb(s.a),u.Pb(c.a),u.Pb(m.a),u.Pb(f.a))},Me.\u0275cmp=u.Jb({type:Me,selectors:[["rmanArrgWaterfallReportV-data"]],features:[u.Db([re,v.a,y.a,m.a,f.a])],decls:113,vars:75,consts:[[1,"content-section","implementation"],[1,"card-wrapper","waterfall-detail-report"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["header","WaterFall Details Report",3,"toggleable","onBeforeToggle"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-reply"],[1,"fa","fa-cog"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll","mb-2"],["id","waterfall-dt","columnResizeMode","expand","scrollable","true",1,"ui-datatable","arrangementMgrTbl",3,"loading","exportFilename","value","paginator","rows","columns","resizableColumns"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Search","width","800","showEffect","fade",3,"visible","closable","draggable","modal"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","RC Number Type atleast 3 Characters","id","from",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],[1,"ui-g-6","pull-right"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","RC Number Type atleast 3 Characters","id","to",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputId","fromPeriodName","inputStyleClass","textbox","appendTo","body",3,"ngModel","ngModelOptions","suggestions","minLength","ngModelChange","completeMethod"],["inputId","toPeriodName","inputStyleClass","textbox","appendTo","body",3,"ngModel","ngModelOptions","suggestions","minLength","ngModelChange","completeMethod"],["pInputText","","name","po","id","po","placeholder","PO Number",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","name","so","id","so","placeholder","Order Number",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["name","legalEntity","id","legalEntity","appendTo","body",3,"options","ngModel","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Billing Region Type atleast 2 Characters","id","region",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Customer Name Type atleast 3 Characters","id","from","field","customerName",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Customer Number Type atleast 3 Characters","id","customerNumber",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Product Family Type atleast 2 Characters","id","productFamily",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Product Line Type atleast 2 Characters","id","productLine",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["pInputText","","name","assetId","id","assetId","placeholder","Asset ID",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","name","salesContract","id","salesContract","placeholder","Sales Contract Number",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","reset","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["style","width:100px","pResizableColumn","",3,"ngStyle",4,"ngFor","ngForOf"],["pResizableColumn","",2,"width","100px",3,"ngStyle"],[3,"pSelectableRow"],["style","width:100px",3,"ngStyle",4,"ngFor","ngForOf"],[2,"width","100px",3,"ngStyle"],[3,"title"],[1,"no-results-data"]],template:function(e,t){if(1&e){var o=u.Wb();u.Qb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"div",5),u.Vb(6,"p-panel",6),u.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),u.Vb(7,"p-header"),u.Vb(8,"div",7),u.Vb(9,"a",8),u.dc("click",(function(){return t.goToOperationReports()})),u.Qb(10,"em",9),u.Mc(11,"Back"),u.Ub(),u.Vb(12,"a",8),u.dc("click",(function(e){return t.onConfiguringColumns(e)})),u.Qb(13,"em",10),u.Mc(14,"Columns"),u.Ub(),u.Vb(15,"a",11),u.dc("click",(function(){return t.showDialogToSearch()})),u.Qb(16,"em",12),u.Ub(),u.Vb(17,"a",13),u.dc("click",(function(){u.Dc(o);var e=u.Bc(24);return t.reset(e)})),u.Qb(18,"em",14),u.Ub(),u.Vb(19,"a",15),u.dc("click",(function(){return u.Dc(o),u.Bc(24).exportCSV()})),u.Qb(20,"em",16),u.Ub(),u.Kc(21,be,15,5,"div",17),u.Ub(),u.Ub(),u.Vb(22,"div",18),u.Vb(23,"p-table",19,20),u.hc(25,"date"),u.Kc(26,me,2,1,"ng-template",21),u.Kc(27,ve,2,1,"ng-template",22),u.Kc(28,Ae,2,2,"ng-template",23),u.Kc(29,Se,3,1,"ng-template",24),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(30,"p-dialog",25),u.Vb(31,"form"),u.Vb(32,"div",26),u.Vb(33,"div",27),u.Vb(34,"div",28),u.Vb(35,"span",29),u.Vb(36,"span",30),u.Mc(37,"Revenue Contract Number From"),u.Ub(),u.Vb(38,"p-autoComplete",31),u.dc("completeMethod",(function(e){return t.searchRCList(e)}))("ngModelChange",(function(e){return t.fromArrgId=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(39,"div",32),u.Vb(40,"span",29),u.Vb(41,"span",30),u.Mc(42,"Revenue Contract Number To"),u.Ub(),u.Vb(43,"p-autoComplete",33),u.dc("completeMethod",(function(e){return t.searchRCList(e)}))("ngModelChange",(function(e){return t.toArrgId=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(44,"div",27),u.Vb(45,"div",28),u.Vb(46,"span",29),u.Vb(47,"span",30),u.Mc(48,"From Period"),u.Ub(),u.Vb(49,"p-autoComplete",34),u.dc("ngModelChange",(function(e){return t.fromPeriod=e}))("completeMethod",(function(e){return t.searchPeriod(e)})),u.Ub(),u.Ub(),u.Ub(),u.Vb(50,"div",32),u.Vb(51,"span",29),u.Vb(52,"span",30),u.Mc(53,"To Period"),u.Ub(),u.Vb(54,"p-autoComplete",35),u.dc("ngModelChange",(function(e){return t.toPeriod=e}))("completeMethod",(function(e){return t.searchPeriod(e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(55,"div",27),u.Vb(56,"div",28),u.Vb(57,"span",29),u.Vb(58,"span",30),u.Mc(59,"PO Number"),u.Ub(),u.Vb(60,"input",36),u.dc("ngModelChange",(function(e){return t.po=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(61,"div",32),u.Vb(62,"span",29),u.Vb(63,"span",30),u.Mc(64,"Order Number"),u.Ub(),u.Vb(65,"input",37),u.dc("ngModelChange",(function(e){return t.so=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(66,"div",27),u.Vb(67,"div",28),u.Vb(68,"span",30),u.Mc(69," Billing Company "),u.Ub(),u.Vb(70,"p-dropdown",38),u.dc("ngModelChange",(function(e){return t.legalEntity=e})),u.Ub(),u.Ub(),u.Vb(71,"div",32),u.Vb(72,"span",29),u.Vb(73,"span",30),u.Mc(74,"Billing Region"),u.Ub(),u.Vb(75,"p-autoComplete",39),u.dc("completeMethod",(function(e){return t.searchRegions(e)}))("ngModelChange",(function(e){return t.region=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(76,"div",27),u.Vb(77,"div",28),u.Vb(78,"span",29),u.Vb(79,"span",30),u.Mc(80,"Customer Name"),u.Ub(),u.Vb(81,"p-autoComplete",40),u.dc("completeMethod",(function(e){return t.searchCustomerNames(e)}))("ngModelChange",(function(e){return t.selectedCustomer=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(82,"div",32),u.Vb(83,"span",29),u.Vb(84,"span",30),u.Mc(85,"Customer Number"),u.Ub(),u.Vb(86,"p-autoComplete",41),u.dc("completeMethod",(function(e){return t.searchCustomerNumbers(e)}))("ngModelChange",(function(e){return t.customerNumber=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(87,"div",27),u.Vb(88,"div",28),u.Vb(89,"span",29),u.Vb(90,"span",30),u.Mc(91,"Product Family"),u.Ub(),u.Vb(92,"p-autoComplete",42),u.dc("completeMethod",(function(e){return t.searchProductFamilies(e)}))("ngModelChange",(function(e){return t.productFamily=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(93,"div",32),u.Vb(94,"span",29),u.Vb(95,"span",30),u.Mc(96,"Product Line"),u.Ub(),u.Vb(97,"p-autoComplete",43),u.dc("completeMethod",(function(e){return t.searchProductLines(e)}))("ngModelChange",(function(e){return t.productLine=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(98,"div",27),u.Vb(99,"div",28),u.Vb(100,"span",29),u.Vb(101,"span",30),u.Mc(102,"Asset ID"),u.Ub(),u.Vb(103,"input",44),u.dc("ngModelChange",(function(e){return t.assetId=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(104,"div",32),u.Vb(105,"span",29),u.Vb(106,"span",30),u.Mc(107,"Sales Contract Number"),u.Ub(),u.Vb(108,"input",45),u.dc("ngModelChange",(function(e){return t.salesContract=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(109,"p-footer"),u.Vb(110,"div",46),u.Vb(111,"button",47),u.dc("click",(function(){return t.search()})),u.Ub(),u.Vb(112,"button",48),u.dc("click",(function(){u.Dc(o);var e=u.Bc(24);return t.reset(e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub()}2&e&&(u.Eb(6),u.oc("toggleable",!1),u.Eb(15),u.oc("ngIf",!t.showAddColumns),u.Eb(2),u.qc("exportFilename","Waterfall_Report_",u.jc(25,59,t.currentDate,"yyyyMMddhhmmss"),""),u.oc("loading",t.loading)("value",t.arrgWaterFallRepList)("paginator",!0)("rows",10)("columns",t.columns)("resizableColumns",!0),u.Eb(7),u.oc("visible",t.displayDialog)("closable",!1)("draggable",!0)("modal",!0),u.Eb(8),u.oc("suggestions",t.dealArrangementNumbers)("minLength",3)("ngModelOptions",u.rc(62,Ve))("ngModel",t.fromArrgId),u.Eb(5),u.oc("suggestions",t.dealArrangementNumbers)("minLength",3)("ngModelOptions",u.rc(63,Ve))("ngModel",t.toArrgId),u.Eb(6),u.oc("ngModel",t.fromPeriod)("ngModelOptions",u.rc(64,Ve))("suggestions",t.fromPeriodArray)("minLength",3),u.Eb(5),u.oc("ngModel",t.toPeriod)("ngModelOptions",u.rc(65,Ve))("suggestions",t.fromPeriodArray)("minLength",3),u.Eb(6),u.oc("ngModelOptions",u.rc(66,Ve))("ngModel",t.po),u.Eb(5),u.oc("ngModelOptions",u.rc(67,Ve))("ngModel",t.so),u.Eb(5),u.oc("options",t.entities)("ngModel",t.legalEntity),u.Eb(5),u.oc("suggestions",t.regions)("minLength",2)("ngModelOptions",u.rc(68,Ve))("ngModel",t.region),u.Eb(6),u.oc("suggestions",t.customers)("minLength",3)("ngModelOptions",u.rc(69,Ve))("ngModel",t.selectedCustomer),u.Eb(5),u.oc("suggestions",t.customerNumbers)("minLength",3)("ngModelOptions",u.rc(70,Ve))("ngModel",t.customerNumber),u.Eb(6),u.oc("suggestions",t.productFamilies)("minLength",2)("ngModelOptions",u.rc(71,Ve))("ngModel",t.productFamily),u.Eb(5),u.oc("suggestions",t.productLines)("minLength",2)("ngModelOptions",u.rc(72,Ve))("ngModel",t.productLine),u.Eb(6),u.oc("ngModelOptions",u.rc(73,Ve))("ngModel",t.assetId),u.Eb(5),u.oc("ngModelOptions",u.rc(74,Ve))("ngModel",t.salesContract))},directives:[C.a,A.c,h.o,S.j,A.f,M.a,R.v,R.l,R.m,V.a,R.k,R.n,R.b,U.a,se.a,A.b,D.b,k.a,N.b,N.c,R.a,h.p,h.n,S.g,S.i],pipes:[h.f,h.g],encapsulation:2}),Me.\u0275prov=u.Lb({token:Me,factory:Me.\u0275fac}),Me),De=a("Mf/S"),ke=a("+yMW"),Ne=((Re=function(){function e(t){o(this,e),this.http=t}return i(e,[{key:"getAllRmanDefRollforwardReportV",value:function(e,t){var o=ke.apiUrl+"/rmanDefRollforwardReportVSearch?",n="";return null!=t.periodDetail&&""!=t.periodDetail&&(n=n+"periodDetail:"+t.periodDetail+","),null!=t.dealArrangementId&&""!=t.dealArrangementId&&(n=n+"dealArrangementId:"+t.dealArrangementId+","),null!=t.dealArrangementNumber&&""!=t.dealArrangementNumber&&(n=n+"dealArrangementNumber:"+t.dealArrangementNumber+","),null!=t.dealArrangementName&&""!=t.dealArrangementName&&(n=n+"dealArrangementName:"+t.dealArrangementName+","),null!=t.dealArrangementBasis&&""!=t.dealArrangementBasis&&(n=n+"dealArrangementBasis:"+t.dealArrangementBasis+","),null!=t.dealArrangementStatus&&""!=t.dealArrangementStatus&&(n=n+"dealArrangementStatus:"+t.dealArrangementStatus+","),null!=t.legalEntityName&&""!=t.legalEntityName&&(n=n+"legalEntityName:"+t.legalEntityName+","),null!=t.dealArrangementSource&&""!=t.dealArrangementSource&&(n=n+"dealArrangementSource:"+t.dealArrangementSource+","),null!=t.customerPoNum&&""!=t.customerPoNum&&(n=n+"customerPoNum:"+t.customerPoNum+","),null!=t.dealName&&""!=t.dealName&&(n=n+"dealName:"+t.dealName+","),null!=t.dealNumber&&""!=t.dealNumber&&(n=n+"dealNumber:"+t.dealNumber+","),null!=t.dealLineNumber&&""!=t.dealLineNumber&&(n=n+"dealLineNumber:"+t.dealLineNumber+","),null!=t.sourceHeaderId&&""!=t.sourceHeaderId&&(n=n+"sourceHeaderId:"+t.sourceHeaderId+","),null!=t.orderNumber&&""!=t.orderNumber&&(n=n+"orderNumber:"+t.orderNumber+","),null!=t.sourceLineId&&""!=t.sourceLineId&&(n=n+"sourceLineId:"+t.sourceLineId+","),null!=t.sourceLineNumber&&""!=t.sourceLineNumber&&(n=n+"sourceLineNumber:"+t.sourceLineNumber+","),null!=t.productName&&""!=t.productName&&(n=n+"productName:"+t.productName+","),null!=t.orderedQuantity&&""!=t.orderedQuantity&&(n=n+"orderedQuantity:"+t.orderedQuantity+","),null!=t.uom&&""!=t.uom&&(n=n+"uom:"+t.uom+","),null!=t.transactionCurrency&&""!=t.transactionCurrency&&(n=n+"transactionCurrency:"+t.transactionCurrency+","),null!=t.unitListPrice&&""!=t.unitListPrice&&(n=n+"unitListPrice:"+t.unitListPrice+","),null!=t.unitNetPrice&&""!=t.unitNetPrice&&(n=n+"unitNetPrice:"+t.unitNetPrice+","),null!=t.lineAmount&&""!=t.lineAmount&&(n=n+"lineAmount:"+t.lineAmount+","),null!=t.discountPercent&&""!=t.discountPercent&&(n=n+"discountPercent:"+t.discountPercent+","),null!=t.productPortfolio&&""!=t.productPortfolio&&(n=n+"productPortfolio:"+t.productPortfolio+","),null!=t.productLine&&""!=t.productLine&&(n=n+"productLine:"+t.productLine+","),null!=t.productFamily&&""!=t.productFamily&&(n=n+"productFamily:"+t.productFamily+","),null!=t.shipToCustomer&&""!=t.shipToCustomer&&(n=n+"shipToCustomer:"+t.shipToCustomer+","),null!=t.shipToCustomerNumber&&""!=t.shipToCustomerNumber&&(n=n+"shipToCustomerNumber:"+t.shipToCustomerNumber+","),null!=t.billToCustomer&&""!=t.billToCustomer&&(n=n+"billToCustomer:"+t.billToCustomer+","),null!=t.billToCustomerNumber&&""!=t.billToCustomerNumber&&(n=n+"billToCustomerNumber:"+t.billToCustomerNumber+","),null!=t.salesTheater&&""!=t.salesTheater&&(n=n+"salesTheater:"+t.salesTheater+","),null!=t.salesRegion&&""!=t.salesRegion&&(n=n+"salesRegion:"+t.salesRegion+","),null!=t.salesTeritory&&""!=t.salesTeritory&&(n=n+"salesTeritory:"+t.salesTeritory+","),null!=t.lineCost&&""!=t.lineCost&&(n=n+"lineCost:"+t.lineCost+","),null!=t.bundleAttributedList&&""!=t.bundleAttributedList&&(n=n+"bundleAttributedList:"+t.bundleAttributedList+","),null!=t.bundleAttributedNet&&""!=t.bundleAttributedNet&&(n=n+"bundleAttributedNet:"+t.bundleAttributedNet+","),null!=t.startDate&&""!=t.startDate&&(n=n+"startDate:"+t.startDate+","),null!=t.endDate&&""!=t.endDate&&(n=n+"endDate:"+t.endDate+","),null!=t.sspAmount&&""!=t.sspAmount&&(n=n+"sspAmount:"+t.sspAmount+","),null!=t.allocationAmount&&""!=t.allocationAmount&&(n=n+"allocationAmount:"+t.allocationAmount+","),null!=t.bookedAmount&&""!=t.bookedAmount&&(n=n+"bookedAmount:"+t.bookedAmount+","),null!=t.deliveredAmount&&""!=t.deliveredAmount&&(n=n+"deliveredAmount:"+t.deliveredAmount+","),null!=t.deliveredAllocationAmount&&""!=t.deliveredAllocationAmount&&(n=n+"deliveredAllocationAmount:"+t.deliveredAllocationAmount+","),null!=t.postBillingDeferrals&&""!=t.postBillingDeferrals&&(n=n+"postBillingDeferrals:"+t.postBillingDeferrals+","),null!=t.beginingBalance&&""!=t.beginingBalance&&(n=n+"beginingBalance:"+t.beginingBalance+","),null!=t.additionAmount&&""!=t.additionAmount&&(n=n+"additionAmount:"+t.additionAmount+","),null!=t.releaseAmount&&""!=t.releaseAmount&&(n=n+"releaseAmount:"+t.releaseAmount+","),null!=t.endingBalance&&""!=t.endingBalance&&(n=n+"endingBalance:"+t.endingBalance+","),null!=t.revenueRecognized&&""!=t.revenueRecognized&&(n=n+"revenueRecognized:"+t.revenueRecognized+","),null!=t.periodName&&""!=t.periodName&&(n=n+"periodName:"+t.periodName+","),null!=t.periodYear&&""!=t.periodYear&&(n=n+"periodYear:"+t.periodYear+","),null!=t.quarterName&&""!=t.quarterName&&(n=n+"quarterName:"+t.quarterName),""==n?o+="search=%25":o=o+"search="+n,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(o=o+"&page="+e.pageNumber+"&size="+e.pageSize),this.http.get(o).toPromise().then((function(e){return e}))}},{key:"searchFields",value:function(e,t,o,n,i,a,l,r,s,c,d,u){null==e&&(e=""),null==t&&(t=""),null==o&&(o=""),null==n&&(n=""),null==i&&(i=""),null==a&&(a=""),null==l&&(l=""),null==r&&(r=""),null==s&&(s=""),null==c&&(c=""),null==d&&(d="");var h=ke.apiUrl+"/revmantra/deferredRevenueRollForwardRep?periodType="+e+"&asOfPeriod="+t+"&dealArrgNum="+o+"&so="+n+"&po="+i+"&customerName="+a+"&customerNumber="+l+"&region="+r+"&legalEntityName="+s+"&assetId="+c+"&salesContract="+d;return null==u.pageNumber||""==u.pageNumber||isNaN(u.pageNumber)||0==u.pageNumber||(h=h+"&page="+u.pageNumber+"&size="+u.pageSize),this.http.get(h).toPromise().then((function(e){return e}))}},{key:"exportReconDeals",value:function(e,t,o,n,i,a,l,r,s,c,d,u){null==e&&(e=""),null==t&&(t=""),null==o&&(o=""),null==n&&(n=""),null==i&&(i=""),null==a&&(a=""),null==l&&(l=""),null==r&&(r=""),null==s&&(s=""),null==c&&(c=""),null==d&&(d="");var h=ke.apiUrl+"/rmanDeferredRevenueRollForwardRepExport?periodType="+e+"&asOfPeriod="+t+"&dealArrgNum="+o+"&so="+n+"&po="+i+"&customerName="+a+"&customerNumber="+l+"&region="+r+"&legalEntityName="+s+"&assetId="+c+"&salesContract="+d;return null!=u&&""!=u&&(h=h+"&exportCols="+u),h}},{key:"getPeriodNameList",value:function(e){var t=ke.apiUrl+"/rmanFiscalPeriodsSearch?",o="";return e&&(o=o+"periodName:"+e),""==o?t+="search=%25":t=t+"search="+o,this.http.get(t).toPromise().then((function(e){return e}))}},{key:"fetchRCNumbers",value:function(e){return this.http.get(ke.apiUrl+"/fetchAllRC?rc="+e).toPromise().then((function(e){return e}))}}]),e}()).\u0275fac=function(e){return new(e||Re)(u.Zb(d.b))},Re.\u0275prov=u.Lb({token:Re,factory:Re.\u0275fac}),Re);function Fe(e,t){if(1&e){var o=u.Wb();u.Vb(0,"a",44),u.dc("click",(function(){return u.Dc(o),u.gc().exportExcel()})),u.Qb(1,"em",45),u.Ub()}}function xe(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",58),u.dc("onDragStart",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDragStart(e)}))("onDrop",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDrop(e)})),u.Vb(2,"div",59),u.Vb(3,"input",60),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label"),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField),u.Eb(2),u.Nc(n.header)}}var Ee=function(){return{color:"grey"}};function Te(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",61),u.Vb(2,"div"),u.Vb(3,"input",62),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label",63),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField)("disabled",!n.drag),u.Eb(1),u.oc("ngStyle",u.rc(5,Ee)),u.Eb(1),u.Nc(n.header)}}function Le(e,t){if(1&e&&(u.Kc(0,xe,6,3,"div",57),u.Kc(1,Te,6,6,"div",57)),2&e){var o=t.$implicit;u.oc("ngIf",o.drag),u.Eb(1),u.oc("ngIf",!o.drag)}}var Pe=function(){return{width:"100%",height:"100%"}};function Oe(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",46),u.Vb(1,"div",47),u.Vb(2,"div",48),u.Vb(3,"input",49),u.dc("click",(function(){return u.Dc(o),u.gc().onSelectAll()})),u.Ub(),u.Vb(4,"label",50),u.Mc(5,"Select All"),u.Ub(),u.Vb(6,"a",51),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(7,"\xd7"),u.Ub(),u.Vb(8,"p-listbox",52),u.Kc(9,Le,2,2,"ng-template",53),u.Ub(),u.Ub(),u.Vb(10,"div",54),u.Vb(11,"a",55),u.dc("click",(function(){return u.Dc(o),u.gc().saveColumns()})),u.Mc(12,"Save"),u.Ub(),u.Vb(13,"a",56),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(14,"Cancel"),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc();u.Eb(3),u.oc("checked",n.isSelectAllChecked),u.Eb(5),u.Ic(u.rc(4,Pe)),u.oc("options",n.globalCols)}}function Ie(e,t){1&e&&u.Qb(0,"col")}function Be(e,t){if(1&e&&(u.Vb(0,"colgroup"),u.Kc(1,Ie,1,0,"col",64),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngForOf",o)}}var ze=function(e){return{display:e}};function Qe(e,t){if(1&e&&(u.Vb(0,"th",67),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit;u.pc("title",o.header),u.oc("ngStyle",u.sc(3,ze,o.display)),u.Eb(1),u.Nc(o.header)}}function $e(e,t){if(1&e&&(u.Vb(0,"th",68),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit;u.pc("title",o.header),u.oc("ngStyle",u.sc(3,ze,o.display)),u.Eb(1),u.Nc(o.header)}}function Ke(e,t){if(1&e&&(u.Tb(0),u.Kc(1,Qe,2,5,"th",65),u.Kc(2,$e,2,5,"th",66),u.Sb()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngIf","text"==o.type||"date"==o.type),u.Eb(1),u.oc("ngIf","number"==o.type||"round"==o.type||"link"==o.type)}}function _e(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,Ke,3,2,"ng-container",64),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngForOf",o.columns)}}function qe(e,t){if(1&e&&(u.Vb(0,"td",72),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",n[o.field]),u.oc("ngStyle",u.sc(3,ze,o.display)),u.Eb(1),u.Oc(" ",n[o.field]," ")}}function We(e,t){if(1&e&&(u.Vb(0,"td",73),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",n[o.field]),u.oc("ngStyle",u.sc(3,ze,o.display)),u.Eb(1),u.Oc(" ",n[o.field]," ")}}function je(e,t){if(1&e&&(u.Vb(0,"td",72),u.hc(1,"date"),u.Mc(2),u.hc(3,"date"),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",u.jc(1,3,n[o.field],"MM/dd/yyyy")),u.oc("ngStyle",u.sc(9,ze,o.display)),u.Eb(2),u.Oc(" ",u.jc(3,6,n[o.field],"MM/dd/yyyy")," ")}}function Je(e,t){if(1&e&&(u.Vb(0,"td",73),u.hc(1,"round"),u.Mc(2),u.hc(3,"round"),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",u.ic(1,3,n[o.field])),u.oc("ngStyle",u.sc(7,ze,o.display)),u.Eb(2),u.Oc(" ",u.ic(3,5,n[o.field])," ")}}function He(e,t){if(1&e&&(u.Tb(0),u.Kc(1,qe,2,5,"td",70),u.Kc(2,We,2,5,"td",71),u.Kc(3,je,4,11,"td",70),u.Kc(4,Je,4,9,"td",71),u.Sb()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngIf","text"==o.type),u.Eb(1),u.oc("ngIf","number"==o.type),u.Eb(1),u.oc("ngIf","date"==o.type),u.Eb(1),u.oc("ngIf","round"==o.type)}}function Ge(e,t){if(1&e&&(u.Vb(0,"tr",69),u.Kc(1,He,5,4,"ng-container",64),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.oc("pSelectableRow",o),u.Eb(1),u.oc("ngForOf",n.columns)}}function Ye(e,t){if(1&e&&(u.Vb(0,"tr"),u.Vb(1,"td",74),u.Mc(2),u.Ub(),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.Eb(1),u.Fb("colspan",o.length),u.Eb(1),u.Nc(n.noData)}}var Ze,Xe,et=function(){return{standalone:!0}},tt=a("+yMW"),ot=((Ze=function(){function e(t,n,i,a,l,r,s,c,d){var u=this;o(this,e),this.rmanDefRollforwardReportVService=t,this.rmanLookupsVService=n,this.location=i,this.commonSharedService=a,this.rmanCustomersService=l,this.rmanLookupCodesService=r,this.rmanLegalEntitiesService=s,this.notificationService=c,this.rmanFiscalPeriodsService=d,this.rmanDefRollforwardReportV=new nt,this.rmanDefRollforwardReportVSearch=new nt,this.isSerached=0,this.noData=tt.noData,this.rmanLookupsVList=[],this.collapsed=!0,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.customerNames=[],this.customerNumbers=[],this.regions=[],this.legalEntities=[],this.dealArrangementNumbers=[],this.exportCols=[],this.disableExport=!0,this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"ACCOUNT_PERIOD_TYPE"}).then((function(e){u.rmanLookupsVList=e.content,u.prepareRmanLookupsVObject()})),this.periodNamePlaceHolder="",this.rmanFiscalPeriodsService.getCurrentfiscalperiod().then((function(e){u.currentPeriodName=e.periodName}))}return i(e,[{key:"ngOnInit",value:function(){this.globalCols=[{field:"dealArrangementNumber",header:"Revenue Contract Number",showField:!0,display:"table-cell",type:"number",drag:!1},{field:"dealArrangementName",header:"Revenue Contract",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"note",header:"Note Transaction Type",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"contName",header:"Cont Apply",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"elementType",header:"Element Type",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"billToCustomerNumber",header:"Customer Number",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"billToCustomer",header:"Customer Name",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"customerPoNum",header:"PO Number",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"orderNumber",header:"Order Number",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"invoiceNum",header:"Invoice Number",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"dealArrangementBasis",header:"Revenue Contract Basis",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"dealArrangementStatus",header:"Contract Status",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"legalEntityName",header:"Billing Company",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"dealArrangementSource",header:"Revenue Contract Source",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"dealName",header:"Deal Name",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"dealNumber",header:"Deal Number",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"dealLineNumber",header:"Line Number",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"sourceHeaderId",header:"Source Header Id",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"sourceLineId",header:"Source Line Id",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"sourceLineNumber",header:"Order Line Number",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"productName",header:"Product Name",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"orderedQuantity",header:"Quantity",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"uom",header:"UOM",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"transactionCurrency",header:"Currency",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"unitListPrice",header:"Unit List Price",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"unitNetPrice",header:"Unit Selling Price",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"lineAmount",header:"Net Price",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"discountPercent",header:"Discount or Premium%",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"productPortfolio",header:"Product Porfolio",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"productFamily",header:"Product Family",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"productLine",header:"Product Line",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"division",header:"Division",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"shipToCustomerNumber",header:"Ship To Customer Number",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"shipToCustomer",header:"Ship To Customer Name",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"salesTheater",header:"Sales Theater",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"salesRegion",header:"Billing Region",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"salesTeritory",header:"Sales Territory",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"lineCost",header:"Line Cost",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"bundleAttributedList",header:"Bundle Attributed Extended List Price",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"bundleAttributedNet",header:"Bundle Attributed Net Price",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"startDate",header:"Service Start Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"endDate",header:"Service End Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"deliveredDate",header:"Delivered Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"sspAmount",header:"SSP Amount",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"allocationAmount",header:"Allocation Amount (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"allocationAmountFc",header:"Allocation Amount (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"bookedAmount",header:"Booked Amount",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"deliveredAmount",header:"Delivered Amount",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"deliveredAllocationAmount",header:"Delivered Allocation Amount(TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"deliveredAllocationAmountFc",header:"Delivered Allocation Amount(FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"postBillingDeferrals",header:"Post Billing Deferrals (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"postBillingDeferralsFc",header:"Post Billing Deferrals (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"beginingBalance",header:"Deferred Beginning Balance (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"additionAmount",header:"Deferred Amount Addition (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"releaseAmount",header:"Deferred Amount Release (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"endingBalance",header:"Deferred Ending Balance (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"revenueRecognized",header:"Revenue Recognized (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"salesContract",header:"Sales Contract Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"assetId",header:"Asset ID",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"assetNumber",header:"Asset Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"revenueTerm",header:"Revenue Term in Months",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"chargeType",header:"Charge Type",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"sellingTerm",header:"Selling Term",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"primaryLineNumber",header:"Primary Line Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"itemSequenceNumber",header:"Item Sequence Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"orderLineStatus",header:"Order Line Status",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"beginingBalanceLt",header:"Beginning Bal LT (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"additionAmountLt",header:"Addition Amount LT (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"releaseAmountLt",header:"Release LT (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"endingBalanceLt",header:"Ending Bal LT (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"bundlePercent",header:"POB Split %",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"invoiceAmount",header:"Invoice Amount",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"forecastDate",header:"Forecast Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"bookedDate",header:"Ready for Activation Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"bundleIdentifier",header:"Line Type",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"bundleParentLineNumber",header:"Bundle Parent Line Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"revrecStartDate",header:"Revrec Start Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"revrecEndDate",header:"Revrec End Date",showField:!0,display:"table-cell",type:"date",drag:!0}],this.columns=[],this.getTableColumns("rmanDefRollforwardReportV","Deferred Revenue Roll Forward Report")}},{key:"getTableColumns",value:function(e,t){var o=this;this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then((function(e){if(e&&null!=e&&e.userId){o.columns=[];var t=e.tableColumns.split(",");t.length>0&&t.forEach((function(e,t){e&&(o.startIndex=o.globalCols.findIndex((function(t){return t.field==e})),o.onDrop(t))})),o.globalCols.forEach((function(t){-1!==e.tableColumns.indexOf(t.field)?o.columns.push(t):t.showField=!1})),o.columns.length!=o.globalCols.length&&(o.isSelectAllChecked=!1),o.showPaginator=0!==o.columns.length,o.userId=e.userId}else o.columns=o.globalCols})).catch((function(){o.notificationService.showError("Error occured while getting table columns data"),o.loading=!1}))}},{key:"saveColumns",value:function(){var e=this,t="";this.showAddColumns=!this.showAddColumns;var o=this.globalCols.length-1;this.globalCols.forEach((function(e,n){e.showField&&(t+=e.field,n<o&&(t+=","))})),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("rmanDefRollforwardReportV","Deferred Revenue Roll Forward Report",t,this.userId).then((function(t){e.columns=e.globalCols.filter((function(e){return e.showField})),e.userId=t.userId,e.showPaginator=0!==e.columns.length,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"onDragStart",value:function(e){this.startIndex=e}},{key:"onDrop",value:function(e){var t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}},{key:"selectColumns",value:function(e){var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"onConfiguringColumns",value:function(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}},{key:"closeConfigureColumns",value:function(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"goToOperationReports",value:function(){this.location.back()}},{key:"getAllRmanDefRollforwardReportV",value:function(){var e=this;this.loading=!0,this.rmanDefRollforwardReportVService.searchFields(this.periodType,this.asOfPeriod,this.dealArrangementNum,this.soNumber,this.poNumber,this.customerName,this.customerNumber,this.region,this.legalEntityName,this.assetId,this.salesContract,this.paginationOptions).then((function(t){e.loading=!1,e.datasource=t.content,e.rmanDefRollforwardReportVList=t.content,e.totalElements=t.totalElements,e.pageSize=t.size,e.displaySearchDialog=!1,e.disableExport=!1})).catch((function(t){e.loading=!1}))}},{key:"getRmanDefRollforwardReportV",value:function(e){var t=this;this.loading=!0,this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.rmanDefRollforwardReportVService.searchFields(this.periodType,this.asOfPeriod,this.dealArrangementNum,this.soNumber,this.poNumber,this.customerName,this.customerNumber,this.region,this.legalEntityName,this.assetId,this.salesContract,this.paginationOptions).then((function(e){t.loading=!1,t.datasource=e.content,t.rmanDefRollforwardReportVList=e.content,t.totalElements=e.totalElements,t.pageSize=e.size,t.disableExport=!1})).catch((function(e){t.loading=!1}))}},{key:"showDialogToAdd",value:function(){this.newRmanDefRollforwardReportV=!0,this.rmanDefRollforwardReportV=new nt,this.displayDialog=!0}},{key:"prepareRmanLookupsVObject",value:function(){var e=[];e.push({label:"--Select Account Period Type--",value:null}),this.rmanLookupsVList.forEach((function(t){e.push({label:t.lookupDescription,value:t.lookupCode})})),this.rmanLookupsV=e}},{key:"reset",value:function(e){this.paginationOptions={},this.periodType="",this.asOfPeriod="",this.dealArrangementNum="",this.soNumber="",this.poNumber="",this.customerName="",this.customerNumber="",this.region="",this.legalEntityName="",this.assetId="",this.salesContract="",e.reset()}},{key:"exportExcel",value:function(){this.exportCols=[];for(var e=0;e<this.columns.length;e++)this.columns[e].showField&&this.exportCols.push(this.columns[e].field);this.loading=!0;var t=this.rmanDefRollforwardReportVService.exportReconDeals(this.periodType,this.asOfPeriod,this.dealArrangementNum,this.soNumber,this.poNumber,this.customerName,this.customerNumber,this.region,this.legalEntityName,this.assetId,this.salesContract,this.exportCols);window.location.href=t,this.loading=!1}},{key:"findSelectedRmanDefRollforwardReportVIndex",value:function(){return this.rmanDefRollforwardReportVList.indexOf(this.selectedRmanDefRollforwardReportV)}},{key:"onRowSelect",value:function(e){}},{key:"onBeforeToggle",value:function(e){this.collapsed=e.collapsed}},{key:"cloneRmanDefRollforwardReportV",value:function(e){var t=new nt;for(var o in e)t[o]=e[o];return t}},{key:"toggleColumnMenu",value:function(){this.hideColumnMenu=!this.hideColumnMenu}},{key:"toggleFilterBox",value:function(){this.showFilter=!this.showFilter}},{key:"showDialogToSearch",value:function(){this.displaySearchDialog=!0,this.periodType="",this.asOfPeriod="",this.dealArrangementNum="",this.soNumber="",this.poNumber="",this.customerName="",this.customerNumber="",this.region="",this.legalEntityName="",this.assetId="",this.salesContract="",0==this.isSerached&&(this.rmanDefRollforwardReportVSearch=new nt,this.periodType="PTD",this.asOfPeriod=this.currentPeriodName)}},{key:"search",value:function(){this.isSerached=1,this.displaySearchDialog=!1,this.paginationOptions={},this.getAllRmanDefRollforwardReportV()}},{key:"searchFields",value:function(e){var t=this;this.loading=!0,e.reset(),this.rmanDefRollforwardReportVService.searchFields(this.periodType,this.asOfPeriod,this.dealArrangementNum,this.soNumber,this.poNumber,this.customerName,this.customerNumber,this.region,this.legalEntityName,this.assetId,this.salesContract,this.paginationOptions).then((function(e){t.displaySearchDialog=!1,t.rmanDefRollforwardReportVList=e.content,t.totalElements=e.totalElements,t.pageSize=e.size,t.loading=!1}))}},{key:"filterPeriodName",value:function(e){var t=this;this.rmanDefRollforwardReportVService.getPeriodNameList(e.query).then((function(e){t.filteredPeriodNameList=e.content.map((function(e){return e.periodName}))})).catch((function(e){t.filteredPeriodNameList=[]}))}},{key:"searchCustomerNames",value:function(e){var t=this;this.rmanCustomersService.getAllRmanCustomers(this.paginationOptions,{customerName:e.query},!1).then((function(e){t.customerNames=e.content.map((function(e){return e.customerName}))})).catch((function(e){t.customerNames=[]}))}},{key:"searchCustomerNumbers",value:function(e){var t=this;this.rmanCustomersService.getAllRmanCustomers(this.paginationOptions,{customerNumber:e.query},!1).then((function(e){t.customerNumbers=e.content.map((function(e){return e.customerNumber}))})).catch((function(e){t.customerNumbers=[]}))}},{key:"searchRegions",value:function(e){var t=this;this.rmanLookupCodesService.getAllRmanLookupCodes(this.paginationOptions,{lookupTypeCode:"REGIONS",enabledFlag:"Y",lookupCode:e.query}).then((function(e){t.regions=e.content.map((function(e){return e.lookupCode}))})).catch((function(e){t.regions=[]}))}},{key:"searchLegalEntities",value:function(e){var t=this;this.rmanLegalEntitiesService.getAllRmanLegalEntities(this.paginationOptions,{name:e.query}).then((function(e){t.legalEntities=e.content.map((function(e){return e.name}))})).catch((function(e){t.legalEntities=[]}))}},{key:"searchRCList",value:function(e){var t=this;this.rmanDefRollforwardReportVService.fetchRCNumbers(e.query).then((function(e){t.dealArrangementNumbers=e.map((function(e){return e}))})).catch((function(e){t.dealArrangementNumbers=[]}))}}]),e}()).\u0275fac=function(e){return new(e||Ze)(u.Pb(Ne),u.Pb(De.a),u.Pb(h.k),u.Pb(s.a),u.Pb(m.a),u.Pb(f.a),u.Pb(y.a),u.Pb(c.a),u.Pb(v.a))},Ze.\u0275cmp=u.Jb({type:Ze,selectors:[["rmanDefRollforwardReportV-data"]],features:[u.Db([Ne,De.a,m.a,f.a,y.a,v.a])],decls:89,vars:56,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["header","Deferred Revenue Roll Forward Report",3,"toggleable","onBeforeToggle"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-reply"],[1,"fa","fa-cog"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Export",3,"click",4,"ngIf"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","rmanDef-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","lazy","paginator","rows","totalRecords","columns","resizableColumns","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Search","width","800","showEffect","fade",3,"draggable","visible","modal","visibleChange"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"selectSpan"],["name","periodType","appendTo","body",3,"options","ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],[1,"md-inputfield"],["inputStyleClass","textbox","styleClass","wid100","id","asOfPeriod",3,"ngModel","suggestions","minLength","ngModelOptions","placeholder","ngModelChange","completeMethod","onFocus","onBlur"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","RC Number Type atleast 3 Characters","id","dealArrangementNum",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["pInputText","","name","so","id","so","placeholder","Order Number",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Customer Number Type atleast 3 Characters","id","customerNumber",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Customer Name Type atleast 3 Characters","id","customerName",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Billing Region Type atleast 2 Characters","id","region",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Billing Company Type atleast 2 Characters","id","legalEntityName",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["pInputText","","name","assetId","id","assetId","placeholder","Asset ID",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","name","salesContract","id","salesContract","placeholder","Sales Contract Number",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix","pull-right"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow"],[3,"title","ngStyle",4,"ngIf"],["class","def_number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"def_number",3,"title","ngStyle"],[1,"no-data"]],template:function(e,t){if(1&e){var o=u.Wb();u.Qb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"div",5),u.Vb(6,"p-panel",6),u.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),u.Vb(7,"p-header"),u.Vb(8,"div",7),u.Vb(9,"a",8),u.dc("click",(function(){return t.goToOperationReports()})),u.Qb(10,"em",9),u.Mc(11,"Back"),u.Ub(),u.Vb(12,"a",8),u.dc("click",(function(e){return t.onConfiguringColumns(e)})),u.Qb(13,"em",10),u.Mc(14,"Columns"),u.Ub(),u.Vb(15,"a",11),u.dc("click",(function(){return t.showDialogToSearch()})),u.Qb(16,"em",12),u.Ub(),u.Vb(17,"a",13),u.dc("click",(function(){u.Dc(o);var e=u.Bc(23);return t.reset(e)})),u.Qb(18,"em",14),u.Ub(),u.Kc(19,Fe,2,0,"a",15),u.Kc(20,Oe,15,5,"div",16),u.Ub(),u.Ub(),u.Vb(21,"div",17),u.Vb(22,"p-table",18,19),u.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getRmanDefRollforwardReportV(e)})),u.Kc(24,Be,2,1,"ng-template",20),u.Kc(25,_e,2,1,"ng-template",21),u.Kc(26,Ge,2,2,"ng-template",22),u.Kc(27,Ye,3,2,"ng-template",23),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(28,"p-dialog",24),u.dc("visibleChange",(function(e){return t.displaySearchDialog=e})),u.Vb(29,"form"),u.Vb(30,"div",25),u.Vb(31,"div",26),u.Vb(32,"div",27),u.Vb(33,"span",28),u.Mc(34," Account Period Type "),u.Ub(),u.Vb(35,"p-dropdown",29),u.dc("ngModelChange",(function(e){return t.periodType=e})),u.Ub(),u.Ub(),u.Vb(36,"div",30),u.Vb(37,"span",31),u.Vb(38,"span",28),u.Mc(39,"As Of Period"),u.Ub(),u.Vb(40,"p-autoComplete",32),u.dc("ngModelChange",(function(e){return t.asOfPeriod=e}))("completeMethod",(function(e){return t.filterPeriodName(e)}))("onFocus",(function(){return t.periodNamePlaceHolder="Type atleast 3 characters, ex: Jan-20"}))("onBlur",(function(){return t.periodNamePlaceHolder=""})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(41,"div",26),u.Vb(42,"div",27),u.Vb(43,"span",31),u.Vb(44,"span",28),u.Mc(45,"Revenue Contract Number"),u.Ub(),u.Vb(46,"p-autoComplete",33),u.dc("completeMethod",(function(e){return t.searchRCList(e)}))("ngModelChange",(function(e){return t.dealArrangementNum=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(47,"div",30),u.Vb(48,"span",31),u.Vb(49,"span",28),u.Mc(50,"Order Number"),u.Ub(),u.Vb(51,"input",34),u.dc("ngModelChange",(function(e){return t.soNumber=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(52,"div",26),u.Vb(53,"div",27),u.Vb(54,"span",31),u.Vb(55,"span",28),u.Mc(56,"Customer Number"),u.Ub(),u.Vb(57,"p-autoComplete",35),u.dc("completeMethod",(function(e){return t.searchCustomerNumbers(e)}))("ngModelChange",(function(e){return t.customerNumber=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(58,"div",30),u.Vb(59,"span",31),u.Vb(60,"span",28),u.Mc(61,"Customer Name"),u.Ub(),u.Vb(62,"p-autoComplete",36),u.dc("completeMethod",(function(e){return t.searchCustomerNames(e)}))("ngModelChange",(function(e){return t.customerName=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(63,"div",26),u.Vb(64,"div",27),u.Vb(65,"span",31),u.Vb(66,"span",28),u.Mc(67,"Billing Region"),u.Ub(),u.Vb(68,"p-autoComplete",37),u.dc("completeMethod",(function(e){return t.searchRegions(e)}))("ngModelChange",(function(e){return t.region=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(69,"div",30),u.Vb(70,"span",31),u.Vb(71,"span",28),u.Mc(72,"Billing Company"),u.Ub(),u.Vb(73,"p-autoComplete",38),u.dc("completeMethod",(function(e){return t.searchLegalEntities(e)}))("ngModelChange",(function(e){return t.legalEntityName=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(74,"div",26),u.Vb(75,"div",27),u.Vb(76,"span",31),u.Vb(77,"span",28),u.Mc(78,"Asset ID"),u.Ub(),u.Vb(79,"input",39),u.dc("ngModelChange",(function(e){return t.assetId=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(80,"div",30),u.Vb(81,"span",31),u.Vb(82,"span",28),u.Mc(83,"Sales Contract Number"),u.Ub(),u.Vb(84,"input",40),u.dc("ngModelChange",(function(e){return t.salesContract=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(85,"p-footer"),u.Vb(86,"div",41),u.Vb(87,"button",42),u.dc("click",(function(){return t.search()})),u.Ub(),u.Vb(88,"button",43),u.dc("click",(function(){return t.displaySearchDialog=!1})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()}2&e&&(u.Eb(6),u.oc("toggleable",!1),u.Eb(13),u.oc("ngIf",!t.disableExport),u.Eb(1),u.oc("ngIf",!t.showAddColumns),u.Eb(2),u.oc("loading",t.loading)("value",t.rmanDefRollforwardReportVList)("lazy",!0)("paginator",t.showPaginator)("rows",t.pageSize)("totalRecords",t.totalElements)("columns",t.columns)("resizableColumns",!0),u.Eb(6),u.oc("draggable",!0)("visible",t.displaySearchDialog)("modal",!0),u.Eb(7),u.oc("options",t.rmanLookupsV)("ngModel",t.periodType),u.Eb(5),u.pc("placeholder",t.periodNamePlaceHolder),u.oc("ngModel",t.asOfPeriod)("suggestions",t.filteredPeriodNameList)("minLength",3)("ngModelOptions",u.rc(47,et)),u.Eb(6),u.oc("suggestions",t.dealArrangementNumbers)("minLength",3)("ngModelOptions",u.rc(48,et))("ngModel",t.dealArrangementNum),u.Eb(5),u.oc("ngModelOptions",u.rc(49,et))("ngModel",t.soNumber),u.Eb(6),u.oc("suggestions",t.customerNumbers)("minLength",3)("ngModelOptions",u.rc(50,et))("ngModel",t.customerNumber),u.Eb(5),u.oc("suggestions",t.customerNames)("minLength",3)("ngModelOptions",u.rc(51,et))("ngModel",t.customerName),u.Eb(6),u.oc("suggestions",t.regions)("minLength",2)("ngModelOptions",u.rc(52,et))("ngModel",t.region),u.Eb(5),u.oc("suggestions",t.legalEntities)("minLength",2)("ngModelOptions",u.rc(53,et))("ngModel",t.legalEntityName),u.Eb(6),u.oc("ngModelOptions",u.rc(54,et))("ngModel",t.assetId),u.Eb(5),u.oc("ngModelOptions",u.rc(55,et))("ngModel",t.salesContract))},directives:[C.a,A.c,h.o,S.j,A.f,M.a,R.v,R.l,R.m,se.a,R.k,R.n,V.a,R.b,U.a,A.b,D.b,k.a,N.b,N.c,R.a,h.p,h.n,S.g,S.i],pipes:[h.f,F.a],encapsulation:2}),Ze),nt=function e(t,n,i,a,l,r,s,c,d,u,h,g,b,p,m,f,y,v,C,A,S,M,R,V,w,U,D,k,N,F,x,E,T,L,P,O,I,B,z,Q,$,K,_,q,W,j,J,H,G,Y,Z,X,ee){o(this,e),this.sourceLineId=t,this.deliveredAllocationAmount=n,this.transactionCurrency=i,this.endDate=a,this.sourceHeaderId=l,this.bundleAttributedNet=r,this.salesTeritory=s,this.periodName=c,this.salesRegion=d,this.dealArrangementBasis=u,this.productPortfolio=h,this.unitListPrice=g,this.shipToCustomerNumber=b,this.dealName=p,this.lineAmount=m,this.sspAmount=f,this.bookedAmount=y,this.dealArrangementSource=v,this.sourceLineNumber=C,this.periodYear=A,this.unitNetPrice=S,this.customerPoNum=M,this.productName=R,this.quarterName=V,this.releaseAmount=w,this.productLine=U,this.orderedQuantity=D,this.endingBalance=k,this.revenueRecognized=N,this.dealArrangementStatus=F,this.dealArrangementNumber=x,this.postBillingDeferrals=E,this.salesTheater=T,this.dealArrangementName=L,this.allocationAmount=P,this.billToCustomerNumber=O,this.discountPercent=I,this.dealNumber=B,this.billToCustomer=z,this.bundleAttributedList=Q,this.shipToCustomer=$,this.beginingBalance=K,this.dealLineNumber=_,this.startDate=q,this.periodDetail=W,this.dealArrangementId=j,this.uom=J,this.additionAmount=H,this.legalEntityName=G,this.productFamily=Y,this.orderNumber=Z,this.lineCost=X,this.deliveredAmount=ee},it=a("G3JO"),at=a("+yMW"),lt=((Xe=function(){function e(t){o(this,e),this.http=t}return i(e,[{key:"getAyaraForecastActualRep",value:function(e){return null==e&&(e=""),this.http.get(at.apiUrl+"/revmantra/ayaraForecastActuals/?periodType="+e).toPromise().then((function(e){return e}))}},{key:"exportAyaraForecastActualRepFile",value:function(e,t){null==e&&(e="");var o=at.apiUrl+"/exportAyaraForecastActuals?periodType="+e;return null!=t&&""!=t&&(o=o+"&exportCols="+t),o}}]),e}()).\u0275fac=function(e){return new(e||Xe)(u.Zb(d.b))},Xe.\u0275prov=u.Lb({token:Xe,factory:Xe.\u0275fac}),Xe),rt=a("6t4m");function st(e,t){if(1&e){var o=u.Wb();u.Vb(0,"a",32),u.dc("click",(function(){return u.Dc(o),u.gc().exportCSVfile()})),u.Qb(1,"em",33),u.Ub()}}function ct(e,t){1&e&&u.Qb(0,"col")}function dt(e,t){if(1&e&&(u.Vb(0,"colgroup"),u.Kc(1,ct,1,0,"col",34),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngForOf",o)}}var ut=function(e,t){return{display:e,"text-align":t}};function ht(e,t){if(1&e&&(u.Vb(0,"th",36),u.Mc(1),u.Ub()),2&e){var o=t.$implicit;u.oc("ngStyle",u.tc(2,ut,o.display,o.text)),u.Eb(1),u.Oc(" ",o.header," ")}}function gt(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,ht,2,5,"th",35),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngForOf",o.columns)}}function bt(e,t){if(1&e&&(u.Vb(0,"td",39),u.Vb(1,"span",40),u.Mc(2),u.hc(3,"date"),u.hc(4,"number"),u.Ub(),u.Ub()),2&e){var o=t.$implicit,n=u.gc().$implicit,i=u.gc();u.oc("ngStyle",u.tc(9,ut,o.display,o.text)),u.Eb(1),u.pc("title",n[o.field]),u.Eb(1),u.Nc(i.isDateField(o.field)?u.jc(3,3,n[o.field],"MM/dd/yyyy"):"number"==i.fieldType(n[o.field])?u.jc(4,6,n[o.field],"1.2-2"):n[o.field])}}function pt(e,t){if(1&e&&(u.Vb(0,"tr",37),u.Kc(1,bt,5,12,"td",38),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.oc("pSelectableRow",o),u.Eb(1),u.oc("ngForOf",n.columns)}}function mt(e,t){if(1&e&&(u.Vb(0,"tr"),u.Vb(1,"td",41),u.Mc(2),u.Ub(),u.Ub()),2&e){var o=u.gc();u.Eb(2),u.Nc(o.noData)}}var ft,yt,vt=a("+yMW"),Ct=((ft=function(){function e(t,n,i,a,l){o(this,e),this.ayaraForecastActualRepService=t,this.rmanLookupsVService=n,this.commonSharedService=i,this.notificationService=a,this.location=l,this.columns=[],this.periodTypesList=[],this.rmanLookupsVList=[],this.noData=vt.noData,this.collapsed=!1,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.exportCols=[],this.disableExport=!0,this.getAllAyaraForecastActualRep(),this.paginationOptions={pageNumber:0,pageSize:"10000"}}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.rowCount=20,this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"ACCOUNT_PERIOD_TYPE"}).then((function(t){e.rmanLookupsVList=t.content,e.prepareRmanLookupsVObject()}))}},{key:"goToOperationReports",value:function(){this.location.back()}},{key:"onBeforeToggle",value:function(e){this.collapsed=e.collapsed}},{key:"paginate",value:function(e){this.loading=!0,this.ayaraForecastActualRepList=this.ayaraForecastActualList.slice(e.first,e.first+10),this.loading=!1}},{key:"onRowSelect",value:function(e){}},{key:"getAllAyaraForecastActualRep",value:function(){var e=this;this.loading=!0,this.ayaraForecastActualRepService.getAyaraForecastActualRep(this.periodType).then((function(t){e.ayaraForecastActualRepList=t.Content,e.ayaraForecastActualList=t.Content;var o=e.ayaraForecastActualRepList[0];for(var n in e.columns=[],o)e.columns.push({field:n,header:n,style:{width:"100px","text-align":"right"},display:"table-cell",showField:!0,text:"right",drag:!0});for(var i=["PRODUCT_NAME","FA_CATEGORY"],a=0;a<e.columns.length;a++)e.columns[a].text=-1==i.indexOf(e.columns[a].header)?"right":"left";e.ayaraForecastActualRepList=t.Content.slice(0,10),e.totalRecords=t.Content.length,e.loading=!1,console.log(e.columns),e.disableExport=!1})).catch((function(t){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"showDialogToSearch",value:function(){this.periodType="",this.displayDialog=!0}},{key:"exportCSVfile",value:function(){this.exportCols=[];for(var e=0;e<this.columns.length;e++)this.columns[e].showField&&this.exportCols.push(this.columns[e].header.replace(/[#$/()]/g,""));var t=this.ayaraForecastActualRepService.exportAyaraForecastActualRepFile(this.periodType,this.exportCols);window.location.href=t}},{key:"prepareRmanLookupsVObject",value:function(){var e=[];e.push({label:"--Select Account Period Type--",value:null}),this.rmanLookupsVList.forEach((function(t){e.push({label:t.lookupDescription,value:t.lookupCode})})),this.rmanLookupsV=e}},{key:"search",value:function(){this.getAllAyaraForecastActualRep(),this.displayDialog=!1}},{key:"reset",value:function(e){this.periodType="",this.getAllAyaraForecastActualRep(),this.displayDialog=!1}},{key:"fieldType",value:function(e){return typeof e}},{key:"isDateField",value:function(e){return-1!=e.search("Date")}}]),e}()).\u0275fac=function(e){return new(e||ft)(u.Pb(lt),u.Pb(De.a),u.Pb(s.a),u.Pb(c.a),u.Pb(h.k))},ft.\u0275cmp=u.Jb({type:ft,selectors:[["ayaraForecastActualRep-data"]],features:[u.Db([lt,De.a])],decls:37,vars:18,consts:[[1,"content-section","implementation"],[1,"card-wrapper","waterfall-detail-report"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["header","Forecast Actual Details Report By Product",3,"toggleable","onBeforeToggle"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-reply"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Export",3,"click",4,"ngIf"],[1,"x-scroll","mb-2"],["id","ayaraForecastActualsRep-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","lazy","paginator","rows","totalRecords","columns","resizableColumns","onRowSelect"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["id","paginator-c",3,"rows","totalRecords","onPageChange"],["header","Search","width","800","showEffect","fade",3,"visible","closable","draggable","modal"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"selectSpan"],["name","periodType","id","periodType","appendTo","body",3,"options","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","reset","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["title","Export",3,"click"],[1,"fa","fa-external-link"],[4,"ngFor","ngForOf"],["style","width:100px","pResizableColumn","",3,"ngStyle",4,"ngFor","ngForOf"],["pResizableColumn","",2,"width","100px",3,"ngStyle"],[3,"pSelectableRow"],["style","width:100px",3,"ngStyle",4,"ngFor","ngForOf"],[2,"width","100px",3,"ngStyle"],[3,"title"],[1,"no-data"]],template:function(e,t){if(1&e){var o=u.Wb();u.Qb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"div",5),u.Vb(6,"p-panel",6),u.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),u.Vb(7,"p-header"),u.Vb(8,"div",7),u.Vb(9,"a",8),u.dc("click",(function(){return t.goToOperationReports()})),u.Qb(10,"em",9),u.Mc(11,"Back"),u.Ub(),u.Vb(12,"a",10),u.dc("click",(function(){return t.showDialogToSearch()})),u.Qb(13,"em",11),u.Ub(),u.Vb(14,"a",12),u.dc("click",(function(){u.Dc(o);var e=u.Bc(19);return t.reset(e)})),u.Qb(15,"em",13),u.Ub(),u.Kc(16,st,2,0,"a",14),u.Ub(),u.Ub(),u.Vb(17,"div",15),u.Vb(18,"p-table",16,17),u.dc("onRowSelect",(function(e){return t.onRowSelect(e)})),u.Kc(20,dt,2,1,"ng-template",18),u.Kc(21,gt,2,1,"ng-template",19),u.Kc(22,pt,2,2,"ng-template",20),u.Kc(23,mt,3,1,"ng-template",21),u.Ub(),u.Ub(),u.Vb(24,"p-paginator",22),u.dc("onPageChange",(function(e){return t.paginate(e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(25,"p-dialog",23),u.Vb(26,"form"),u.Vb(27,"div",24),u.Vb(28,"div",25),u.Vb(29,"div",26),u.Vb(30,"span",27),u.Mc(31,"Period Type"),u.Ub(),u.Vb(32,"p-dropdown",28),u.dc("ngModelChange",(function(e){return t.periodType=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(33,"p-footer"),u.Vb(34,"div",29),u.Vb(35,"button",30),u.dc("click",(function(){return t.search()})),u.Ub(),u.Vb(36,"button",31),u.dc("click",(function(){u.Dc(o);var e=u.Bc(19);return t.reset(e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub()}2&e&&(u.Eb(6),u.oc("toggleable",!1),u.Eb(10),u.oc("ngIf",!t.disableExport),u.Eb(2),u.oc("loading",t.loading)("value",t.ayaraForecastActualRepList)("lazy",!0)("paginator",!1)("rows",t.rowCount)("totalRecords",t.totalRecords)("columns",t.columns)("resizableColumns",!0),u.Eb(6),u.oc("rows",9)("totalRecords",t.totalRecords),u.Eb(1),u.oc("visible",t.displayDialog)("closable",!1)("draggable",!0)("modal",!0),u.Eb(7),u.oc("options",t.rmanLookupsV)("ngModel",t.periodType))},directives:[C.a,A.c,h.o,S.j,A.f,rt.a,M.a,R.v,R.l,R.m,se.a,R.k,R.n,A.b,D.b,h.n,S.g,h.p,S.i],pipes:[h.f,h.g],encapsulation:2}),ft.\u0275prov=u.Lb({token:ft,factory:ft.\u0275fac}),ft),At=a("+yMW"),St={headers:new d.f({"Content-Type":"application/json"})},Mt=((yt=function(){function e(t,n){o(this,e),this.http=t,this.datePipe=n}return i(e,[{key:"getServiceUrl",value:function(e,t,o,n){var i=At.apiUrl+"/rmanTrxDetailReportExport?";0==n&&(i=At.apiUrl+"/rmanTrxDetailReportSearch?");var a="";return null!=t.sno&&""!=t.sno&&(a=a+"sno:"+t.sno+","),null!=t.dealArrangementId&&""!=t.dealArrangementId&&(a=a+"dealArrangementId:"+t.dealArrangementId+","),null!=t.dealArrangementNumber&&""!=t.dealArrangementNumber&&(a=a+"dealArrangementNumber:"+t.dealArrangementNumber+","),null!=t.dealArrangementName&&""!=t.dealArrangementName&&(a=a+"dealArrangementName:"+t.dealArrangementName+","),null!=t.arrangementType&&""!=t.arrangementType&&(a=a+"arrangementType:"+t.arrangementType+","),null!=t.customerName&&""!=t.customerName&&(a=a+"customerName:"+t.customerName+","),null!=t.customerNumber&&""!=t.customerNumber&&(a=a+"customerNumber:"+t.customerNumber+","),null!=t.salesTheater&&""!=t.salesTheater&&(a=a+"salesTheater:"+t.salesTheater+","),null!=t.region&&""!=t.region&&(a=a+"region:"+t.region+","),null!=t.territory&&""!=t.territory&&(a=a+"territory:"+t.territory+","),null!=t.dealNumber&&""!=t.dealNumber&&(a=a+"dealNumber:"+t.dealNumber+","),null!=t.dealLineNumber&&""!=t.dealLineNumber&&(a=a+"dealLineNumber:"+t.dealLineNumber+","),null!=t.productName&&""!=t.productName&&(a=a+"productName:"+t.productName+","),null!=t.productDescription&&""!=t.productDescription&&(a=a+"productDescription:"+t.productDescription+","),null!=t.itemType&&""!=t.itemType&&(a=a+"itemType:"+t.itemType+","),null!=t.po&&""!=t.po&&(a=a+"po:"+t.po+","),null!=t.orderNumber&&""!=t.orderNumber&&(a=a+"orderNumber:"+t.orderNumber+","),null!=t.sourceLineNumber&&""!=t.sourceLineNumber&&(a=a+"sourceLineNumber:"+t.sourceLineNumber+","),null!=t.serviceStartDate&&""!=t.serviceStartDate&&(a=a+"serviceStartDate:"+t.serviceStartDate+","),null!=t.serviceEndDate&&""!=t.serviceEndDate&&(a=a+"serviceEndDate:"+t.serviceEndDate+","),null!=t.orderedQuantity&&""!=t.orderedQuantity&&(a=a+"orderedQuantity:"+t.orderedQuantity+","),null!=t.shippedQty&&""!=t.shippedQty&&(a=a+"shippedQty:"+t.shippedQty+","),null!=t.unitSellingPrice&&""!=t.unitSellingPrice&&(a=a+"unitSellingPrice:"+t.unitSellingPrice+","),null!=t.unitListPrice&&""!=t.unitListPrice&&(a=a+"unitListPrice:"+t.unitListPrice+","),null!=t.transactionPrice&&""!=t.transactionPrice&&(a=a+"transactionPrice:"+t.transactionPrice+","),null!=t.allocatedPrice&&""!=t.allocatedPrice&&(a=a+"allocatedPrice:"+t.allocatedPrice+","),null!=t.revenueRecognize&&""!=t.revenueRecognize&&(a=a+"revenueRecognize:"+t.revenueRecognize+","),null!=t.billedAmount&&""!=t.billedAmount&&(a=a+"billedAmount:"+t.billedAmount),null!=t.fromArrgId&&null!=t.fromArrgId&&(a=a+"dealArrangementId>"+t.fromArrgId+","),null!=t.toArrgId&&null!=t.toArrgId&&(a=a+"dealArrangementId<"+t.toArrgId+","),null!=t.fromPeriod&&null!=t.fromPeriod&&(a=a+"lastArrgModifiedDate>"+this.datePipe.transform(t.fromPeriod,"yyyyMMdd")+","),null!=t.toPeriod&&null!=t.toPeriod&&(a=a+"lastArrgModifiedDate<"+this.datePipe.transform(t.toPeriod,"yyyyMMdd")+","),null!=t.periodName&&""!=t.periodName&&(a=a+"periodName:"+t.periodName+","),null!=t.activeFlag&&""!=t.activeFlag&&(a=a+"activeFlag:"+t.activeFlag+","),null!=t.backlog&&""!=t.backlog&&(a=a+"backlog:"+t.backlog+","),null!=t.salesContractNumber&&""!=t.salesContractNumber&&(a=a+"salesContractNumber:"+t.salesContractNumber+","),null!=t.entityName&&""!=t.entityName&&(a=a+"entityName:"+t.entityName+","),null!=t.productFamily&&""!=t.productFamily&&(a=a+"productFamily:"+t.productFamily+","),null!=t.productLine&&""!=t.productLine&&(a=a+"productLine:"+t.productLine+","),null!=t.assetId&&""!=t.assetId&&(a=a+"assetId:"+t.assetId+","),""==a?i+="search=%25":i=i+"search="+a,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(i=i+"&page="+e.pageNumber+"&size="+e.pageSize),null!=o&&""!=o&&(i=i+"&exportCols="+o),i}},{key:"getAllRmanTrxDetailReport",value:function(e,t,o){var n=this.getServiceUrl(e,t,o,0);return this.http.get(n).toPromise().then((function(e){return e}))}},{key:"getPeriodNameList",value:function(e){var t=At.apiUrl+"/rmanFiscalPeriodsSearch?",o="";return e&&(o=o+"periodName:"+e),""==o?t+="search=%25":t=t+"search="+o,this.http.get(t).toPromise().then((function(e){return e}))}},{key:"searchRmanTrxDetailReport",value:function(e){return this.http.get(At.apiUrl+"/RMAN_TRX_DETAIL_REPORT/search/findBySnoAndDealArrangementIdAndDealArrangementNumberAndDealArrangementNameAndArrangementTypeAndCustomerNameAndCustomerNumberAndSalesTheaterAndRegionAndTerritoryAndDealNumberAndDealLineNumberAndProductNameAndProductDescriptionAndItemTypeAndPoAndOrderNumberAndSourceLineNumberAndServiceStartDateAndServiceEndDateAndOrderedQuantityAndShippedQtyAndUnitSellingPriceAndUnitListPriceAndTransactionPriceAndAllocatedPriceAndRevenueRecognizeAndBilledAmount?sno="+e.sno+"&dealArrangementId="+e.dealArrangementId+"&dealArrangementNumber="+e.dealArrangementNumber+"&dealArrangementName="+e.dealArrangementName+"&arrangementType="+e.arrangementType+"&customerName="+e.customerName+"&customerNumber="+e.customerNumber+"&salesTheater="+e.salesTheater+"&region="+e.region+"&territory="+e.territory+"&dealNumber="+e.dealNumber+"&dealLineNumber="+e.dealLineNumber+"&productName="+e.productName+"&productDescription="+e.productDescription+"&itemType="+e.itemType+"&po="+e.po+"&orderNumber="+e.orderNumber+"&sourceLineNumber="+e.sourceLineNumber+"&serviceStartDate="+e.serviceStartDate+"&serviceEndDate="+e.serviceEndDate+"&orderedQuantity="+e.orderedQuantity+"&shippedQty="+e.shippedQty+"&unitSellingPrice="+e.unitSellingPrice+"&unitListPrice="+e.unitListPrice+"&transactionPrice="+e.transactionPrice+"&allocatedPrice="+e.allocatedPrice+"&revenueRecognize="+e.revenueRecognize+"&billedAmount="+e.billedAmount).toPromise().then((function(e){return e}))}},{key:"saveRmanTrxDetailReport",value:function(e){var t=JSON.stringify(e);return this.http.post(At.apiUrl+"/RMAN_TRX_DETAIL_REPORT",t,St).toPromise().then((function(e){return e}))}},{key:"updateRmanTrxDetailReport",value:function(e){delete e._links,delete e.interests;var t=JSON.stringify(e);return this.http.put(At.apiUrl+"/RMAN_TRX_DETAIL_REPORT/"+e.sno,t,St).toPromise().then((function(e){return e}))}},{key:"deleteRmanTrxDetailReport",value:function(e){return this.http.delete(At.apiUrl+"/RMAN_TRX_DETAIL_REPORT/"+e.sno,St).toPromise().then((function(e){return e}))}},{key:"periodSet",value:function(e){return null!=e&&""!=e?At.apiUrl+"/revmantra/setcurrentPeriod?asOfPeriod="+e:At.apiUrl+"/revmantra/setcurrentPeriod?asOfPeriod="}},{key:"fetchRCNumbers",value:function(e){return this.http.get(At.apiUrl+"/fetchAllRC?rc="+e).toPromise().then((function(e){return e}))}}]),e}()).\u0275fac=function(e){return new(e||yt)(u.Zb(d.b),u.Zb(h.f))},yt.\u0275prov=u.Lb({token:yt,factory:yt.\u0275fac}),yt);function Rt(e,t){if(1&e){var o=u.Wb();u.Vb(0,"a",49),u.dc("click",(function(){return u.Dc(o),u.gc(2).exportExcel()})),u.Qb(1,"em",50),u.Ub()}}function Vt(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",63),u.dc("onDragStart",(function(){u.Dc(o);var e=u.gc().index;return u.gc(3).onDragStart(e)}))("onDrop",(function(){u.Dc(o);var e=u.gc().index;return u.gc(3).onDrop(e)})),u.Vb(2,"div",64),u.Vb(3,"input",65),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(3).selectColumns(e)})),u.Ub(),u.Vb(4,"label"),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField),u.Eb(2),u.Nc(n.header)}}var wt=function(){return{color:"grey"}};function Ut(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",66),u.Vb(2,"div"),u.Vb(3,"input",67),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(3).selectColumns(e)})),u.Ub(),u.Vb(4,"label",68),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField)("disabled",!n.drag),u.Eb(1),u.oc("ngStyle",u.rc(5,wt)),u.Eb(1),u.Nc(n.header)}}function Dt(e,t){if(1&e&&(u.Kc(0,Vt,6,3,"div",62),u.Kc(1,Ut,6,6,"div",62)),2&e){var o=t.$implicit;u.oc("ngIf",o.drag),u.Eb(1),u.oc("ngIf",!o.drag)}}var kt=function(){return{width:"100%",height:"100%"}};function Nt(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",51),u.Vb(1,"div",52),u.Vb(2,"div",53),u.Vb(3,"input",54),u.dc("click",(function(){return u.Dc(o),u.gc(2).onSelectAll()})),u.Ub(),u.Vb(4,"label",55),u.Mc(5,"Select All"),u.Ub(),u.Vb(6,"a",56),u.dc("click",(function(e){return u.Dc(o),u.gc(2).closeConfigureColumns(e)})),u.Mc(7,"\xd7"),u.Ub(),u.Vb(8,"p-listbox",57),u.Kc(9,Dt,2,2,"ng-template",58),u.Ub(),u.Ub(),u.Vb(10,"div",59),u.Vb(11,"a",60),u.dc("click",(function(){return u.Dc(o),u.gc(2).saveColumns()})),u.Mc(12,"Save"),u.Ub(),u.Vb(13,"a",61),u.dc("click",(function(e){return u.Dc(o),u.gc(2).closeConfigureColumns(e)})),u.Mc(14,"Cancel"),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc(2);u.Eb(3),u.oc("checked",n.isSelectAllChecked),u.Eb(5),u.Ic(u.rc(4,kt)),u.oc("options",n.globalCols)}}function Ft(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",39),u.Vb(1,"a",40),u.dc("click",(function(){return u.Dc(o),u.gc().goToOperationReports()})),u.Qb(2,"em",41),u.Mc(3,"Back"),u.Ub(),u.Vb(4,"a",40),u.dc("click",(function(e){return u.Dc(o),u.gc().onConfiguringColumns(e)})),u.Qb(5,"em",42),u.Mc(6,"Columns"),u.Ub(),u.Vb(7,"a",43),u.dc("click",(function(){return u.Dc(o),u.gc().showDialogToSearch()})),u.Qb(8,"em",44),u.Ub(),u.Vb(9,"a",45),u.dc("click",(function(){u.Dc(o);var e=u.gc(),t=u.Bc(11);return e.reset(t)})),u.Qb(10,"em",46),u.Ub(),u.Kc(11,Rt,2,0,"a",47),u.Kc(12,Nt,15,5,"div",48),u.Ub()}if(2&e){var n=u.gc();u.Eb(11),u.oc("ngIf",!n.disableExport),u.Eb(1),u.oc("ngIf",!n.showAddColumns)}}function xt(e,t){1&e&&u.Qb(0,"col")}function Et(e,t){if(1&e&&(u.Vb(0,"colgroup"),u.Kc(1,xt,1,0,"col",69),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngForOf",o)}}var Tt=function(e){return{display:e}};function Lt(e,t){if(1&e&&(u.Vb(0,"th",72),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit;u.pc("title",o.header),u.oc("ngStyle",u.sc(3,Tt,o.display)),u.Eb(1),u.Nc(o.header)}}function Pt(e,t){if(1&e&&(u.Vb(0,"th",73),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit;u.pc("title",o.header),u.oc("ngStyle",u.sc(3,Tt,o.display)),u.Eb(1),u.Nc(o.header)}}function Ot(e,t){if(1&e&&(u.Tb(0),u.Kc(1,Lt,2,5,"th",70),u.Kc(2,Pt,2,5,"th",71),u.Sb()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngIf","text"==o.type||"date"==o.type),u.Eb(1),u.oc("ngIf","number"==o.type||"round"==o.type||"link"==o.type)}}function It(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,Ot,3,2,"ng-container",69),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngForOf",o.columns)}}function Bt(e,t){if(1&e&&(u.Vb(0,"td",77),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",n[o.field]),u.oc("ngStyle",u.sc(3,Tt,o.display)),u.Eb(1),u.Oc(" ",n[o.field]," ")}}function zt(e,t){if(1&e&&(u.Vb(0,"td",78),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",n[o.field]),u.oc("ngStyle",u.sc(3,Tt,o.display)),u.Eb(1),u.Oc(" ",n[o.field]," ")}}function Qt(e,t){if(1&e&&(u.Vb(0,"td",77),u.hc(1,"date"),u.Mc(2),u.hc(3,"date"),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",u.jc(1,3,n[o.field],"MM/dd/yyyy")),u.oc("ngStyle",u.sc(9,Tt,o.display)),u.Eb(2),u.Oc(" ",u.jc(3,6,n[o.field],"MM/dd/yyyy")," ")}}function $t(e,t){if(1&e&&(u.Vb(0,"td",78),u.hc(1,"round"),u.Mc(2),u.hc(3,"round"),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",u.ic(1,3,n[o.field])),u.oc("ngStyle",u.sc(7,Tt,o.display)),u.Eb(2),u.Oc(" ",u.ic(3,5,n[o.field])," ")}}function Kt(e,t){if(1&e&&(u.Tb(0),u.Kc(1,Bt,2,5,"td",75),u.Kc(2,zt,2,5,"td",76),u.Kc(3,Qt,4,11,"td",75),u.Kc(4,$t,4,9,"td",76),u.Sb()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngIf","text"==o.type),u.Eb(1),u.oc("ngIf","number"==o.type),u.Eb(1),u.oc("ngIf","date"==o.type),u.Eb(1),u.oc("ngIf","round"==o.type)}}function _t(e,t){if(1&e&&(u.Vb(0,"tr",74),u.Kc(1,Kt,5,4,"ng-container",69),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.oc("pSelectableRow",o),u.Eb(1),u.oc("ngForOf",n.columns)}}function qt(e,t){if(1&e&&(u.Vb(0,"tr"),u.Vb(1,"td",79),u.Mc(2),u.Ub(),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.Eb(1),u.Fb("colspan",o.length),u.Eb(1),u.Nc(n.noData)}}var Wt,jt=function(){return{standalone:!0}},Jt=a("+yMW"),Ht=((Wt=function(){function e(t,n,i,a,l,r,s,c,d){var u=this;o(this,e),this.rmanTrxDetailReportService=t,this.formBuilder=n,this.location=i,this.commonSharedService=a,this.notificationService=l,this.rmanCustomersService=r,this.rmanLookupCodesService=s,this.rmanLegalEntitiesService=c,this.rmanFiscalPeriodsService=d,this.rmanTrxDetailReport={},this.rmanTrxDetailReportSearch={},this.isSerached=0,this.exportFlag=0,this.paginationOptions={},this.rmanLookupsVList=[],this.collapsed=!0,this.searchFields={},this.noData=Jt.noData,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.exportCols=[],this.disableExport=!0,this.customerNames=[],this.customerNumbers=[],this.regions=[],this.legalEntities=[],this.productFamilies=[],this.productLines=[],this.dealArrangementNumbers=[],this.currentPeriod={},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.periodNamePlaceHolder="",this.backlogOptions=[{label:"Select Backlog",value:null},{label:"Yes",value:"Y"},{label:"No",value:"N"}],this.rmanFiscalPeriodsService.getCurrentfiscalperiod().then((function(e){u.currentPeriod=e}))}return i(e,[{key:"ngOnInit",value:function(){this.globalCols=[{field:"dealArrangementNumber",header:"Revenue Contract Number",showField:!0,display:"table-cell",type:"number",drag:!1},{field:"dealArrangementName",header:"Revenue Contract",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"note",header:"Note Transaction Type",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"contApply",header:"Cont Apply",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"elementType",header:"Element Type",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"customerNumber",header:"Customer Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"customerName",header:"Customer Name",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"po",header:"PO#",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"orderNumber",header:"Order Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"invoiceNumber",header:"Invoice Number",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"deliveredDate",header:"Delivered Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"arrangementType",header:"Revenue Contract Type",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"salesTheater",header:"Sales Theater",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"region",header:"Billing Region",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"territory",header:"Sales Territory",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"dealNumber",header:"Deal Number",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"dealLineNumber",header:"Line Number",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"salesrep",header:"Sales Rep",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"sourceHeaderId",header:"Source Header Id",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"sourceLineId",header:"Source Line Id",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"sourceLineNumber",header:"Order Line Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"productName",header:"Product Name",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"lineStatus",header:"Line Status",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"orderedQuantity",header:"Booked Quantity",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"bookedCurrency",header:"Currency",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"bookedDate",header:"Ready for Activation Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"unitListPrice",header:"Unit List Price",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"unitSellingPrice",header:"Unit Selling Price",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"transactionPrice",header:"Net Price",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"discountPercent",header:"Discount or Premium%",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"productPorfolio",header:"Product Porfolio",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"productFamily",header:"Product Family",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"productLine",header:"Product Line",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"division",header:"Division",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"serviceStartDate",header:"Service Start Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"serviceEndDate",header:"Service End Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"sspMin",header:"SSP Min",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"sspMean",header:"SSP Mean",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"sspMax",header:"SSP Max",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"sspHigh",header:"SSP High",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"sspLow",header:"SSP Low",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"ssp",header:"SSP",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"fmvAmount",header:"Extended SSP",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"fxRate",header:"Fx Rate",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"fxCurrency",header:"Fx Currency",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"fxDate",header:"Fx Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"allocationAmount",header:"Allocation Amount (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"allocationAmountFc",header:"Allocation Amount (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"shippedQty",header:"Shipped Quantity",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"deliveredAmount",header:"Delivered Amount (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"invoiceLineNumber",header:"Invoice Line Number",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"invoiceQuantity",header:"Invoice Quantity",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"invoiceCurrency",header:"Invoice Currency",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"invoiceDate",header:"Invoice Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"billedAmount",header:"Invoice Amt(TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"billedAmountFc",header:"Billed Amount (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"deliveredAllocAmount",header:"Delivered Allocated Price (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"deliveredAllocAmountFc",header:"Delivered Allocated Price (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"cancelledQty",header:"Cancelled Qty",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"cancelledDate",header:"Cancelled Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"contractModifiedDate",header:"Contract Modified Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"deferredAmount",header:"Revenue Deferred(TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"deferredAmountFc",header:"Revenue Deferred(FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"contReleaseDate",header:"Contingency Release Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"contractAsset",header:"Contract Asset (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"contractLiability",header:"Contract Liability (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"deferredRevenue",header:"Deferred Revenue (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"clearing",header:"Invoice Revenue (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"contractAssetFc",header:"Contract Asset (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"contractLiabilityFc",header:"Contract Liability (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"deferredRevenueFc",header:"Deferred Revenue (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"clearingFc",header:"Invoice Revenue (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"beginBal",header:"Revenue Beginning Balance (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"currBal",header:"Revenue Current Balance (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"endBal",header:"Revenue Ending Balance (TC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"beginBalFc",header:"Revenue Begin Balance (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"currBalFc",header:"Revenue Current Balance (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"endBalFc",header:"Revenue End Balance (FC)",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"quarterName",header:"Quarter Name",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"periodName",header:"Period Name",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"backlog",header:"Backlog",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"exceptionMessage",header:"Exception Message",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"chargeType",header:"Charge Type",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"salesContractNumber",header:"Sales Contract Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"assetId",header:"Asset ID",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"assetNumber",header:"Asset Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"primaryLineNumber",header:"Primary Line Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"itemSequenceNumber",header:"Item Sequence Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"revenueTerm",header:"Revenue Term in Months",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"sellingTerm",header:"Selling Term",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"entityName",header:"Billing Company",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"bundlePercent",header:"POB Split %",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"revrecStartDate",header:"Revrec Start Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"revrecEndDate",header:"Revrec End Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"expectedStartDate",header:"Forecast Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"extendedListAmount",header:"Extended List Amount",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"revenueTermDays",header:"Revenue Term in Days",showField:!0,display:"table-cell",type:"number",drag:!0},{field:"bundleIdentifier",header:"Line Type",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"bundleParentLineNumber",header:"Bundle Parent Line Number",showField:!0,display:"table-cell",type:"text",drag:!0}],this.columns=[],this.getTableColumns("rmanTrxDetailReport","Transaction Details Report"),this.buildForm()}},{key:"getTableColumns",value:function(e,t){var o=this;this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then((function(e){if(e&&null!=e&&e.userId){o.columns=[];var t=e.tableColumns.split(",");t.length>0&&t.forEach((function(e,t){e&&(o.startIndex=o.globalCols.findIndex((function(t){return t.field==e})),o.onDrop(t))})),o.globalCols.forEach((function(t){-1!==e.tableColumns.indexOf(t.field)?o.columns.push(t):t.showField=!1})),o.columns.length!=o.globalCols.length&&(o.isSelectAllChecked=!1),o.showPaginator=0!==o.columns.length,o.userId=e.userId}else o.columns=o.globalCols})).catch((function(){o.notificationService.showError("Error occured while getting table columns data"),o.loading=!1}))}},{key:"saveColumns",value:function(){var e=this,t="";this.showAddColumns=!this.showAddColumns;var o=this.globalCols.length-1;this.globalCols.forEach((function(e,n){e.showField&&(t+=e.field,n<o&&(t+=","))})),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("rmanTrxDetailReport","Transaction Details Report",t,this.userId).then((function(t){e.columns=e.globalCols.filter((function(e){return e.showField})),e.userId=t.userId,e.showPaginator=0!==e.columns.length,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"onDragStart",value:function(e){this.startIndex=e}},{key:"onDrop",value:function(e){var t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}},{key:"selectColumns",value:function(e){var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"onConfiguringColumns",value:function(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}},{key:"closeConfigureColumns",value:function(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"goToOperationReports",value:function(){this.location.back()}},{key:"filterPeriodName",value:function(e){var t=this;this.rmanTrxDetailReportService.getPeriodNameList(e.query).then((function(e){t.filteredPeriodNameList=e.content.map((function(e){return e.periodName}))})).catch((function(e){t.filteredPeriodNameList=[]}))}},{key:"getAllRmanTrxDetailReport",value:function(){var e=this;this.loading=!0,this.rmanTrxDetailReportService.getAllRmanTrxDetailReport(this.paginationOptions,this.searchFields,this.exportCols).then((function(t){e.datasource=t.content,e.rmanTrxDetailReportList=t.content,e.totalElements=t.totalElements,e.pageSize=t.size,e.displaySearchDialog=!1,e.loading=!1,e.disableExport=!1})).catch((function(t){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"getRmanTrxDetailReport",value:function(e){var t=this;this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.rmanTrxDetailReportService.getAllRmanTrxDetailReport(this.paginationOptions,this.searchFields,this.exportCols).then((function(e){t.datasource=e.content,t.rmanTrxDetailReportList=e.content,t.totalElements=e.totalElements,t.pageSize=e.size,t.loading=!1,t.disableExport=!1})).catch((function(e){t.notificationService.showError("Error occured while getting data"),t.loading=!1}))}},{key:"buildForm",value:function(){this.transactionReportForm=this.formBuilder.group({dealArrangementId:[""],dealArrangementNumber:[""],dealArrangementName:[""],arrangementType:[""],customerName:[""],customerNumber:[""],salesTheater:[""],region:[""],territory:[""],dealNumber:[""],dealLineNumber:[""],productName:[""],productDescription:[""],itemType:[""],po:[""],orderNumber:[""],sourceLineNumber:[""],serviceStartDate:[""],serviceEndDate:[""],orderedQuantity:[""],shippedQty:[""],unitSellingPrice:[""],unitListPrice:[""],transactionPrice:[""],allocatedPrice:[""],revenueRecognize:[""],billedAmount:[],ssp:[],fmvAmount:[]})}},{key:"exportExcel",value:function(){this.exportCols=[];for(var e=0;e<this.columns.length;e++)this.columns[e].showField&&this.exportCols.push(this.columns[e].field);this.loading=!0;var t=this.rmanTrxDetailReportService.getServiceUrl(this.paginationOptions,this.searchFields,this.exportCols,1);window.location.href=t,this.loading=!1}},{key:"showDialogToAdd",value:function(){this.newRmanTrxDetailReport=!0,this.rmanTrxDetailReport=new Gt,this.displayDialog=!0}},{key:"onBeforeToggle",value:function(e){this.collapsed=e.collapsed}},{key:"reset",value:function(e){this.paginationOptions={},this.rmanTrxDetailReport={},this.searchFields={},e.reset(),this.isSerached=0}},{key:"save",value:function(){var e=this;this.newRmanTrxDetailReport?this.rmanTrxDetailReportService.saveRmanTrxDetailReport(this.rmanTrxDetailReport).then((function(t){e.getAllRmanTrxDetailReport()})):this.rmanTrxDetailReportService.updateRmanTrxDetailReport(this.rmanTrxDetailReport).then((function(t){e.getAllRmanTrxDetailReport()})),this.rmanTrxDetailReport=new Gt,this.displayDialog=!1}},{key:"delete",value:function(e){var t=this;this.rmanTrxDetailReport=e,this.displayDialog=!1,window.confirm("Are you sure you want to delete this record?")&&(this.rmanTrxDetailReportList.splice(this.findSelectedRmanTrxDetailReportIndex(),1),this.rmanTrxDetailReportService.deleteRmanTrxDetailReport(this.rmanTrxDetailReport).then((function(e){t.rmanTrxDetailReport=new Gt,t.getAllRmanTrxDetailReport()})))}},{key:"editRow",value:function(e){this.newRmanTrxDetailReport=!1,this.rmanTrxDetailReport=this.cloneRmanTrxDetailReport(e),this.displayDialog=!0}},{key:"findSelectedRmanTrxDetailReportIndex",value:function(){return this.rmanTrxDetailReportList.indexOf(this.selectedRmanTrxDetailReport)}},{key:"onRowSelect",value:function(e){}},{key:"cloneRmanTrxDetailReport",value:function(e){var t=new Gt;for(var o in e)t[o]=e[o];return t}},{key:"toggleColumnMenu",value:function(){this.hideColumnMenu=!this.hideColumnMenu}},{key:"toggleFilterBox",value:function(){this.showFilter=!this.showFilter}},{key:"showDialogToSearch",value:function(){this.rmanTrxDetailReportSearch={},this.searchFields={},this.displaySearchDialog=!0,0==this.isSerached&&(this.searchFields.fromPeriod=new Date(this.currentPeriod.startDate),this.searchFields.toPeriod=new Date(this.currentPeriod.endDate))}},{key:"search",value:function(){this.isSerached=1,this.rmanTrxDetailReport=this.searchFields,this.paginationOptions={},this.displaySearchDialog=!1,this.getAllRmanTrxDetailReport()}},{key:"searchCustomerNames",value:function(e){var t=this;this.rmanCustomersService.getAllRmanCustomers(this.paginationOptions,{customerName:e.query},!1).then((function(e){t.customerNames=e.content.map((function(e){return e.customerName}))})).catch((function(e){t.customerNames=[]}))}},{key:"searchCustomerNumbers",value:function(e){var t=this;this.rmanCustomersService.getAllRmanCustomers(this.paginationOptions,{customerNumber:e.query},!1).then((function(e){t.customerNumbers=e.content.map((function(e){return e.customerNumber}))})).catch((function(e){t.customerNumbers=[]}))}},{key:"searchRegions",value:function(e){var t=this;this.rmanLookupCodesService.getAllRmanLookupCodes(this.paginationOptions,{lookupTypeCode:"REGIONS",enabledFlag:"Y",lookupCode:e.query}).then((function(e){t.regions=e.content.map((function(e){return e.lookupCode}))})).catch((function(e){t.regions=[]}))}},{key:"searchLegalEntities",value:function(e){var t=this;this.rmanLegalEntitiesService.getAllRmanLegalEntities(this.paginationOptions,{name:e.query}).then((function(e){t.legalEntities=e.content.map((function(e){return e.name}))})).catch((function(e){t.legalEntities=[]}))}},{key:"searchProductFamilies",value:function(e){var t=this;this.rmanLookupCodesService.getAllRmanLookupCodes(this.paginationOptions,{lookupTypeCode:"PRODUCT_FAMILIES",enabledFlag:"Y",description:e.query}).then((function(e){t.productFamilies=e.content.map((function(e){return e.description}))})).catch((function(e){t.productFamilies=[]}))}},{key:"searchProductLines",value:function(e){var t=this;this.rmanLookupCodesService.getAllRmanLookupCodes(this.paginationOptions,{lookupTypeCode:"PRODUCT_LINES",enabledFlag:"Y",description:e.query}).then((function(e){t.productLines=e.content.map((function(e){return e.description}))})).catch((function(e){t.productLines=[]}))}},{key:"searchRCList",value:function(e){var t=this;this.rmanTrxDetailReportService.fetchRCNumbers(e.query).then((function(e){t.dealArrangementNumbers=e.map((function(e){return e}))})).catch((function(e){t.dealArrangementNumbers=[]}))}}]),e}()).\u0275fac=function(e){return new(e||Wt)(u.Pb(Mt),u.Pb(R.c),u.Pb(h.k),u.Pb(s.a),u.Pb(c.a),u.Pb(m.a),u.Pb(f.a),u.Pb(y.a),u.Pb(v.a))},Wt.\u0275cmp=u.Jb({type:Wt,selectors:[["rmanTrxDetailReport-data"]],features:[u.Db([Mt,m.a,f.a,y.a,v.a])],decls:93,vars:72,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["header","Transaction Details Report",3,"toggleable","onBeforeToggle"],["class","pull-right icons-list",4,"ngIf"],[1,"x-scroll"],["id","trxDetail-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","lazy","paginator","rows","totalRecords","columns","resizableColumns","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Search","width","800","showEffect","fade",3,"visible","draggable","modal","visibleChange"],[3,"ngSubmit"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","RC Number Type atleast 3 Characters","id","from",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],[1,"ui-g-6","pull-right"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","RC Number Type atleast 3 Characters","id","to",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["showAnim","slideDown","inputStyleClass","textbox","name","fromPeriod","id","fromPeriod","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","From Period",3,"monthNavigator","yearNavigator","ngModelOptions","ngModel","ngModelChange"],["showAnim","slideDown","inputStyleClass","textbox","name","toPeriod","id","toPeriod","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","To Period",3,"monthNavigator","yearNavigator","ngModelOptions","ngModel","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Customer Number Type atleast 3 Characters","id","customerNumber",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Customer Name Type atleast 3 Characters","id","customerName",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["pInputText","","name","so","id","so","placeholder","Order Number",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["pInputText","","name","salesContract","id","salesContract","placeholder","Sales Contract Number",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Billing Region Type atleast 2 Characters","id","region",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Billing Company Type atleast 2 Characters","id","entityName",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Product Family Type atleast 2 Characters","id","productFamily",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Product Line Type atleast 2 Characters","id","productLine",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["pInputText","","name","assetId","id","assetId","placeholder","Asset ID",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix","pull-right"],["type","button","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-reply"],[1,"fa","fa-cog"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Export",3,"click",4,"ngIf"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-data"]],template:function(e,t){1&e&&(u.Qb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"div",5),u.Vb(6,"p-panel",6),u.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),u.Vb(7,"p-header"),u.Kc(8,Ft,13,2,"div",7),u.Ub(),u.Vb(9,"div",8),u.Vb(10,"p-table",9,10),u.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getRmanTrxDetailReport(e)})),u.Kc(12,Et,2,1,"ng-template",11),u.Kc(13,It,2,1,"ng-template",12),u.Kc(14,_t,2,2,"ng-template",13),u.Kc(15,qt,3,2,"ng-template",14),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(16,"p-dialog",15),u.dc("visibleChange",(function(e){return t.displaySearchDialog=e})),u.Vb(17,"form",16),u.dc("ngSubmit",(function(){return t.search()})),u.Vb(18,"div",17),u.Vb(19,"div",18),u.Vb(20,"div",19),u.Vb(21,"span",20),u.Vb(22,"span",21),u.Mc(23,"Revenue Contract Number From"),u.Ub(),u.Vb(24,"p-autoComplete",22),u.dc("completeMethod",(function(e){return t.searchRCList(e)}))("ngModelChange",(function(e){return t.searchFields.fromArrgId=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(25,"div",23),u.Vb(26,"span",20),u.Vb(27,"span",21),u.Mc(28,"Revenue Contract Number To"),u.Ub(),u.Vb(29,"p-autoComplete",24),u.dc("completeMethod",(function(e){return t.searchRCList(e)}))("ngModelChange",(function(e){return t.searchFields.toArrgId=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(30,"div",18),u.Vb(31,"div",19),u.Vb(32,"span",21),u.Mc(33,"From Period"),u.Ub(),u.Vb(34,"p-calendar",25),u.dc("ngModelChange",(function(e){return t.searchFields.fromPeriod=e})),u.Ub(),u.Ub(),u.Vb(35,"div",23),u.Vb(36,"span",21),u.Mc(37,"To Period"),u.Ub(),u.Vb(38,"p-calendar",26),u.dc("ngModelChange",(function(e){return t.searchFields.toPeriod=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(39,"div",18),u.Vb(40,"div",19),u.Vb(41,"span",20),u.Vb(42,"span",21),u.Mc(43,"Customer Number"),u.Ub(),u.Vb(44,"p-autoComplete",27),u.dc("completeMethod",(function(e){return t.searchCustomerNumbers(e)}))("ngModelChange",(function(e){return t.searchFields.customerNumber=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(45,"div",23),u.Vb(46,"span",20),u.Vb(47,"span",21),u.Mc(48,"Customer Name"),u.Ub(),u.Vb(49,"p-autoComplete",28),u.dc("completeMethod",(function(e){return t.searchCustomerNames(e)}))("ngModelChange",(function(e){return t.searchFields.customerName=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(50,"div",18),u.Vb(51,"div",19),u.Vb(52,"span",20),u.Vb(53,"span",21),u.Mc(54,"Order Number"),u.Ub(),u.Vb(55,"input",29),u.dc("ngModelChange",(function(e){return t.searchFields.orderNumber=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(56,"div",23),u.Vb(57,"span",20),u.Vb(58,"span",21),u.Mc(59,"Sales Contract Number"),u.Ub(),u.Vb(60,"input",30),u.dc("ngModelChange",(function(e){return t.searchFields.salesContractNumber=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(61,"div",18),u.Vb(62,"div",19),u.Vb(63,"span",20),u.Vb(64,"span",21),u.Mc(65,"Billing Region"),u.Ub(),u.Vb(66,"p-autoComplete",31),u.dc("completeMethod",(function(e){return t.searchRegions(e)}))("ngModelChange",(function(e){return t.searchFields.region=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(67,"div",23),u.Vb(68,"span",20),u.Vb(69,"span",21),u.Mc(70,"Billing Company"),u.Ub(),u.Vb(71,"p-autoComplete",32),u.dc("completeMethod",(function(e){return t.searchLegalEntities(e)}))("ngModelChange",(function(e){return t.searchFields.entityName=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(72,"div",18),u.Vb(73,"div",19),u.Vb(74,"span",20),u.Vb(75,"span",21),u.Mc(76,"Product Family"),u.Ub(),u.Vb(77,"p-autoComplete",33),u.dc("completeMethod",(function(e){return t.searchProductFamilies(e)}))("ngModelChange",(function(e){return t.searchFields.productFamily=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(78,"div",23),u.Vb(79,"span",20),u.Vb(80,"span",21),u.Mc(81,"Product Line"),u.Ub(),u.Vb(82,"p-autoComplete",34),u.dc("completeMethod",(function(e){return t.searchProductLines(e)}))("ngModelChange",(function(e){return t.searchFields.productLine=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(83,"div",18),u.Vb(84,"div",19),u.Vb(85,"span",20),u.Vb(86,"span",21),u.Mc(87,"Asset ID"),u.Ub(),u.Vb(88,"input",35),u.dc("ngModelChange",(function(e){return t.searchFields.assetId=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(89,"p-footer"),u.Vb(90,"div",36),u.Vb(91,"button",37),u.dc("click",(function(){return t.search()})),u.Ub(),u.Vb(92,"button",38),u.dc("click",(function(){return t.displaySearchDialog=!1})),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&e&&(u.Eb(6),u.oc("toggleable",!1),u.Eb(2),u.oc("ngIf",t.collapsed),u.Eb(2),u.oc("loading",t.loading)("value",t.rmanTrxDetailReportList)("lazy",!0)("paginator",t.showPaginator)("rows",t.pageSize)("totalRecords",t.totalElements)("columns",t.columns)("resizableColumns",!0),u.Eb(6),u.oc("visible",t.displaySearchDialog)("draggable",!0)("modal",!0),u.Eb(8),u.oc("suggestions",t.dealArrangementNumbers)("minLength",3)("ngModelOptions",u.rc(59,jt))("ngModel",t.searchFields.fromArrgId),u.Eb(5),u.oc("suggestions",t.dealArrangementNumbers)("minLength",3)("ngModelOptions",u.rc(60,jt))("ngModel",t.searchFields.toArrgId),u.Eb(5),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModelOptions",u.rc(61,jt))("ngModel",t.searchFields.fromPeriod),u.Eb(4),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModelOptions",u.rc(62,jt))("ngModel",t.searchFields.toPeriod),u.Eb(6),u.oc("suggestions",t.customerNumbers)("minLength",3)("ngModelOptions",u.rc(63,jt))("ngModel",t.searchFields.customerNumber),u.Eb(5),u.oc("suggestions",t.customerNames)("minLength",3)("ngModelOptions",u.rc(64,jt))("ngModel",t.searchFields.customerName),u.Eb(6),u.oc("ngModelOptions",u.rc(65,jt))("ngModel",t.searchFields.orderNumber),u.Eb(5),u.oc("ngModelOptions",u.rc(66,jt))("ngModel",t.searchFields.salesContractNumber),u.Eb(6),u.oc("suggestions",t.regions)("minLength",2)("ngModelOptions",u.rc(67,jt))("ngModel",t.searchFields.region),u.Eb(5),u.oc("suggestions",t.legalEntities)("minLength",2)("ngModelOptions",u.rc(68,jt))("ngModel",t.searchFields.entityName),u.Eb(6),u.oc("suggestions",t.productFamilies)("minLength",2)("ngModelOptions",u.rc(69,jt))("ngModel",t.searchFields.productFamily),u.Eb(5),u.oc("suggestions",t.productLines)("minLength",2)("ngModelOptions",u.rc(70,jt))("ngModel",t.searchFields.productLine),u.Eb(6),u.oc("ngModelOptions",u.rc(71,jt))("ngModel",t.searchFields.assetId))},directives:[C.a,A.c,h.o,S.j,A.f,M.a,R.v,R.l,R.m,V.a,R.k,R.n,w.a,R.b,U.a,A.b,D.b,k.a,N.b,N.c,R.a,h.p,h.n,S.g,S.i],pipes:[h.f,F.a],encapsulation:2}),Wt),Gt=function e(t,n,i,a,l,r,s,c,d,u,h,g,b,p,m,f,y,v,C,A,S,M,R,V,w,U,D,k,N,F,x,E,T){o(this,e),this.dealArrangementNumber=t,this.shippedQty=n,this.salesTheater=i,this.territory=a,this.billedAmount=l,this.dealArrangementName=r,this.productDescription=s,this.sno=c,this.revenueRecognize=d,this.unitSellingPrice=u,this.unitListPrice=h,this.serviceStartDate=g,this.dealNumber=b,this.itemType=p,this.dealLineNumber=m,this.customerNumber=f,this.sourceLineNumber=y,this.productName=v,this.allocatedPrice=C,this.dealArrangementId=A,this.region=S,this.arrangementType=M,this.serviceEndDate=R,this.transactionPrice=V,this.customerName=w,this.orderNumber=U,this.orderedQuantity=D,this.po=k,this.periodYear=N,this.quarterName=F,this.periodName=x,this.backlog=E,this.activeFlag=T},Yt=a("PCNd"),Zt=a("PEBV"),Xt=a("jGlT");function eo(e,t){1&e&&(u.Vb(0,"tr"),u.Vb(1,"th"),u.Mc(2,"Report Name"),u.Ub(),u.Qb(3,"th"),u.Ub())}function to(e,t){if(1&e){var o=u.Wb();u.Vb(0,"tr",11),u.Vb(1,"td"),u.Mc(2),u.Ub(),u.Vb(3,"td",12),u.Vb(4,"a",13),u.dc("click",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc().path1(e)})),u.Qb(5,"em",14),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc(),i=n.$implicit;u.oc("pSelectableRow",n.$implicit),u.Eb(2),u.Nc(i.reportName)}}var oo=function(e){return["read",e]};function no(e,t){1&e&&u.Kc(0,to,6,2,"tr",10),2&e&&u.oc("isAuthorized",u.sc(1,oo,t.$implicit.reportCode))}var io,ao,lo=a("+yMW"),ro=((io=function(){function e(t,n){o(this,e),this.router=t,this.reportsService=n,this.reportsList=[],this.noData=lo.noData}return i(e,[{key:"ngOnInit",value:function(){this.getAllReports()}},{key:"getAllReports",value:function(){var e=this;this.loading=!0,this.reportsService.getAllReports("enabledFlag:Y,reportType:OPERATIONAL").then((function(t){e.loading=!1,e.reportsList=t.content}))}},{key:"path1",value:function(e){this.router.navigate([e.reportPath])}},{key:"path",value:function(e){"1"==e.sno&&this.router.navigate(["reports/operational/rmanArrgSummaryRep"]),"2"==e.sno&&this.router.navigate(["reports/operational/rmanTrxDetailReport"]),"3"==e.sno&&this.router.navigate(["reports/operational/rmanArrgWaterfallReportV"]),"4"==e.sno&&this.router.navigate(["reports/operational/rmanDeferredRollForwardRep"]),"5"==e.sno&&this.router.navigate(["reports/operational/rmanGlAccountingV"]),"14"==e.sno&&this.router.navigate(["reports/operational/ayaraForecastActualRep"]),"191"==e.sno&&this.router.navigate(["reports/operational/exceptionsRep"]),"211"==e.sno&&this.router.navigate(["reports/operational/glEntriesExceptionsRep"])}}]),e}()).\u0275fac=function(e){return new(e||io)(u.Pb(r.g),u.Pb(Zt.a))},io.\u0275cmp=u.Jb({type:io,selectors:[["operational-reports-data"]],decls:11,vars:2,consts:[[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["header","Operational Reports"],[1,"x-scroll"],["selectionMode","single",1,"ui-datatable","arrangementMgrTbl",3,"value","loading"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body","owIndex",""],[3,"pSelectableRow",4,"isAuthorized"],[3,"pSelectableRow"],[1,"pull-right"],["target","_blank","title","Open",3,"click"],[1,"fa","fa-folder-open","icons-color"]],template:function(e,t){1&e&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"p-panel",5),u.Vb(6,"div",6),u.Vb(7,"p-table",7),u.Kc(8,eo,4,0,"ng-template",8),u.Kc(9,no,1,3,"ng-template",9),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Qb(10,"router-outlet")),2&e&&(u.Eb(7),u.oc("value",t.reportsList)("loading",t.loading))},directives:[C.a,S.j,A.f,r.l,Xt.a,S.i],encapsulation:2}),io),so=a("rWrC"),co=a("+yMW"),uo=((ao=function(){function e(t){o(this,e),this.http=t}return i(e,[{key:"getAyaraActiveQuotesARMReport",value:function(e,t,o,n){return null==o&&(o=""),null==n&&(n=""),null==e&&(e=""),null==t&&(t=""),this.http.get(co.apiUrl+"/reports/activeQuotesArmReport?arrgLevel="+e+"&quoteStatus="+t+"&fromDate="+o+"&toDate="+n).toPromise().then((function(e){return e}))}},{key:"getAyaraActiveQuotesARMReportFile",value:function(e,t,o,n,i){null==o&&(o=""),null==n&&(n=""),null==e&&(e=""),null==t&&(t="");var a=co.apiUrl+"/reports/exportActiveQuotesArmReport?arrgLevel="+e+"&quoteStatus="+t+"&fromDate="+o+"&toDate="+n;return null!=i&&""!=i&&(a=a+"&exportCols="+i),a}},{key:"getAyaraActiveQuotesARMChart",value:function(e,t,o,n){return null==t&&(t=""),null==o&&(o=""),null==n&&(n=""),null==e&&(e=""),this.http.get(co.apiUrl+"/reports/generateActiveQuotesARMChart?quoteStatus="+e+"&arrgLevel="+t+"&fromDate="+o+"&toDate="+n).toPromise().then((function(e){return e}))}}]),e}()).\u0275fac=function(e){return new(e||ao)(u.Zb(d.b))},ao.\u0275prov=u.Lb({token:ao,factory:ao.\u0275fac}),ao),ho=a("Y+ZO"),go=a("LPYB");function bo(e,t){if(1&e){var o=u.Wb();u.Vb(0,"a",43),u.dc("click",(function(){return u.Dc(o),u.gc().displayCharts()})),u.Qb(1,"em",44),u.Ub()}}function po(e,t){if(1&e){var o=u.Wb();u.Vb(0,"a",45),u.dc("click",(function(){return u.Dc(o),u.gc().exportCSVfile()})),u.Qb(1,"em",46),u.Ub()}}function mo(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",59),u.dc("onDragStart",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDragStart(e)}))("onDrop",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDrop(e)})),u.Vb(2,"div",60),u.Vb(3,"input",61),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label"),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField),u.Eb(2),u.Nc(n.header)}}var fo=function(){return{color:"grey"}};function yo(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",62),u.Vb(2,"div"),u.Vb(3,"input",63),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label",64),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField)("disabled",!n.drag),u.Eb(1),u.oc("ngStyle",u.rc(5,fo)),u.Eb(1),u.Nc(n.header)}}function vo(e,t){if(1&e&&(u.Kc(0,mo,6,3,"div",58),u.Kc(1,yo,6,6,"div",58)),2&e){var o=t.$implicit;u.oc("ngIf",o.drag),u.Eb(1),u.oc("ngIf",!o.drag)}}var Co=function(){return{width:"100%",height:"100%"}};function Ao(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",47),u.Vb(1,"div",48),u.Vb(2,"div",49),u.Vb(3,"input",50),u.dc("click",(function(){return u.Dc(o),u.gc().onSelectAll()})),u.Ub(),u.Vb(4,"label",51),u.Mc(5,"Select All"),u.Ub(),u.Vb(6,"a",52),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(7,"\xd7"),u.Ub(),u.Vb(8,"p-listbox",53),u.Kc(9,vo,2,2,"ng-template",54),u.Ub(),u.Ub(),u.Vb(10,"div",55),u.Vb(11,"a",56),u.dc("click",(function(){return u.Dc(o),u.gc().saveColumns()})),u.Mc(12,"Save"),u.Ub(),u.Vb(13,"a",57),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(14,"Cancel"),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc();u.Eb(3),u.oc("checked",n.isSelectAllChecked),u.Eb(5),u.Ic(u.rc(4,Co)),u.oc("options",n.globalCols)}}function So(e,t){1&e&&u.Qb(0,"col")}function Mo(e,t){if(1&e&&(u.Vb(0,"colgroup"),u.Kc(1,So,1,0,"col",65),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngForOf",o)}}var Ro=function(e,t){return{display:e,"text-align":t}};function Vo(e,t){if(1&e&&(u.Vb(0,"th",67),u.Mc(1),u.Ub()),2&e){var o=t.$implicit;u.oc("ngStyle",u.tc(2,Ro,o.display,o.text)),u.Eb(1),u.Oc(" ",o.header," ")}}function wo(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,Vo,2,5,"th",66),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngForOf",o.columns)}}var Uo=function(e){return[e]};function Do(e,t){if(1&e&&(u.Vb(0,"td",70),u.Vb(1,"span",71),u.Mc(2),u.hc(3,"date"),u.hc(4,"number"),u.Ub(),u.Ub()),2&e){var o=t.$implicit,n=u.gc().$implicit,i=u.gc();u.oc("ngStyle",u.tc(9,Ro,o.display,o.text)),u.Eb(1),u.pc("title",n[o.field]),u.Eb(1),u.Nc(i.isDateField(o.field)?u.jc(3,3,n[o.field],"MM/dd/yyyy"):"number"==u.sc(12,Uo,o.type)?u.jc(4,6,n[o.field],"1.2-2"):n[o.field])}}function ko(e,t){if(1&e&&(u.Vb(0,"tr",68),u.Kc(1,Do,5,14,"td",69),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.oc("pSelectableRow",o),u.Eb(1),u.oc("ngForOf",n.columns)}}function No(e,t){if(1&e&&(u.Vb(0,"tr"),u.Vb(1,"td",72),u.Mc(2),u.Ub(),u.Ub()),2&e){var o=u.gc();u.Eb(2),u.Nc(o.noData)}}function Fo(e,t){if(1&e&&u.Qb(0,"canvas",75),2&e){var o=u.gc(2);u.oc("data",o.doughnutChartData)("labels",o.doughnutChartLabels)("options",o.doughnutChartOptions)("chartType",o.doughtnutChartType)}}function xo(e,t){if(1&e&&(u.Vb(0,"div",73),u.Kc(1,Fo,1,4,"canvas",74),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngIf",o.chartReady&&0!=o.doughnutChartLabels.length)}}function Eo(e,t){if(1&e&&u.Qb(0,"canvas",77),2&e){var o=u.gc(2);u.oc("datasets",o.barChartData)("labels",o.barChartLabels)("options",o.barChartOptions)("plugins",o.barChartPlugins)("legend",o.barChartLegend)("chartType",o.barChartType)}}function To(e,t){if(1&e&&(u.Vb(0,"div",73),u.Kc(1,Eo,1,6,"canvas",76),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngIf",o.chartReady&&0!=o.barChartLabels.length)}}var Lo,Po,Oo=function(){return{standalone:!0}},Io=a("+yMW"),Bo=((Lo=function(){function e(t,n,i,a,l){var r=this;o(this,e),this.ayaraActiveQuotesARMReportService=t,this.rmanLookupsVService=n,this.location=i,this.commonSharedService=a,this.notificationService=l,this.columns=[],this.entities=[],this.quoteStatusList=[],this.noData=Io.noData,this.collapsed=!1,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.exportCols=[],this.disableExport=!0,this.arrgLevel="S",this.arrgLevelSwitch=!1,this.chartReady=!1,this.showCharts=!1,this.doughnutChartLabels=[],this.doughnutChartData=[],this.doughtnutChartType="doughnut",this.doughnutChartOptions={responsive:!0,legend:{position:"bottom"}},this.barChartOptions={responsive:!0,legend:{position:"bottom"}},this.barChartLabels=[],this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[],this.barChartData=[],this.isbarChart=!1,this.globalCols=[],this.paginationOptions={pageNumber:0,pageSize:"10000"},this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"QUOTE_STATUS_LIST"}).then((function(e){r.quoteStatusList=e.content,r.prepareQuoteStatusObject()})),this.getAllAyaraActiveQuotesARMReport(),this.getChartsData()}return i(e,[{key:"ngOnInit",value:function(){this.rowCount=20}},{key:"getTableColumns",value:function(e,t){var o=this;this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then((function(e){if(e&&null!=e&&e.userId){o.columns=[];var t=e.tableColumns.split(",");t.length>0&&t.forEach((function(e,t){e&&(o.startIndex=o.globalCols.findIndex((function(t){return t.field==e})),o.onDrop(t))})),o.globalCols.forEach((function(t){-1!==e.tableColumns.indexOf(t.field)?o.columns.push(t):t.showField=!1})),o.columns.length!=o.globalCols.length&&(o.isSelectAllChecked=!1),o.showPaginator=0!==o.columns.length,o.userId=e.userId}else o.columns=o.globalCols})).catch((function(){o.notificationService.showError("Error occured while getting table columns data"),o.loading=!1}))}},{key:"saveColumns",value:function(){var e=this,t="";this.showAddColumns=!this.showAddColumns;var o=this.globalCols.length-1;this.globalCols.forEach((function(e,n){e.showField&&(t+=e.field,n<o&&(t+=","))})),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("ayaraActiveQuotesARMReport","Ayara Active Quotes ARM Report",t,this.userId).then((function(t){e.columns=e.globalCols.filter((function(e){return e.showField})),e.userId=t.userId,e.showPaginator=0!==e.columns.length,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while saving"),e.loading=!1}))}},{key:"onDragStart",value:function(e){this.startIndex=e}},{key:"prepareQuoteStatusObject",value:function(){var e=[{label:Io.dropDownOptions.selectQuoteStatus,value:null}];this.quoteStatusList.forEach((function(t){e.push({label:t.lookupDescription,value:t.lookupCode})})),this.quoteStatuses=e}},{key:"onDrop",value:function(e){var t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}},{key:"selectColumns",value:function(e){var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"onSwitch",value:function(){this.arrgLevel=0==this.arrgLevelSwitch?"S":"L",this.getAllAyaraActiveQuotesARMReport(),this.getChartsData()}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"onConfiguringColumns",value:function(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}},{key:"closeConfigureColumns",value:function(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"goToOperationReports",value:function(){this.location.back()}},{key:"onBeforeToggle",value:function(e){this.collapsed=e.collapsed}},{key:"paginate",value:function(e){this.loading=!0,this.activeQuotesARMRepList=this.activeQuotesARMList.slice(e.first,e.first+10),this.loading=!1}},{key:"onRowSelect",value:function(e){}},{key:"getAllAyaraActiveQuotesARMReport",value:function(){var e=this;this.globalCols=[],this.loading=!0,this.ayaraActiveQuotesARMReportService.getAyaraActiveQuotesARMReport(this.arrgLevel,this.quoteStatus,this.fromDate,this.toDate).then((function(t){e.activeQuotesARMRepList=t.Content,e.activeQuotesARMList=t.Content;var o=e.activeQuotesARMRepList[0];for(var n in o)e.globalCols.push({field:n,header:n,style:{width:"100px","text-align":"right"},display:"table-cell",showField:!0,text:"right",drag:!0,type:"number"});for(var i=["Revenue Contract Number","Quote Number","Quote Status","Quote Date","Geo","Country","Legal Entity Name","Account Name","Currency","Product Name"],a=0;a<e.globalCols.length;a++)-1==i.indexOf(e.globalCols[a].header)?(e.globalCols[a].text="right",e.globalCols[a].type="number"):(e.globalCols[a].text="left",e.globalCols[a].type="text");e.activeQuotesARMRepList=t.Content.slice(0,10),e.totalRecords=t.Content.length,e.loading=!1,e.columns=[],e.getTableColumns("ayaraActiveQuotesARMReport","Ayara Active Quotes ARM Report"),e.disableExport=!1})).catch((function(t){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"showDialogToSearch",value:function(){this.fromDate="",this.toDate="",this.quoteStatus="",this.prepareQuoteStatusObject(),this.displayDialog=!0}},{key:"exportCSVfile",value:function(){this.exportCols=[];for(var e=0;e<this.columns.length;e++)this.columns[e].showField&&this.exportCols.push(this.columns[e].header.replace(/[#$/()]/g,""));var t=this.ayaraActiveQuotesARMReportService.getAyaraActiveQuotesARMReportFile(this.arrgLevel,this.quoteStatus,this.fromDate,this.toDate,this.exportCols);window.location.href=t}},{key:"search",value:function(){this.getAllAyaraActiveQuotesARMReport(),this.getChartsData(),this.displayDialog=!1}},{key:"reset",value:function(e){this.fromDate="",this.toDate="",this.quoteStatus="",this.arrgLevel="S",this.arrgLevelSwitch=!1,this.getAllAyaraActiveQuotesARMReport(),this.getChartsData(),this.displayDialog=!1,this.isbarChart=!1}},{key:"fieldType",value:function(e){return typeof e}},{key:"isDateField",value:function(e){return-1!=e.search("Date")}},{key:"displayCharts",value:function(){this.showCharts=!0}},{key:"closeCharts",value:function(){this.showCharts=!1}},{key:"getChartsData",value:function(){var e=this;this.ayaraActiveQuotesARMReportService.getAyaraActiveQuotesARMChart(this.quoteStatus,this.arrgLevel,this.fromDate,this.toDate).then((function(t){var o=t.Content;if(console.log(o),"S"==e.arrgLevel){e.isbarChart=!1;var n=[],i=[];e.doughnutChartLabels=[],e.doughnutChartData=[],o.forEach((function(e){n.push(e["Quote Status"]),i.push(e["Total ARM Revenue Price"])})),console.log(n),console.log(i),e.doughnutChartLabels=n,e.doughnutChartData=i,e.chartReady=!0}else if("L"==e.arrgLevel){e.isbarChart=!0;var a=[],l=[];e.barChartLabels=[],e.barChartData=[],o.forEach((function(e){a.push(e["Product Name"]),l.push(e["ARM Revenue Price"])})),console.log(a),console.log(l),e.barChartLabels=a,e.barChartData.push({data:l,label:"ARM Revenue Price"}),e.chartReady=!0}})).catch((function(t){e.notificationService.showError("Error occured while loading chart data")}))}}]),e}()).\u0275fac=function(e){return new(e||Lo)(u.Pb(uo),u.Pb(De.a),u.Pb(h.k),u.Pb(s.a),u.Pb(c.a))},Lo.\u0275cmp=u.Jb({type:Lo,selectors:[["ayaraActiveQuotesARMReport-data"]],features:[u.Db([uo])],decls:61,vars:35,consts:[[1,"content-section","implementation"],[1,"card-wrapper","waterfall-detail-report"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["header","Quoted ARM Report",3,"toggleable","onBeforeToggle"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-reply"],["onLabel","Line View","offLabel","Revenue Contract View","onIcon","fa fa-toggle-on fa-sm","offIcon","fa fa-toggle-off fa-sm",1,"ui-inputswitch",3,"ngModel","ngModelChange"],[1,"fa","fa-cog"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Analytics",3,"click",4,"ngIf"],["title","Export",3,"click",4,"ngIf"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll","mb-2"],["id","activeQuotesARM-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","lazy","paginator","rows","totalRecords","columns","resizableColumns","onRowSelect"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["id","paginator-c",3,"rows","totalRecords","onPageChange"],["header","Search","width","800","showEffect","fade",3,"visible","closable","draggable","modal"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"md-inputfield"],[1,"selectSpan"],["appendTo","body","name","quoteStatus",3,"options","ngModel","ngModelOptions","ngModelChange"],[1,"ui-g-6"],["showAnim","slideDown","name","fromDate","inputStyleClass","textbox","id","fromDate","yearRange","2000:2030","dateFormat","yy-mm-dd","placeholder","From Date","appendTo","body","dataType","string",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],["showAnim","slideDown","name","toDate","inputStyleClass","textbox","id","toDate","yearRange","2000:2030","dateFormat","yy-mm-dd","placeholder","To Date","appendTo","body","dataType","string",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","reset","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["header","Quoted ARM Report","width","800","showEffect","fade",3,"visible","closable","draggable","modal"],["style","display: block;",4,"ngIf"],["type","reset","pButton","","label","Close",1,"secondary-btn",3,"click"],["title","Analytics",3,"click"],[1,"fa","fa-pie-chart"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["style","width:100px","pResizableColumn","",3,"ngStyle",4,"ngFor","ngForOf"],["pResizableColumn","",2,"width","100px",3,"ngStyle"],[3,"pSelectableRow"],["style","width:100px",3,"ngStyle",4,"ngFor","ngForOf"],[2,"width","100px",3,"ngStyle"],[3,"title"],[1,"no-data"],[2,"display","block"],["baseChart","",3,"data","labels","options","chartType",4,"ngIf"],["baseChart","",3,"data","labels","options","chartType"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType",4,"ngIf"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,t){if(1&e){var o=u.Wb();u.Qb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"div",5),u.Vb(6,"p-panel",6),u.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),u.Vb(7,"p-header"),u.Vb(8,"div",7),u.Vb(9,"a",8),u.dc("click",(function(){return t.goToOperationReports()})),u.Qb(10,"em",9),u.Mc(11,"Back"),u.Ub(),u.Vb(12,"p-toggleButton",10),u.dc("ngModelChange",(function(e){return t.arrgLevelSwitch=e}))("ngModelChange",(function(){return t.onSwitch()})),u.Ub(),u.Vb(13,"a",8),u.dc("click",(function(e){return t.onConfiguringColumns(e)})),u.Qb(14,"em",11),u.Mc(15,"Columns"),u.Ub(),u.Vb(16,"a",12),u.dc("click",(function(){return t.showDialogToSearch()})),u.Qb(17,"em",13),u.Ub(),u.Vb(18,"a",14),u.dc("click",(function(){u.Dc(o);var e=u.Bc(25);return t.reset(e)})),u.Qb(19,"em",15),u.Ub(),u.Kc(20,bo,2,0,"a",16),u.Kc(21,po,2,0,"a",17),u.Kc(22,Ao,15,5,"div",18),u.Ub(),u.Ub(),u.Vb(23,"div",19),u.Vb(24,"p-table",20,21),u.dc("onRowSelect",(function(e){return t.onRowSelect(e)})),u.Kc(26,Mo,2,1,"ng-template",22),u.Kc(27,wo,2,1,"ng-template",23),u.Kc(28,ko,2,2,"ng-template",24),u.Kc(29,No,3,1,"ng-template",25),u.Ub(),u.Ub(),u.Vb(30,"p-paginator",26),u.dc("onPageChange",(function(e){return t.paginate(e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(31,"p-dialog",27),u.Vb(32,"form"),u.Vb(33,"div",28),u.Vb(34,"div",29),u.Vb(35,"div",29),u.Vb(36,"span",30),u.Vb(37,"span",31),u.Mc(38,"Quote Status"),u.Ub(),u.Vb(39,"p-dropdown",32),u.dc("ngModelChange",(function(e){return t.quoteStatus=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(40,"div",29),u.Vb(41,"div",33),u.Vb(42,"span",30),u.Vb(43,"span",31),u.Mc(44,"From Date"),u.Ub(),u.Vb(45,"p-calendar",34),u.dc("ngModelChange",(function(e){return t.fromDate=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(46,"div",35),u.Vb(47,"span",30),u.Vb(48,"span",31),u.Mc(49,"To Date"),u.Ub(),u.Vb(50,"p-calendar",36),u.dc("ngModelChange",(function(e){return t.toDate=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(51,"p-footer"),u.Vb(52,"div",37),u.Vb(53,"button",38),u.dc("click",(function(){return t.search()})),u.Ub(),u.Vb(54,"button",39),u.dc("click",(function(){u.Dc(o);var e=u.Bc(25);return t.reset(e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(55,"p-dialog",40),u.Kc(56,xo,2,1,"div",41),u.Kc(57,To,2,1,"div",41),u.Vb(58,"p-footer"),u.Vb(59,"div",37),u.Vb(60,"button",42),u.dc("click",(function(){return t.closeCharts()})),u.Ub(),u.Ub(),u.Ub(),u.Ub()}2&e&&(u.Eb(6),u.oc("toggleable",!1),u.Eb(6),u.oc("ngModel",t.arrgLevelSwitch),u.Eb(8),u.oc("ngIf",!t.disableExport),u.Eb(1),u.oc("ngIf",!t.disableExport),u.Eb(1),u.oc("ngIf",!t.showAddColumns),u.Eb(2),u.oc("loading",t.loading)("value",t.activeQuotesARMRepList)("lazy",!0)("paginator",!1)("rows",t.rowCount)("totalRecords",t.totalRecords)("columns",t.columns)("resizableColumns",!0),u.Eb(6),u.oc("rows",9)("totalRecords",t.totalRecords),u.Eb(1),u.oc("visible",t.displayDialog)("closable",!1)("draggable",!0)("modal",!0),u.Eb(8),u.oc("options",t.quoteStatuses)("ngModel",t.quoteStatus)("ngModelOptions",u.rc(34,Oo)),u.Eb(6),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",t.fromDate),u.Eb(5),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",t.toDate),u.Eb(5),u.oc("visible",t.showCharts)("closable",!1)("draggable",!0)("modal",!0),u.Eb(1),u.oc("ngIf",!t.isbarChart),u.Eb(1),u.oc("ngIf",t.isbarChart))},directives:[C.a,A.c,ho.a,R.k,R.n,h.o,S.j,A.f,rt.a,M.a,R.v,R.l,R.m,se.a,w.a,A.b,D.b,k.a,N.b,N.c,R.a,h.p,h.n,S.g,S.i,go.a],pipes:[h.f,h.g],encapsulation:2}),Lo.\u0275prov=u.Lb({token:Lo,factory:Lo.\u0275fac}),Lo),zo=a("+yMW"),Qo=((Po=function(){function e(t){o(this,e),this.http=t}return i(e,[{key:"getAyaraActualsARMReport",value:function(e,t,o){return null==t&&(t=""),null==o&&(o=""),null==e&&(e=""),this.http.get(zo.apiUrl+"/reports/actualsArmReport?arrgLevel="+e+"&fromDate="+t+"&toDate="+o).toPromise().then((function(e){return e}))}},{key:"getAyaraActualsARMReportFile",value:function(e,t,o,n){null==t&&(t=""),null==o&&(o=""),null==e&&(e="");var i=zo.apiUrl+"/reports/exportActualsArmReport?arrgLevel="+e+"&fromDate="+t+"&toDate="+o;return null!=n&&""!=n&&(i=i+"&exportCols="+n),i}},{key:"getAyaraActualsARMChart",value:function(e,t,o){return null==e&&(e=""),null==t&&(t=""),null==o&&(o=""),this.http.get(zo.apiUrl+"/reports/generateActualsARMChart?arrgLevel="+e+"&fromDate="+t+"&toDate="+o).toPromise().then((function(e){return e}))}}]),e}()).\u0275fac=function(e){return new(e||Po)(u.Zb(d.b))},Po.\u0275prov=u.Lb({token:Po,factory:Po.\u0275fac}),Po);function $o(e,t){if(1&e){var o=u.Wb();u.Vb(0,"a",43),u.dc("click",(function(){return u.Dc(o),u.gc().displayCharts()})),u.Qb(1,"em",44),u.Ub()}}function Ko(e,t){if(1&e){var o=u.Wb();u.Vb(0,"a",45),u.dc("click",(function(){return u.Dc(o),u.gc().exportCSVfile()})),u.Qb(1,"em",46),u.Ub()}}function _o(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",59),u.dc("onDragStart",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDragStart(e)}))("onDrop",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDrop(e)})),u.Vb(2,"div",60),u.Vb(3,"input",61),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label"),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField),u.Eb(2),u.Nc(n.header)}}var qo=function(){return{color:"grey"}};function Wo(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",62),u.Vb(2,"div"),u.Vb(3,"input",63),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label",64),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField)("disabled",!n.drag),u.Eb(1),u.oc("ngStyle",u.rc(5,qo)),u.Eb(1),u.Nc(n.header)}}function jo(e,t){if(1&e&&(u.Kc(0,_o,6,3,"div",58),u.Kc(1,Wo,6,6,"div",58)),2&e){var o=t.$implicit;u.oc("ngIf",o.drag),u.Eb(1),u.oc("ngIf",!o.drag)}}var Jo=function(){return{width:"100%",height:"100%"}};function Ho(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",47),u.Vb(1,"div",48),u.Vb(2,"div",49),u.Vb(3,"input",50),u.dc("click",(function(){return u.Dc(o),u.gc().onSelectAll()})),u.Ub(),u.Vb(4,"label",51),u.Mc(5,"Select All"),u.Ub(),u.Vb(6,"a",52),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(7,"\xd7"),u.Ub(),u.Vb(8,"p-listbox",53),u.Kc(9,jo,2,2,"ng-template",54),u.Ub(),u.Ub(),u.Vb(10,"div",55),u.Vb(11,"a",56),u.dc("click",(function(){return u.Dc(o),u.gc().saveColumns()})),u.Mc(12,"Save"),u.Ub(),u.Vb(13,"a",57),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(14,"Cancel"),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc();u.Eb(3),u.oc("checked",n.isSelectAllChecked),u.Eb(5),u.Ic(u.rc(4,Jo)),u.oc("options",n.globalCols)}}function Go(e,t){1&e&&u.Qb(0,"col")}function Yo(e,t){if(1&e&&(u.Vb(0,"colgroup"),u.Kc(1,Go,1,0,"col",65),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngForOf",o)}}var Zo=function(e,t){return{display:e,"text-align":t}};function Xo(e,t){if(1&e&&(u.Vb(0,"th",67),u.Mc(1),u.Ub()),2&e){var o=t.$implicit;u.oc("ngStyle",u.tc(2,Zo,o.display,o.text)),u.Eb(1),u.Oc(" ",o.header," ")}}function en(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,Xo,2,5,"th",66),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngForOf",o.columns)}}var tn=function(e){return[e]};function on(e,t){if(1&e&&(u.Vb(0,"td",70),u.Vb(1,"span",71),u.Mc(2),u.hc(3,"date"),u.hc(4,"number"),u.Ub(),u.Ub()),2&e){var o=t.$implicit,n=u.gc().$implicit,i=u.gc();u.oc("ngStyle",u.tc(9,Zo,o.display,o.text)),u.Eb(1),u.pc("title",n[o.field]),u.Eb(1),u.Nc(i.isDateField(o.field)?u.jc(3,3,n[o.field],"MM/dd/yyyy"):"number"==u.sc(12,tn,o.type)?u.jc(4,6,n[o.field],"1.2-2"):n[o.field])}}function nn(e,t){if(1&e&&(u.Vb(0,"tr",68),u.Kc(1,on,5,14,"td",69),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.oc("pSelectableRow",o),u.Eb(1),u.oc("ngForOf",n.columns)}}function an(e,t){if(1&e&&(u.Vb(0,"tr"),u.Vb(1,"td",72),u.Mc(2),u.Ub(),u.Ub()),2&e){var o=u.gc();u.Eb(2),u.Nc(o.noData)}}function ln(e,t){if(1&e&&u.Qb(0,"canvas",73),2&e){var o=u.gc();u.oc("datasets",o.barChartData)("labels",o.barChartLabels)("options",o.barChartOptions)("plugins",o.barChartPlugins)("legend",o.barChartLegend)("chartType",o.barChartType)}}var rn,sn,cn=a("+yMW"),dn=((rn=function(){function e(t,n,i,a,l){o(this,e),this.ayaraActualsARMReportService=t,this.rmanLookupsVService=n,this.location=i,this.commonSharedService=a,this.notificationService=l,this.columns=[],this.entities=[],this.quoteStatusList=[],this.noData=cn.noData,this.collapsed=!1,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.exportCols=[],this.disableExport=!0,this.arrgLevel="S",this.arrgLevelSwitch=!1,this.showCharts=!1,this.barChartOptions={responsive:!0,legend:{position:"bottom"}},this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[],this.barChartData=[],this.chartReady=!1,this.globalCols=[],this.getAllAyaraActualsARMReport(),this.paginationOptions={pageNumber:0,pageSize:"10000"},this.getChartsData()}return i(e,[{key:"ngOnInit",value:function(){this.rowCount=20}},{key:"getTableColumns",value:function(e,t){var o=this;this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then((function(e){if(e&&null!=e&&e.userId){o.columns=[];var t=e.tableColumns.split(",");t.length>0&&t.forEach((function(e,t){e&&(o.startIndex=o.globalCols.findIndex((function(t){return t.field==e})),o.onDrop(t))})),o.globalCols.forEach((function(t){-1!==e.tableColumns.indexOf(t.field)?o.columns.push(t):t.showField=!1})),o.columns.length!=o.globalCols.length&&(o.isSelectAllChecked=!1),o.showPaginator=0!==o.columns.length,o.userId=e.userId}else o.columns=o.globalCols})).catch((function(){o.notificationService.showError("Error occured while getting table columns data"),o.loading=!1}))}},{key:"saveColumns",value:function(){var e=this,t="";this.showAddColumns=!this.showAddColumns;var o=this.globalCols.length-1;this.globalCols.forEach((function(e,n){e.showField&&(t+=e.field,n<o&&(t+=","))})),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("ayaraActualsARMReport","Ayara Actuals ARM Report",t,this.userId).then((function(t){e.columns=e.globalCols.filter((function(e){return e.showField})),e.userId=t.userId,e.showPaginator=0!==e.columns.length,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while saving"),e.loading=!1}))}},{key:"onDragStart",value:function(e){this.startIndex=e}},{key:"onDrop",value:function(e){var t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}},{key:"selectColumns",value:function(e){var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"onSwitch",value:function(){this.arrgLevel=0==this.arrgLevelSwitch?"S":"L",this.getAllAyaraActualsARMReport(),this.getChartsData()}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"onConfiguringColumns",value:function(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}},{key:"closeConfigureColumns",value:function(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"goToOperationReports",value:function(){this.location.back()}},{key:"onBeforeToggle",value:function(e){this.collapsed=e.collapsed}},{key:"paginate",value:function(e){this.loading=!0,this.actualsARMRepList=this.actualsARMList.slice(e.first,e.first+10),this.loading=!1}},{key:"onRowSelect",value:function(e){}},{key:"getAllAyaraActualsARMReport",value:function(){var e=this;this.globalCols=[],this.loading=!0,this.ayaraActualsARMReportService.getAyaraActualsARMReport(this.arrgLevel,this.fromDate,this.toDate).then((function(t){e.actualsARMRepList=t.Content,e.actualsARMList=t.Content;var o=e.actualsARMRepList[0];for(var n in o)e.globalCols.push({field:n,header:n,style:{width:"100px","text-align":"right"},display:"table-cell",showField:!0,text:"right",drag:!0,type:"number"});for(var i=["Revenue Contract Number","Quote Number","Quote Status","Order Number","Quote Date","Geo","Country","Legal Entity Name","Account Name","Currency","Product Name"],a=0;a<e.globalCols.length;a++)-1==i.indexOf(e.globalCols[a].header)?(e.globalCols[a].text="right",e.globalCols[a].type="number"):(e.globalCols[a].text="left",e.globalCols[a].type="text");e.actualsARMRepList=t.Content.slice(0,10),e.totalRecords=t.Content.length,e.loading=!1,e.columns=[],e.getTableColumns("ayaraActualsARMReport","Ayara Actuals ARM Report"),e.disableExport=!1})).catch((function(t){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"showDialogToSearch",value:function(){this.fromDate="",this.toDate="",this.displayDialog=!0}},{key:"exportCSVfile",value:function(){this.exportCols=[];for(var e=0;e<this.columns.length;e++)this.columns[e].showField&&this.exportCols.push(this.columns[e].header.replace(/[#$/()]/g,""));var t=this.ayaraActualsARMReportService.getAyaraActualsARMReportFile(this.arrgLevel,this.fromDate,this.toDate,this.exportCols);window.location.href=t}},{key:"search",value:function(){this.getAllAyaraActualsARMReport(),this.getChartsData(),this.displayDialog=!1}},{key:"reset",value:function(e){this.fromDate="",this.toDate="",this.quoteStatus="",this.arrgLevel="S",this.arrgLevelSwitch=!1,this.getAllAyaraActualsARMReport(),this.getChartsData(),this.displayDialog=!1}},{key:"fieldType",value:function(e){return typeof e}},{key:"isDateField",value:function(e){return-1!=e.search("Date")}},{key:"displayCharts",value:function(){this.showCharts=!0}},{key:"closeCharts",value:function(){this.showCharts=!1}},{key:"getChartsData",value:function(){var e=this;this.ayaraActualsARMReportService.getAyaraActualsARMChart(this.arrgLevel,this.fromDate,this.toDate).then((function(t){var o=t.Content;if(console.log(o),"S"==e.arrgLevel){var n=[],i=[];e.barChartLabels=[],e.barChartData=[],o.forEach((function(e){var t=new Date(e["Booked Date"]);n.push(t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear()),i.push(e["Total ARM Revenue Price"])})),e.barChartLabels=n,e.barChartData.push({data:i,label:"Total ARM Revenue Price"}),console.log(e.barChartLabels),console.log(e.barChartData),e.chartReady=!0}else if("L"==e.arrgLevel){var a=[],l=[];e.barChartLabels=[],e.barChartData=[],o.forEach((function(e){a.push(e["Product Name"]),l.push(e["ARM Revenue Price"])})),e.barChartLabels=a,e.barChartData.push({data:l,label:"ARM Revenue Price"}),console.log(e.barChartLabels),console.log(e.barChartData),e.chartReady=!0}})).catch((function(t){e.notificationService.showError("Error occured while loading chart data")}))}}]),e}()).\u0275fac=function(e){return new(e||rn)(u.Pb(Qo),u.Pb(De.a),u.Pb(h.k),u.Pb(s.a),u.Pb(c.a))},rn.\u0275cmp=u.Jb({type:rn,selectors:[["ayaraActualsARMReport-data"]],features:[u.Db([Qo])],decls:55,vars:30,consts:[[1,"content-section","implementation"],[1,"card-wrapper","waterfall-detail-report"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["header","Actuals ARM Report",3,"toggleable","onBeforeToggle"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-reply"],["onLabel","Line View","offLabel","Revenue Contract View","onIcon","fa fa-toggle-on fa-sm","offIcon","fa fa-toggle-off fa-sm",1,"ui-inputswitch",3,"ngModel","ngModelChange"],[1,"fa","fa-cog"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Analytics",3,"click",4,"ngIf"],["title","Export",3,"click",4,"ngIf"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll","mb-2"],["id","actualsARM-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","lazy","paginator","rows","totalRecords","columns","resizableColumns","onRowSelect"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["id","paginator-c",3,"rows","totalRecords","onPageChange"],["header","Search","width","800","showEffect","fade",3,"visible","closable","draggable","modal"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["showAnim","slideDown","name","fromDate","inputStyleClass","textbox","id","fromDate","yearRange","2000:2030","dateFormat","yy-mm-dd","placeholder","From Date","appendTo","body","dataType","string",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],["showAnim","slideDown","name","toDate","inputStyleClass","textbox","id","toDate","yearRange","2000:2030","dateFormat","yy-mm-dd","placeholder","To Date","appendTo","body","dataType","string",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","reset","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["header","Actuals ARM Report","width","800","showEffect","fade",3,"visible","closable","draggable","modal"],[2,"display","block"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType",4,"ngIf"],["type","reset","pButton","","label","Close",1,"secondary-btn",3,"click"],["title","Analytics",3,"click"],[1,"fa","fa-pie-chart"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["style","width:100px","pResizableColumn","",3,"ngStyle",4,"ngFor","ngForOf"],["pResizableColumn","",2,"width","100px",3,"ngStyle"],[3,"pSelectableRow"],["style","width:100px",3,"ngStyle",4,"ngFor","ngForOf"],[2,"width","100px",3,"ngStyle"],[3,"title"],[1,"no-data"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,t){if(1&e){var o=u.Wb();u.Qb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"div",5),u.Vb(6,"p-panel",6),u.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),u.Vb(7,"p-header"),u.Vb(8,"div",7),u.Vb(9,"a",8),u.dc("click",(function(){return t.goToOperationReports()})),u.Qb(10,"em",9),u.Mc(11,"Back"),u.Ub(),u.Vb(12,"p-toggleButton",10),u.dc("ngModelChange",(function(e){return t.arrgLevelSwitch=e}))("ngModelChange",(function(){return t.onSwitch()})),u.Ub(),u.Vb(13,"a",8),u.dc("click",(function(e){return t.onConfiguringColumns(e)})),u.Qb(14,"em",11),u.Mc(15,"Columns"),u.Ub(),u.Vb(16,"a",12),u.dc("click",(function(){return t.showDialogToSearch()})),u.Qb(17,"em",13),u.Ub(),u.Vb(18,"a",14),u.dc("click",(function(){u.Dc(o);var e=u.Bc(25);return t.reset(e)})),u.Qb(19,"em",15),u.Ub(),u.Kc(20,$o,2,0,"a",16),u.Kc(21,Ko,2,0,"a",17),u.Kc(22,Ho,15,5,"div",18),u.Ub(),u.Ub(),u.Vb(23,"div",19),u.Vb(24,"p-table",20,21),u.dc("onRowSelect",(function(e){return t.onRowSelect(e)})),u.Kc(26,Yo,2,1,"ng-template",22),u.Kc(27,en,2,1,"ng-template",23),u.Kc(28,nn,2,2,"ng-template",24),u.Kc(29,an,3,1,"ng-template",25),u.Ub(),u.Ub(),u.Vb(30,"p-paginator",26),u.dc("onPageChange",(function(e){return t.paginate(e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(31,"p-dialog",27),u.Vb(32,"form"),u.Vb(33,"div",28),u.Vb(34,"div",29),u.Vb(35,"div",30),u.Vb(36,"span",31),u.Vb(37,"span",32),u.Mc(38,"From Date"),u.Ub(),u.Vb(39,"p-calendar",33),u.dc("ngModelChange",(function(e){return t.fromDate=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(40,"div",34),u.Vb(41,"span",31),u.Vb(42,"span",32),u.Mc(43,"To Date"),u.Ub(),u.Vb(44,"p-calendar",35),u.dc("ngModelChange",(function(e){return t.toDate=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(45,"p-footer"),u.Vb(46,"div",36),u.Vb(47,"button",37),u.dc("click",(function(){return t.search()})),u.Ub(),u.Vb(48,"button",38),u.dc("click",(function(){u.Dc(o);var e=u.Bc(25);return t.reset(e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(49,"p-dialog",39),u.Vb(50,"div",40),u.Kc(51,ln,1,6,"canvas",41),u.Ub(),u.Vb(52,"p-footer"),u.Vb(53,"div",36),u.Vb(54,"button",42),u.dc("click",(function(){return t.closeCharts()})),u.Ub(),u.Ub(),u.Ub(),u.Ub()}2&e&&(u.Eb(6),u.oc("toggleable",!1),u.Eb(6),u.oc("ngModel",t.arrgLevelSwitch),u.Eb(8),u.oc("ngIf",!t.disableExport),u.Eb(1),u.oc("ngIf",!t.disableExport),u.Eb(1),u.oc("ngIf",!t.showAddColumns),u.Eb(2),u.oc("loading",t.loading)("value",t.actualsARMRepList)("lazy",!0)("paginator",!1)("rows",t.rowCount)("totalRecords",t.totalRecords)("columns",t.columns)("resizableColumns",!0),u.Eb(6),u.oc("rows",9)("totalRecords",t.totalRecords),u.Eb(1),u.oc("visible",t.displayDialog)("closable",!1)("draggable",!0)("modal",!0),u.Eb(8),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",t.fromDate),u.Eb(5),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",t.toDate),u.Eb(5),u.oc("visible",t.showCharts)("closable",!1)("draggable",!0)("modal",!0),u.Eb(2),u.oc("ngIf",t.chartReady&&0!=t.barChartLabels.length))},directives:[C.a,A.c,ho.a,R.k,R.n,h.o,S.j,A.f,rt.a,M.a,R.v,R.l,R.m,w.a,A.b,D.b,k.a,N.b,N.c,R.a,h.p,h.n,S.g,S.i,go.a],pipes:[h.f,h.g],encapsulation:2}),rn.\u0275prov=u.Lb({token:rn,factory:rn.\u0275fac}),rn),un=a("+yMW"),hn=((sn=function(){function e(t){o(this,e),this.http=t}return i(e,[{key:"getAyaraActualsActiveARMReport",value:function(e,t,o,n,i){return null==n&&(n=""),null==i&&(i=""),null==o&&(o=""),null==e&&(e=""),null==t&&(t=""),this.http.get(un.apiUrl+"/reports/ayaraActiveAndActuals?arrgLevel="+e+"&docType="+t+"&quoteStatus="+o+"&fromDate="+n+"&toDate="+i).toPromise().then((function(e){return e}))}},{key:"getAyaraActualsActiveARMReportFile",value:function(e,t,o,n,i,a){null==n&&(n=""),null==i&&(i=""),null==o&&(o=""),null==e&&(e=""),null==t&&(t="");var l=un.apiUrl+"/reports/exportActualsVsActiveArmReport?arrgLevel="+e+"&docType="+t+"&quoteStatus="+o+"&fromDate="+n+"&toDate="+i;return null!=a&&""!=a&&(l=l+"&exportCols="+a),l}},{key:"getAyaraActualsActiveARMChart",value:function(e,t,o,n,i){return null==e&&(e=""),null==n&&(n=""),null==i&&(i=""),null==t&&(t=""),null==o&&(o=""),this.http.get(un.apiUrl+"/reports/generateActualVsActiveChart?arrgLevel="+e+"&docType="+t+"&quoteStatus="+o+"&fromDate="+n+"&toDate="+i).toPromise().then((function(e){return e}))}}]),e}()).\u0275fac=function(e){return new(e||sn)(u.Zb(d.b))},sn.\u0275prov=u.Lb({token:sn,factory:sn.\u0275fac}),sn);function gn(e,t){if(1&e){var o=u.Wb();u.Vb(0,"a",40),u.dc("click",(function(){return u.Dc(o),u.gc().displayCharts()})),u.Qb(1,"em",41),u.Ub()}}function bn(e,t){if(1&e){var o=u.Wb();u.Vb(0,"a",42),u.dc("click",(function(){return u.Dc(o),u.gc().exportCSVfile()})),u.Qb(1,"em",43),u.Ub()}}function pn(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",56),u.dc("onDragStart",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDragStart(e)}))("onDrop",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDrop(e)})),u.Vb(2,"div",57),u.Vb(3,"input",58),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label"),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField),u.Eb(2),u.Nc(n.header)}}var mn=function(){return{color:"grey"}};function fn(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",59),u.Vb(2,"div"),u.Vb(3,"input",60),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label",61),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField)("disabled",!n.drag),u.Eb(1),u.oc("ngStyle",u.rc(5,mn)),u.Eb(1),u.Nc(n.header)}}function yn(e,t){if(1&e&&(u.Kc(0,pn,6,3,"div",55),u.Kc(1,fn,6,6,"div",55)),2&e){var o=t.$implicit;u.oc("ngIf",o.drag),u.Eb(1),u.oc("ngIf",!o.drag)}}var vn=function(){return{width:"100%",height:"100%"}};function Cn(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",44),u.Vb(1,"div",45),u.Vb(2,"div",46),u.Vb(3,"input",47),u.dc("click",(function(){return u.Dc(o),u.gc().onSelectAll()})),u.Ub(),u.Vb(4,"label",48),u.Mc(5,"Select All"),u.Ub(),u.Vb(6,"a",49),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(7,"\xd7"),u.Ub(),u.Vb(8,"p-listbox",50),u.Kc(9,yn,2,2,"ng-template",51),u.Ub(),u.Ub(),u.Vb(10,"div",52),u.Vb(11,"a",53),u.dc("click",(function(){return u.Dc(o),u.gc().saveColumns()})),u.Mc(12,"Save"),u.Ub(),u.Vb(13,"a",54),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(14,"Cancel"),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc();u.Eb(3),u.oc("checked",n.isSelectAllChecked),u.Eb(5),u.Ic(u.rc(4,vn)),u.oc("options",n.globalCols)}}function An(e,t){1&e&&u.Qb(0,"col")}function Sn(e,t){if(1&e&&(u.Vb(0,"colgroup"),u.Kc(1,An,1,0,"col",62),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngForOf",o)}}var Mn=function(e,t){return{display:e,"text-align":t}};function Rn(e,t){if(1&e&&(u.Vb(0,"th",64),u.Mc(1),u.Ub()),2&e){var o=t.$implicit;u.oc("ngStyle",u.tc(2,Mn,o.display,o.text)),u.Eb(1),u.Oc(" ",o.header," ")}}function Vn(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,Rn,2,5,"th",63),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngForOf",o.columns)}}var wn=function(e){return[e]};function Un(e,t){if(1&e&&(u.Vb(0,"td",67),u.Vb(1,"span",68),u.Mc(2),u.hc(3,"date"),u.hc(4,"number"),u.Ub(),u.Ub()),2&e){var o=t.$implicit,n=u.gc().$implicit,i=u.gc();u.oc("ngStyle",u.tc(9,Mn,o.display,o.text)),u.Eb(1),u.pc("title",n[o.field]),u.Eb(1),u.Nc(i.isDateField(o.field)?u.jc(3,3,n[o.field],"MM/dd/yyyy"):"number"==u.sc(12,wn,o.type)?u.jc(4,6,n[o.field],"1.2-2"):n[o.field])}}function Dn(e,t){if(1&e&&(u.Vb(0,"tr",65),u.Kc(1,Un,5,14,"td",66),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.oc("pSelectableRow",o),u.Eb(1),u.oc("ngForOf",n.columns)}}function kn(e,t){if(1&e&&(u.Vb(0,"tr"),u.Vb(1,"td",69),u.Mc(2),u.Ub(),u.Ub()),2&e){var o=u.gc();u.Eb(2),u.Nc(o.noData)}}var Nn=function(){return{standalone:!0}};function Fn(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",29),u.Vb(1,"div",29),u.Vb(2,"span",30),u.Vb(3,"span",31),u.Mc(4,"Quote Status"),u.Ub(),u.Vb(5,"p-dropdown",70),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().quoteStatus=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc();u.Eb(5),u.oc("options",n.quoteStatuses)("ngModel",n.quoteStatus)("ngModelOptions",u.rc(3,Nn))}}function xn(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",74),u.Vb(1,"span",30),u.Vb(2,"span",31),u.Mc(3,"To Booked Date"),u.Ub(),u.Vb(4,"p-calendar",75),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc(2).toDate=e})),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc(2);u.Eb(4),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",n.toDate)}}function En(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",29),u.Vb(1,"div",71),u.Vb(2,"span",30),u.Vb(3,"span",31),u.Mc(4,"From Booked Date"),u.Ub(),u.Vb(5,"p-calendar",72),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().fromDate=e})),u.Ub(),u.Ub(),u.Ub(),u.Kc(6,xn,5,3,"div",73),u.Ub()}if(2&e){var n=u.gc();u.Eb(5),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",n.fromDate),u.Eb(1),u.oc("ngIf",n.displayDocumentParams&&n.orderDocument)}}function Tn(e,t){if(1&e&&u.Qb(0,"canvas",78),2&e){var o=u.gc(2);u.oc("data",o.doughnutChartData)("labels",o.doughnutChartLabels)("options",o.doughnutChartOptions)("chartType",o.doughnutChartType)}}function Ln(e,t){if(1&e&&(u.Vb(0,"div",76),u.Kc(1,Tn,1,4,"canvas",77),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngIf",o.chartReady&&0!=o.doughnutChartLabels.length)}}function Pn(e,t){if(1&e&&u.Qb(0,"canvas",80),2&e){var o=u.gc(2);u.oc("datasets",o.barChartData)("labels",o.barChartLabels)("options",o.barChartOptions)("plugins",o.barChartPlugins)("legend",o.barChartLegend)("chartType",o.barChartType)}}function On(e,t){if(1&e&&(u.Vb(0,"div",76),u.Kc(1,Pn,1,6,"canvas",79),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngIf",o.chartReady&&0!=o.barChartLabels.length)}}var In,Bn,zn=a("+yMW"),Qn=((In=function(){function e(t,n,i,a,l){var r=this;o(this,e),this.ayaraActualsVsActiveReportService=t,this.rmanLookupsVService=n,this.location=i,this.commonSharedService=a,this.notificationService=l,this.columns=[],this.orderDocument=!1,this.displayDocumentParams=!1,this.entities=[],this.quoteStatusList=[],this.documentTypesList=[],this.noData=zn.noData,this.collapsed=!1,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.exportCols=[],this.disableExport=!0,this.arrgLevel="S",this.arrgLevelSwitch=!1,this.chartReady=!1,this.showCharts=!1,this.doughnutChartLabels=[],this.doughnutChartData=[],this.doughnutChartType="doughnut",this.doughnutChartOptions={responsive:!0,legend:{position:"bottom"}},this.barChartOptions={responsive:!0,legend:{position:"bottom"}},this.barChartLabels=[],this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[],this.barChartData=[],this.isbarChart=!1,this.globalCols=[],this.getAllAyaraActualsVsActiveReport(),this.paginationOptions={pageNumber:0,pageSize:"10000"},this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"QUOTE_STATUS_LIST"}).then((function(e){r.quoteStatusList=e.content,r.prepareQuoteStatusObject()})),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"DOCUMENT_TYPES_LIST"}).then((function(e){r.documentTypesList=e.content,r.prepareDocumentTypesObject()})),this.getChartsData()}return i(e,[{key:"ngOnInit",value:function(){this.rowCount=20}},{key:"getTableColumns",value:function(e,t){var o=this;this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then((function(e){if(e&&null!=e&&e.userId){o.columns=[];var t=e.tableColumns.split(",");t.length>0&&t.forEach((function(e,t){e&&(o.startIndex=o.globalCols.findIndex((function(t){return t.field==e})),o.onDrop(t))})),o.globalCols.forEach((function(t){-1!==e.tableColumns.indexOf(t.field)?o.columns.push(t):t.showField=!1})),o.columns.length!=o.globalCols.length&&(o.isSelectAllChecked=!1),o.showPaginator=0!==o.columns.length,o.userId=e.userId}else o.columns=o.globalCols})).catch((function(){o.notificationService.showError("Error occured while getting table columns data"),o.loading=!1}))}},{key:"saveColumns",value:function(){var e=this,t="";this.showAddColumns=!this.showAddColumns;var o=this.globalCols.length-1;this.globalCols.forEach((function(e,n){e.showField&&(t+=e.field,n<o&&(t+=","))})),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("ayaraActualsVsActiveReport","Actual and Active ARM Detail Report",t,this.userId).then((function(t){e.columns=e.globalCols.filter((function(e){return e.showField})),e.userId=t.userId,e.showPaginator=0!==e.columns.length,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while saving"),e.loading=!1}))}},{key:"onDragStart",value:function(e){this.startIndex=e}},{key:"prepareQuoteStatusObject",value:function(){var e=[{label:zn.dropDownOptions.selectQuoteStatus,value:null}];this.quoteStatusList.forEach((function(t){e.push({label:t.lookupDescription,value:t.lookupCode})})),this.quoteStatuses=e}},{key:"prepareDocumentTypesObject",value:function(){var e=[{label:zn.dropDownOptions.selectDocumentType,value:null}];this.documentTypesList.forEach((function(t){e.push({label:t.lookupDescription,value:t.lookupCode})})),this.documentTypes=e}},{key:"onDrop",value:function(e){var t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}},{key:"selectColumns",value:function(e){var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"onSwitch",value:function(){this.arrgLevel=0==this.arrgLevelSwitch?"S":"L",this.getAllAyaraActualsVsActiveReport(),this.getChartsData()}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"onConfiguringColumns",value:function(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}},{key:"closeConfigureColumns",value:function(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"goToOperationReports",value:function(){this.location.back()}},{key:"onBeforeToggle",value:function(e){this.collapsed=e.collapsed}},{key:"paginate",value:function(e){this.loading=!0,this.actualsActiveARMRepList=this.actualsActiveARMList.slice(e.first,e.first+10),this.loading=!1}},{key:"onRowSelect",value:function(e){}},{key:"getAllAyaraActualsVsActiveReport",value:function(){var e=this;this.globalCols=[],this.loading=!0,this.ayaraActualsVsActiveReportService.getAyaraActualsActiveARMReport(this.arrgLevel,this.documentType,this.quoteStatus,this.fromDate,this.toDate).then((function(t){e.actualsActiveARMRepList=t.Content,e.actualsActiveARMList=t.Content;var o=e.actualsActiveARMRepList[0];for(var n in o)e.globalCols.push({field:n,header:n,style:{width:"100px","text-align":"right"},display:"table-cell",showField:!0,text:"right",drag:!0,type:"number"});for(var i=["Revenue Contract Number","Quote Number","Quote Status","Quote Date","Order Number","Geo","Country","Legal Entity Name","Account Name","Currency","Product Name"],a=0;a<e.globalCols.length;a++)-1==i.indexOf(e.globalCols[a].header)?(e.globalCols[a].text="right",e.globalCols[a].type="number"):(e.globalCols[a].text="left",e.globalCols[a].type="text");e.actualsActiveARMRepList=t.Content.slice(0,10),e.totalRecords=t.Content.length,e.loading=!1,e.columns=[],e.getTableColumns("ayaraActualsVsActiveReport","Actual and Active ARM Detail Report"),e.disableExport=!1})).catch((function(t){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"onSelectingDocumentType",value:function(e){"O"==e?(this.displayDocumentParams=!0,this.orderDocument=!0):"Q"==e?(this.displayDocumentParams=!0,this.orderDocument=!1):(this.displayDocumentParams=!1,this.orderDocument=!1)}},{key:"showDialogToSearch",value:function(){this.fromDate="",this.toDate="",this.quoteStatus="",this.documentType="",this.displayDialog=!0}},{key:"displayCharts",value:function(){this.showCharts=!0}},{key:"closeCharts",value:function(){this.showCharts=!1}},{key:"exportCSVfile",value:function(){this.exportCols=[];for(var e=0;e<this.columns.length;e++)this.columns[e].showField&&this.exportCols.push(this.columns[e].header.replace(/[#$/()]/g,""));var t=this.ayaraActualsVsActiveReportService.getAyaraActualsActiveARMReportFile(this.arrgLevel,this.documentType,this.quoteStatus,this.fromDate,this.toDate,this.exportCols);window.location.href=t}},{key:"search",value:function(){this.getAllAyaraActualsVsActiveReport(),this.getChartsData(),this.displayDialog=!1}},{key:"reset",value:function(e){this.fromDate="",this.toDate="",this.documentType="",this.quoteStatus="",this.arrgLevel="S",this.arrgLevelSwitch=!1,this.getAllAyaraActualsVsActiveReport(),this.getChartsData(),this.displayDialog=!1,this.showCharts=!1,this.isbarChart=!1}},{key:"fieldType",value:function(e){return typeof e}},{key:"isDateField",value:function(e){return-1!=e.search("Date")}},{key:"getChartsData",value:function(){var e=this;this.ayaraActualsVsActiveReportService.getAyaraActualsActiveARMChart(this.arrgLevel,this.documentType,this.quoteStatus,this.fromDate,this.toDate).then((function(t){var o=t.Content;if("S"==e.arrgLevel){e.isbarChart=!1,console.log(o);var n=[],i=[];e.doughnutChartLabels=[],e.doughnutChartData=[],o.forEach((function(e){n.push(e["Totals Of"]),i.push(e.ARM_REVENUE_PRICE)})),console.log(n),console.log(i),e.doughnutChartLabels=n,e.doughnutChartData=i,e.chartReady=!0}else if("L"==e.arrgLevel){e.isbarChart=!0;var a=[],l=[];e.barChartLabels=[],e.barChartData=[],o.forEach((function(e){a.push(e["Product Name"]),l.push(e["ARM Revenue Price"])})),console.log(a),console.log(l),e.barChartLabels=a,e.barChartData.push({data:l,label:"ARM Revenue Price"}),e.chartReady=!0}})).catch((function(t){e.notificationService.showError("Error occured while loading chart data")}))}}]),e}()).\u0275fac=function(e){return new(e||In)(u.Pb(hn),u.Pb(De.a),u.Pb(h.k),u.Pb(s.a),u.Pb(c.a))},In.\u0275cmp=u.Jb({type:In,selectors:[["ayaraActualsVsActiveReport-data"]],features:[u.Db([hn])],decls:52,vars:31,consts:[[1,"content-section","implementation"],[1,"card-wrapper","waterfall-detail-report"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["header","Quoted Vs Actuals Report",3,"toggleable","onBeforeToggle"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-reply"],["onLabel","Line View","offLabel","Revenue Contract View","onIcon","fa fa-toggle-on fa-sm","offIcon","fa fa-toggle-off fa-sm",1,"ui-inputswitch",3,"ngModel","ngModelChange"],[1,"fa","fa-cog"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Analytics",3,"click",4,"ngIf"],["title","Export",3,"click",4,"ngIf"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll","mb-2"],["id","actualsARM-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","lazy","paginator","rows","totalRecords","columns","resizableColumns","onRowSelect"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["id","paginator-c",3,"rows","totalRecords","onPageChange"],["header","Search","width","800","showEffect","fade",3,"visible","closable","draggable","modal"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"md-inputfield"],[1,"selectSpan"],["appendTo","body","name","documentType",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["class","ui-g-12",4,"ngIf"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","reset","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["header","Quoted Vs Actuals Report","width","800","showEffect","fade",3,"visible","closable","draggable","modal"],["style","display: block;",4,"ngIf"],["type","reset","pButton","","label","Close",1,"secondary-btn",3,"click"],["title","Analytics",3,"click"],[1,"fa","fa-pie-chart"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["style","width:100px","pResizableColumn","",3,"ngStyle",4,"ngFor","ngForOf"],["pResizableColumn","",2,"width","100px",3,"ngStyle"],[3,"pSelectableRow"],["style","width:100px",3,"ngStyle",4,"ngFor","ngForOf"],[2,"width","100px",3,"ngStyle"],[3,"title"],[1,"no-data"],["appendTo","body","name","quoteStatus",3,"options","ngModel","ngModelOptions","ngModelChange"],[1,"ui-g-6"],["showAnim","slideDown","name","fromDate","inputStyleClass","textbox","id","fromDate","yearRange","2000:2030","dateFormat","yy-mm-dd","placeholder","From Date","appendTo","body","dataType","string",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],["class","ui-g-6 pull-right",4,"ngIf"],[1,"ui-g-6","pull-right"],["showAnim","slideDown","name","toDate","inputStyleClass","textbox","id","toDate","yearRange","2000:2030","dateFormat","yy-mm-dd","placeholder","To Date","appendTo","body","dataType","string",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],[2,"display","block"],["baseChart","",3,"data","labels","options","chartType",4,"ngIf"],["baseChart","",3,"data","labels","options","chartType"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType",4,"ngIf"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,t){if(1&e){var o=u.Wb();u.Qb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"div",5),u.Vb(6,"p-panel",6),u.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),u.Vb(7,"p-header"),u.Vb(8,"div",7),u.Vb(9,"a",8),u.dc("click",(function(){return t.goToOperationReports()})),u.Qb(10,"em",9),u.Mc(11,"Back"),u.Ub(),u.Vb(12,"p-toggleButton",10),u.dc("ngModelChange",(function(e){return t.arrgLevelSwitch=e}))("ngModelChange",(function(){return t.onSwitch()})),u.Ub(),u.Vb(13,"a",8),u.dc("click",(function(e){return t.onConfiguringColumns(e)})),u.Qb(14,"em",11),u.Mc(15,"Columns"),u.Ub(),u.Vb(16,"a",12),u.dc("click",(function(){return t.showDialogToSearch()})),u.Qb(17,"em",13),u.Ub(),u.Vb(18,"a",14),u.dc("click",(function(){u.Dc(o);var e=u.Bc(25);return t.reset(e)})),u.Qb(19,"em",15),u.Ub(),u.Kc(20,gn,2,0,"a",16),u.Kc(21,bn,2,0,"a",17),u.Kc(22,Cn,15,5,"div",18),u.Ub(),u.Ub(),u.Vb(23,"div",19),u.Vb(24,"p-table",20,21),u.dc("onRowSelect",(function(e){return t.onRowSelect(e)})),u.Kc(26,Sn,2,1,"ng-template",22),u.Kc(27,Vn,2,1,"ng-template",23),u.Kc(28,Dn,2,2,"ng-template",24),u.Kc(29,kn,3,1,"ng-template",25),u.Ub(),u.Ub(),u.Vb(30,"p-paginator",26),u.dc("onPageChange",(function(e){return t.paginate(e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(31,"p-dialog",27),u.Vb(32,"form"),u.Vb(33,"div",28),u.Vb(34,"div",29),u.Vb(35,"div",29),u.Vb(36,"span",30),u.Vb(37,"span",31),u.Mc(38,"Document Type"),u.Ub(),u.Vb(39,"p-dropdown",32),u.dc("ngModelChange",(function(e){return t.documentType=e}))("onChange",(function(e){return t.onSelectingDocumentType(e.value)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Kc(40,Fn,6,4,"div",33),u.Kc(41,En,7,4,"div",33),u.Ub(),u.Ub(),u.Vb(42,"p-footer"),u.Vb(43,"div",34),u.Vb(44,"button",35),u.dc("click",(function(){return t.search()})),u.Ub(),u.Vb(45,"button",36),u.dc("click",(function(){u.Dc(o);var e=u.Bc(25);return t.reset(e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(46,"p-dialog",37),u.Kc(47,Ln,2,1,"div",38),u.Kc(48,On,2,1,"div",38),u.Vb(49,"p-footer"),u.Vb(50,"div",34),u.Vb(51,"button",39),u.dc("click",(function(){return t.closeCharts()})),u.Ub(),u.Ub(),u.Ub(),u.Ub()}2&e&&(u.Eb(6),u.oc("toggleable",!1),u.Eb(6),u.oc("ngModel",t.arrgLevelSwitch),u.Eb(8),u.oc("ngIf",!t.disableExport),u.Eb(1),u.oc("ngIf",!t.disableExport),u.Eb(1),u.oc("ngIf",!t.showAddColumns),u.Eb(2),u.oc("loading",t.loading)("value",t.actualsActiveARMRepList)("lazy",!0)("paginator",!1)("rows",t.rowCount)("totalRecords",t.totalRecords)("columns",t.columns)("resizableColumns",!0),u.Eb(6),u.oc("rows",9)("totalRecords",t.totalRecords),u.Eb(1),u.oc("visible",t.displayDialog)("closable",!1)("draggable",!0)("modal",!0),u.Eb(8),u.oc("options",t.documentTypes)("ngModel",t.documentType)("ngModelOptions",u.rc(30,Nn)),u.Eb(1),u.oc("ngIf",t.displayDocumentParams&&!t.orderDocument),u.Eb(1),u.oc("ngIf",t.displayDocumentParams&&t.orderDocument),u.Eb(5),u.oc("visible",t.showCharts)("closable",!1)("draggable",!0)("modal",!0),u.Eb(1),u.oc("ngIf",!t.isbarChart),u.Eb(1),u.oc("ngIf",t.isbarChart))},directives:[C.a,A.c,ho.a,R.k,R.n,h.o,S.j,A.f,rt.a,M.a,R.v,R.l,R.m,se.a,A.b,D.b,k.a,N.b,N.c,R.a,h.p,h.n,S.g,S.i,w.a,go.a],pipes:[h.f,h.g],encapsulation:2}),In.\u0275prov=u.Lb({token:In,factory:In.\u0275fac}),In),$n=a("+yMW"),Kn=((Bn=function(){function e(t){o(this,e),this.http=t}return i(e,[{key:"getAyaraActiveDealsARMReport",value:function(e,t,o,n,i,a){return null==i&&(i=""),null==a&&(a=""),null==e&&(e=""),null==t&&(t=""),null==n&&(n=""),null==o&&(o=""),this.http.get($n.apiUrl+"/reports/activeDealsArmReport?dealNumber="+e+"&quoteNumber="+t+"&geo="+o+"&quoteStatus="+n+"&fromDate="+i+"&toDate="+a).toPromise().then((function(e){return e}))}},{key:"getAyaraActiveDealsARMReportFile",value:function(e,t,o,n,i,a,l){null==i&&(i=""),null==a&&(a=""),null==e&&(e=""),null==t&&(t=""),null==n&&(n=""),null==o&&(o="");var r=$n.apiUrl+"/reports/exportActiveDealsArmReport?dealNumber="+e+"&quoteNumber="+t+"&geo="+o+"&quoteStatus="+n+"&fromDate="+i+"&toDate="+a;return null!=l&&""!=l&&(r=r+"&exportCols="+encodeURIComponent(l)),r}},{key:"getAyaraActiveDealsARMChart",value:function(e,t,o,n,i,a){return null==i&&(i=""),null==a&&(a=""),null==e&&(e=""),null==t&&(t=""),null==n&&(n=""),null==o&&(o=""),this.http.get($n.apiUrl+"/reports/generateActiveDealsARMChart?dealNumber="+e+"&quoteNumber="+t+"&geo="+o+"&quoteStatus="+n+"&fromDate="+i+"&toDate="+a).toPromise().then((function(e){return e}))}}]),e}()).\u0275fac=function(e){return new(e||Bn)(u.Zb(d.b))},Bn.\u0275prov=u.Lb({token:Bn,factory:Bn.\u0275fac}),Bn);function _n(e,t){if(1&e){var o=u.Wb();u.Vb(0,"a",45),u.dc("click",(function(){return u.Dc(o),u.gc().displayCharts()})),u.Qb(1,"em",46),u.Ub()}}function qn(e,t){if(1&e){var o=u.Wb();u.Vb(0,"a",47),u.dc("click",(function(){return u.Dc(o),u.gc().exportCSVfile()})),u.Qb(1,"em",48),u.Ub()}}function Wn(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",61),u.dc("onDragStart",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDragStart(e)}))("onDrop",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDrop(e)})),u.Vb(2,"div",62),u.Vb(3,"input",63),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label"),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField),u.Eb(2),u.Nc(n.header)}}var jn=function(){return{color:"grey"}};function Jn(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",64),u.Vb(2,"div"),u.Vb(3,"input",65),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label",66),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField)("disabled",!n.drag),u.Eb(1),u.oc("ngStyle",u.rc(5,jn)),u.Eb(1),u.Nc(n.header)}}function Hn(e,t){if(1&e&&(u.Kc(0,Wn,6,3,"div",60),u.Kc(1,Jn,6,6,"div",60)),2&e){var o=t.$implicit;u.oc("ngIf",o.drag),u.Eb(1),u.oc("ngIf",!o.drag)}}var Gn=function(){return{width:"100%",height:"100%"}};function Yn(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",49),u.Vb(1,"div",50),u.Vb(2,"div",51),u.Vb(3,"input",52),u.dc("click",(function(){return u.Dc(o),u.gc().onSelectAll()})),u.Ub(),u.Vb(4,"label",53),u.Mc(5,"Select All"),u.Ub(),u.Vb(6,"a",54),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(7,"\xd7"),u.Ub(),u.Vb(8,"p-listbox",55),u.Kc(9,Hn,2,2,"ng-template",56),u.Ub(),u.Ub(),u.Vb(10,"div",57),u.Vb(11,"a",58),u.dc("click",(function(){return u.Dc(o),u.gc().saveColumns()})),u.Mc(12,"Save"),u.Ub(),u.Vb(13,"a",59),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(14,"Cancel"),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc();u.Eb(3),u.oc("checked",n.isSelectAllChecked),u.Eb(5),u.Ic(u.rc(4,Gn)),u.oc("options",n.globalCols)}}function Zn(e,t){1&e&&u.Qb(0,"col")}function Xn(e,t){if(1&e&&(u.Vb(0,"colgroup"),u.Kc(1,Zn,1,0,"col",67),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngForOf",o)}}var ei=function(e,t){return{display:e,"text-align":t}};function ti(e,t){if(1&e&&(u.Vb(0,"th",69),u.Mc(1),u.Ub()),2&e){var o=t.$implicit;u.oc("ngStyle",u.tc(2,ei,o.display,o.text)),u.Eb(1),u.Oc(" ",o.header," ")}}function oi(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,ti,2,5,"th",68),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngForOf",o.columns)}}var ni=function(e){return[e]};function ii(e,t){if(1&e&&(u.Vb(0,"td",72),u.Vb(1,"span",73),u.Mc(2),u.hc(3,"date"),u.hc(4,"number"),u.Ub(),u.Ub()),2&e){var o=t.$implicit,n=u.gc().$implicit,i=u.gc();u.oc("ngStyle",u.tc(9,ei,o.display,o.text)),u.Eb(1),u.pc("title",n[o.field]),u.Eb(1),u.Nc(i.isDateField(o.field)?u.jc(3,3,n[o.field],"MM/dd/yyyy"):"number"==u.sc(12,ni,o.type)?u.jc(4,6,n[o.field],"1.2-2"):n[o.field])}}function ai(e,t){if(1&e&&(u.Vb(0,"tr",70),u.Kc(1,ii,5,14,"td",71),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.oc("pSelectableRow",o),u.Eb(1),u.oc("ngForOf",n.columns)}}function li(e,t){if(1&e&&(u.Vb(0,"tr"),u.Vb(1,"td",74),u.Mc(2),u.Ub(),u.Ub()),2&e){var o=u.gc();u.Eb(2),u.Nc(o.noData)}}function ri(e,t){if(1&e&&u.Qb(0,"canvas",77),2&e){var o=u.gc(2);u.oc("data",o.doughnutChartData)("labels",o.doughnutChartLabels)("options",o.doughnutChartOptions)("chartType",o.doughtnutChartType)}}function si(e,t){if(1&e&&(u.Vb(0,"div",75),u.Kc(1,ri,1,4,"canvas",76),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngIf",o.chartReady&&0!=o.doughnutChartLabels.length)}}function ci(e,t){if(1&e&&u.Qb(0,"canvas",79),2&e){var o=u.gc(2);u.oc("datasets",o.barChartData)("labels",o.barChartLabels)("options",o.barChartOptions)("plugins",o.barChartPlugins)("legend",o.barChartLegend)("chartType",o.barChartType)}}function di(e,t){if(1&e&&(u.Vb(0,"div",75),u.Kc(1,ci,1,6,"canvas",78),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngIf",o.chartReady&&0!=o.barChartLabels.length)}}var ui,hi=function(){return{standalone:!0}},gi=a("+yMW"),bi=((ui=function(){function e(t,n,i,a,l){var r=this;o(this,e),this.ayaraActiveDealsARMReportService=t,this.rmanLookupsVService=n,this.location=i,this.commonSharedService=a,this.notificationService=l,this.columns=[],this.entities=[],this.quoteStatusList=[],this.geoList=[],this.noData=gi.noData,this.collapsed=!1,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.exportCols=[],this.disableExport=!0,this.arrgLevel="S",this.arrgLevelSwitch=!1,this.chartReady=!1,this.showCharts=!1,this.doughnutChartLabels=[],this.doughnutChartData=[],this.doughtnutChartType="doughnut",this.doughnutChartOptions={responsive:!0,legend:{position:"bottom"}},this.barChartOptions={responsive:!0,legend:{position:"bottom"}},this.barChartLabels=[],this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[],this.barChartData=[],this.isbarChart=!1,this.globalCols=[],this.paginationOptions={pageNumber:0,pageSize:"10000"},this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"QUOTE_STATUS_LIST"}).then((function(e){r.quoteStatusList=e.content,r.prepareQuoteStatusObject()})),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"SALES_LEVEL2"}).then((function(e){r.geoList=e.content,r.prepareGeoObject()})),this.getAllAyaraActiveDealsARMReport(),this.getChartsData()}return i(e,[{key:"ngOnInit",value:function(){this.rowCount=20}},{key:"getTableColumns",value:function(e,t){var o=this;this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then((function(e){if(e&&null!=e&&e.userId){o.columns=[];var t=e.tableColumns.split(",");t.length>0&&t.forEach((function(e,t){e&&(o.startIndex=o.globalCols.findIndex((function(t){return t.field==e})),o.onDrop(t))})),o.globalCols.forEach((function(t){-1!==e.tableColumns.indexOf(t.field)?o.columns.push(t):t.showField=!1})),o.columns.length!=o.globalCols.length&&(o.isSelectAllChecked=!1),o.showPaginator=0!==o.columns.length,o.userId=e.userId}else o.columns=o.globalCols})).catch((function(){o.notificationService.showError("Error occured while getting table columns data"),o.loading=!1}))}},{key:"saveColumns",value:function(){var e=this,t="";this.showAddColumns=!this.showAddColumns;var o=this.globalCols.length-1;this.globalCols.forEach((function(e,n){e.showField&&(t+=e.field,n<o&&(t+=","))})),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("ayaraActiveDealsARMReport","Ayara Active Deals ARM Report",t,this.userId).then((function(t){e.columns=e.globalCols.filter((function(e){return e.showField})),e.userId=t.userId,e.showPaginator=0!==e.columns.length,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while saving"),e.loading=!1}))}},{key:"onDragStart",value:function(e){this.startIndex=e}},{key:"prepareQuoteStatusObject",value:function(){var e=[{label:gi.dropDownOptions.selectQuoteStatus,value:null}];this.quoteStatusList.forEach((function(t){e.push({label:t.lookupDescription,value:t.lookupCode})})),this.quoteStatuses=e}},{key:"prepareGeoObject",value:function(){var e=[{label:gi.dropDownOptions.selectGeo,value:null}];this.geoList.forEach((function(t){e.push({label:t.lookupDescription,value:t.lookupCode})})),this.geos=e}},{key:"onDrop",value:function(e){var t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}},{key:"selectColumns",value:function(e){var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"onSwitch",value:function(){this.arrgLevel=0==this.arrgLevelSwitch?"S":"L",this.getAllAyaraActiveDealsARMReport(),this.getChartsData()}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"onConfiguringColumns",value:function(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}},{key:"closeConfigureColumns",value:function(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"goToOperationReports",value:function(){this.location.back()}},{key:"onBeforeToggle",value:function(e){this.collapsed=e.collapsed}},{key:"paginate",value:function(e){this.loading=!0,this.activeDealsARMRepList=this.activeDealsARMList.slice(e.first,e.first+10),this.loading=!1}},{key:"onRowSelect",value:function(e){}},{key:"getAllAyaraActiveDealsARMReport",value:function(){var e=this;this.globalCols=[],this.loading=!0,this.ayaraActiveDealsARMReportService.getAyaraActiveDealsARMReport(this.dealNumber,this.quoteNumber,this.geo,this.quoteStatus,this.fromDate,this.toDate).then((function(t){e.activeDealsARMRepList=t.Content,e.activeDealsARMList=t.Content;var o=e.activeDealsARMRepList[0];for(var n in o)e.globalCols.push({field:n,header:n,style:{width:"100px","text-align":"right"},display:"table-cell",showField:!0,text:"right",drag:!0,type:"number"});for(var i=["Deal Number","Quote Number","Status","Geo","Country","Legal Entity Name","Account Name","Currency","Product Name"],a=0;a<e.globalCols.length;a++)-1==i.indexOf(e.globalCols[a].header)?(e.globalCols[a].text="right",e.globalCols[a].type="number"):(e.globalCols[a].text="left",e.globalCols[a].type="text");e.activeDealsARMRepList=t.Content.slice(0,10),e.totalRecords=t.Content.length,e.loading=!1,e.columns=[],e.getTableColumns("ayaraActiveDealsARMReport","Ayara Active Deals ARM Report"),e.disableExport=!1})).catch((function(t){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"showDialogToSearch",value:function(){this.fromDate="",this.toDate="",this.quoteStatus="",this.dealNumber="",this.quoteNumber="",this.geo="",this.prepareQuoteStatusObject(),this.displayDialog=!0}},{key:"exportCSVfile",value:function(){this.exportCols=[];for(var e=0;e<this.columns.length;e++)this.columns[e].showField&&this.exportCols.push(this.columns[e].header.replace(/[#$/()]/g,""));var t=this.ayaraActiveDealsARMReportService.getAyaraActiveDealsARMReportFile(this.dealNumber,this.quoteNumber,this.geo,this.quoteStatus,this.fromDate,this.toDate,this.exportCols);window.location.href=t}},{key:"search",value:function(){this.getAllAyaraActiveDealsARMReport(),this.getChartsData(),this.displayDialog=!1}},{key:"reset",value:function(e){this.dealNumber="",this.quoteNumber="",this.fromDate="",this.toDate="",this.quoteStatus="",this.geo="",this.arrgLevel="S",this.arrgLevelSwitch=!1,this.getAllAyaraActiveDealsARMReport(),this.getChartsData(),this.displayDialog=!1,this.isbarChart=!1}},{key:"fieldType",value:function(e){return typeof e}},{key:"isDateField",value:function(e){return-1!=e.search("Date")}},{key:"displayCharts",value:function(){this.showCharts=!0}},{key:"closeCharts",value:function(){this.showCharts=!1}},{key:"getChartsData",value:function(){var e=this;this.ayaraActiveDealsARMReportService.getAyaraActiveDealsARMChart(this.dealNumber,this.quoteNumber,this.geo,this.quoteStatus,this.fromDate,this.toDate).then((function(t){var o=t.Content;e.isbarChart=!1;var n=[],i=[];e.doughnutChartLabels=[],e.doughnutChartData=[],o.forEach((function(e){n.push(e["Deal Status"]),i.push(e["Revenue Amount"])})),e.doughnutChartLabels=n,e.doughnutChartData=i,e.chartReady=!0})).catch((function(t){e.notificationService.showError("Error occured while loading chart data")}))}}]),e}()).\u0275fac=function(e){return new(e||ui)(u.Pb(Kn),u.Pb(De.a),u.Pb(h.k),u.Pb(s.a),u.Pb(c.a))},ui.\u0275cmp=u.Jb({type:ui,selectors:[["ayaraActiveDealsARMReport-data"]],features:[u.Db([Kn])],decls:77,vars:44,consts:[[1,"content-section","implementation"],[1,"card-wrapper","waterfall-detail-report"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["header","Deal ARM Report",3,"toggleable","onBeforeToggle"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-reply"],[1,"fa","fa-cog"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Analytics",3,"click",4,"ngIf"],["title","Export",3,"click",4,"ngIf"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll","mb-2"],["id","activeDealsARM-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","lazy","paginator","rows","totalRecords","columns","resizableColumns","onRowSelect"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["id","paginator-c",3,"rows","totalRecords","onPageChange"],["header","Search","width","800","showEffect","fade",3,"visible","closable","draggable","modal"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["pInputText","","name","dealNumber","id","dealNumber","placeholder","Deal Number",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],["pInputText","","name","quoteNumber","id","quoteNumber","placeholder","Quote Number",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],["appendTo","body","name","geo",3,"options","ngModel","ngModelOptions","ngModelChange"],["appendTo","body","name","quoteStatus",3,"options","ngModel","ngModelOptions","ngModelChange"],["showAnim","slideDown","name","fromDate","inputStyleClass","textbox","id","fromDate","yearRange","2000:2030","dateFormat","yy-mm-dd","placeholder","From Date","appendTo","body","dataType","string",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],["showAnim","slideDown","name","toDate","inputStyleClass","textbox","id","toDate","yearRange","2000:2030","dateFormat","yy-mm-dd","placeholder","To Date","appendTo","body","dataType","string",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","reset","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["header","Quoted ARM Report","width","800","showEffect","fade",3,"visible","closable","draggable","modal"],["style","display: block;",4,"ngIf"],["type","reset","pButton","","label","Close",1,"secondary-btn",3,"click"],["title","Analytics",3,"click"],[1,"fa","fa-pie-chart"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["style","width:100px","pResizableColumn","",3,"ngStyle",4,"ngFor","ngForOf"],["pResizableColumn","",2,"width","100px",3,"ngStyle"],[3,"pSelectableRow"],["style","width:100px",3,"ngStyle",4,"ngFor","ngForOf"],[2,"width","100px",3,"ngStyle"],[3,"title"],[1,"no-data"],[2,"display","block"],["baseChart","",3,"data","labels","options","chartType",4,"ngIf"],["baseChart","",3,"data","labels","options","chartType"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType",4,"ngIf"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,t){if(1&e){var o=u.Wb();u.Qb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"div",5),u.Vb(6,"p-panel",6),u.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),u.Vb(7,"p-header"),u.Vb(8,"div",7),u.Vb(9,"a",8),u.dc("click",(function(){return t.goToOperationReports()})),u.Qb(10,"em",9),u.Mc(11,"Back"),u.Ub(),u.Vb(12,"a",8),u.dc("click",(function(e){return t.onConfiguringColumns(e)})),u.Qb(13,"em",10),u.Mc(14,"Columns"),u.Ub(),u.Vb(15,"a",11),u.dc("click",(function(){return t.showDialogToSearch()})),u.Qb(16,"em",12),u.Ub(),u.Vb(17,"a",13),u.dc("click",(function(){u.Dc(o);var e=u.Bc(24);return t.reset(e)})),u.Qb(18,"em",14),u.Ub(),u.Kc(19,_n,2,0,"a",15),u.Kc(20,qn,2,0,"a",16),u.Kc(21,Yn,15,5,"div",17),u.Ub(),u.Ub(),u.Vb(22,"div",18),u.Vb(23,"p-table",19,20),u.dc("onRowSelect",(function(e){return t.onRowSelect(e)})),u.Kc(25,Xn,2,1,"ng-template",21),u.Kc(26,oi,2,1,"ng-template",22),u.Kc(27,ai,2,2,"ng-template",23),u.Kc(28,li,3,1,"ng-template",24),u.Ub(),u.Ub(),u.Vb(29,"p-paginator",25),u.dc("onPageChange",(function(e){return t.paginate(e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(30,"p-dialog",26),u.Vb(31,"form"),u.Vb(32,"div",27),u.Vb(33,"div",28),u.Vb(34,"div",29),u.Vb(35,"span",30),u.Vb(36,"span",31),u.Mc(37,"Deal Number"),u.Ub(),u.Vb(38,"input",32),u.dc("ngModelChange",(function(e){return t.dealNumber=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(39,"div",33),u.Vb(40,"span",30),u.Vb(41,"span",31),u.Mc(42,"Quote Number"),u.Ub(),u.Vb(43,"input",34),u.dc("ngModelChange",(function(e){return t.quoteNumber=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(44,"div",28),u.Vb(45,"div",28),u.Vb(46,"span",30),u.Vb(47,"span",31),u.Mc(48,"Geo"),u.Ub(),u.Vb(49,"p-dropdown",35),u.dc("ngModelChange",(function(e){return t.geo=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(50,"div",28),u.Vb(51,"div",28),u.Vb(52,"span",30),u.Vb(53,"span",31),u.Mc(54,"Quote Status"),u.Ub(),u.Vb(55,"p-dropdown",36),u.dc("ngModelChange",(function(e){return t.quoteStatus=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(56,"div",28),u.Vb(57,"div",29),u.Vb(58,"span",30),u.Vb(59,"span",31),u.Mc(60,"From Date"),u.Ub(),u.Vb(61,"p-calendar",37),u.dc("ngModelChange",(function(e){return t.fromDate=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(62,"div",33),u.Vb(63,"span",30),u.Vb(64,"span",31),u.Mc(65,"To Date"),u.Ub(),u.Vb(66,"p-calendar",38),u.dc("ngModelChange",(function(e){return t.toDate=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(67,"p-footer"),u.Vb(68,"div",39),u.Vb(69,"button",40),u.dc("click",(function(){return t.search()})),u.Ub(),u.Vb(70,"button",41),u.dc("click",(function(){u.Dc(o);var e=u.Bc(24);return t.reset(e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(71,"p-dialog",42),u.Kc(72,si,2,1,"div",43),u.Kc(73,di,2,1,"div",43),u.Vb(74,"p-footer"),u.Vb(75,"div",39),u.Vb(76,"button",44),u.dc("click",(function(){return t.closeCharts()})),u.Ub(),u.Ub(),u.Ub(),u.Ub()}2&e&&(u.Eb(6),u.oc("toggleable",!1),u.Eb(13),u.oc("ngIf",!t.disableExport),u.Eb(1),u.oc("ngIf",!t.disableExport),u.Eb(1),u.oc("ngIf",!t.showAddColumns),u.Eb(2),u.oc("loading",t.loading)("value",t.activeDealsARMRepList)("lazy",!0)("paginator",!1)("rows",t.rowCount)("totalRecords",t.totalRecords)("columns",t.columns)("resizableColumns",!0),u.Eb(6),u.oc("rows",10)("totalRecords",t.totalRecords),u.Eb(1),u.oc("visible",t.displayDialog)("closable",!1)("draggable",!0)("modal",!0),u.Eb(8),u.oc("ngModelOptions",u.rc(40,hi))("ngModel",t.dealNumber),u.Eb(5),u.oc("ngModelOptions",u.rc(41,hi))("ngModel",t.quoteNumber),u.Eb(6),u.oc("options",t.geos)("ngModel",t.geo)("ngModelOptions",u.rc(42,hi)),u.Eb(6),u.oc("options",t.quoteStatuses)("ngModel",t.quoteStatus)("ngModelOptions",u.rc(43,hi)),u.Eb(6),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",t.fromDate),u.Eb(5),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",t.toDate),u.Eb(5),u.oc("visible",t.showCharts)("closable",!1)("draggable",!0)("modal",!0),u.Eb(1),u.oc("ngIf",!t.isbarChart),u.Eb(1),u.oc("ngIf",t.isbarChart))},directives:[C.a,A.c,h.o,S.j,A.f,rt.a,M.a,R.v,R.l,R.m,R.b,U.a,R.k,R.n,se.a,w.a,A.b,D.b,k.a,N.b,N.c,R.a,h.p,h.n,S.g,S.i,go.a],pipes:[h.f,h.g],encapsulation:2}),ui.\u0275prov=u.Lb({token:ui,factory:ui.\u0275fac}),ui),pi=a("8DrR"),mi=a("FpCA"),fi=a("+yMW");new d.f({"Content-Type":"application/json"});var yi,vi=((yi=function(){function e(t,n){o(this,e),this.http=t,this.datePipe=n}return i(e,[{key:"getServiceUrl",value:function(e,t,o,n){var i=fi.apiUrl+"/ayaraSummaryReportExport?";return 0==o&&(i=fi.apiUrl+"/ayaraSummaryReport?"),t.groupBy&&(i=i+"&groupBy="+t.groupBy),t.rcNumber&&(i=i+"&rcNumber="+t.rcNumber),t.salesContract&&(i=i+"&salesContract="+t.salesContract),t.so&&(i=i+"&so="+t.so),t.orderLine&&(i=i+"&orderLine="+t.orderLine),t.assetId&&(i=i+"&assetId="+t.assetId),t.startDate&&(i=i+"&startDate="+this.datePipe.transform(t.startDate,"yyyyMMdd")),t.endDate&&(i=i+"&endDate="+this.datePipe.transform(t.endDate,"yyyyMMdd")),null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(i=i+"&page="+e.pageNumber+"&size="+e.pageSize),null!=n&&""!=n&&(i=i+"&exportCols="+n),i}},{key:"getAllayaraAccountSummaryReport",value:function(e,t,o){var n=this.getServiceUrl(e,t,0,o);return this.http.get(n).toPromise().then((function(e){return e}))}},{key:"fetchRCNumbers",value:function(e){return this.http.get(fi.apiUrl+"/fetchAllRC?rc="+e).toPromise().then((function(e){return e}))}}]),e}()).\u0275fac=function(e){return new(e||yi)(u.Zb(d.b),u.Zb(h.f))},yi.\u0275prov=u.Lb({token:yi,factory:yi.\u0275fac}),yi),Ci=a("Nf9I");function Ai(e,t){if(1&e){var o=u.Wb();u.Tb(0),u.Vb(1,"a",31),u.dc("click",(function(){return u.Dc(o),u.gc(2).exportExcel()})),u.Qb(2,"em",32),u.Ub(),u.Sb()}}function Si(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",44),u.dc("onDragStart",(function(){u.Dc(o);var e=u.gc().index;return u.gc(3).onDragStart(e)}))("onDrop",(function(){u.Dc(o);var e=u.gc().index;return u.gc(3).onDrop(e)})),u.Vb(2,"div",45),u.Vb(3,"input",46),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(3).selectColumns(e)})),u.Ub(),u.Vb(4,"label"),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField),u.Eb(2),u.Nc(n.header)}}var Mi=function(){return{color:"grey"}};function Ri(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",47),u.Vb(2,"div"),u.Vb(3,"input",48),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(3).selectColumns(e)})),u.Ub(),u.Vb(4,"label",49),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField)("disabled",!n.drag),u.Eb(1),u.oc("ngStyle",u.rc(5,Mi)),u.Eb(1),u.Nc(n.header)}}function Vi(e,t){if(1&e&&(u.Kc(0,Si,6,3,"div",29),u.Kc(1,Ri,6,6,"div",29)),2&e){var o=t.$implicit;u.oc("ngIf",o.drag),u.Eb(1),u.oc("ngIf",!o.drag)}}var wi=function(){return{width:"100%",height:"100%"}};function Ui(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",33),u.Vb(1,"div",34),u.Vb(2,"div",35),u.Vb(3,"input",36),u.dc("click",(function(){return u.Dc(o),u.gc(2).onSelectAll()})),u.Ub(),u.Vb(4,"label",37),u.Mc(5,"Select All"),u.Ub(),u.Vb(6,"a",38),u.dc("click",(function(e){return u.Dc(o),u.gc(2).closeConfigureColumns(e)})),u.Mc(7,"\xd7"),u.Ub(),u.Vb(8,"p-listbox",39),u.Kc(9,Vi,2,2,"ng-template",40),u.Ub(),u.Ub(),u.Vb(10,"div",41),u.Vb(11,"a",42),u.dc("click",(function(){return u.Dc(o),u.gc(2).saveColumns()})),u.Mc(12,"Save"),u.Ub(),u.Vb(13,"a",43),u.dc("click",(function(e){return u.Dc(o),u.gc(2).closeConfigureColumns(e)})),u.Mc(14,"Cancel"),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc(2);u.Eb(3),u.oc("checked",n.isSelectAllChecked),u.Eb(5),u.Ic(u.rc(4,wi)),u.oc("options",n.globalCols)}}function Di(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",22),u.Vb(1,"a",23),u.dc("click",(function(e){return u.Dc(o),u.gc().onConfiguringColumns(e)})),u.Qb(2,"em",24),u.Mc(3,"Columns"),u.Ub(),u.Vb(4,"a",25),u.dc("click",(function(){return u.Dc(o),u.gc().showDialogToSearch()})),u.Qb(5,"em",26),u.Ub(),u.Vb(6,"a",27),u.dc("click",(function(){u.Dc(o);var e=u.gc(),t=u.Bc(6);return e.reset(t)})),u.Qb(7,"em",28),u.Ub(),u.Kc(8,Ai,3,0,"ng-container",29),u.Kc(9,Ui,15,5,"div",30),u.Ub()}if(2&e){var n=u.gc();u.Eb(8),u.oc("ngIf",!n.disableExport),u.Eb(1),u.oc("ngIf",!n.showAddColumns)}}function ki(e,t){1&e&&u.Qb(0,"col")}function Ni(e,t){if(1&e&&(u.Vb(0,"colgroup"),u.Kc(1,ki,1,0,"col",50),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngForOf",o)}}var Fi=function(e){return{display:e}};function xi(e,t){if(1&e&&(u.Vb(0,"th",53),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit;u.pc("title",o.header),u.oc("ngStyle",u.sc(3,Fi,o.display)),u.Eb(1),u.Nc(o.header)}}function Ei(e,t){if(1&e&&(u.Vb(0,"th",54),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit;u.pc("title",o.header),u.oc("ngStyle",u.sc(3,Fi,o.display)),u.Eb(1),u.Nc(o.header)}}function Ti(e,t){if(1&e&&(u.Tb(0),u.Kc(1,xi,2,5,"th",51),u.Kc(2,Ei,2,5,"th",52),u.Sb()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngIf","text"==o.type||"date"==o.type),u.Eb(1),u.oc("ngIf","number"==o.type||"round"==o.type||"link"==o.type)}}function Li(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,Ti,3,2,"ng-container",50),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngForOf",o.columns)}}function Pi(e,t){if(1&e&&(u.Vb(0,"td",58),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",n[o.field]),u.oc("ngStyle",u.sc(3,Fi,o.display)),u.Eb(1),u.Oc(" ",n[o.field]," ")}}function Oi(e,t){if(1&e&&(u.Vb(0,"td",59),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",n[o.field]),u.oc("ngStyle",u.sc(3,Fi,o.display)),u.Eb(1),u.Oc(" ",n[o.field]," ")}}function Ii(e,t){if(1&e&&(u.Vb(0,"td",58),u.hc(1,"date"),u.Mc(2),u.hc(3,"date"),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",u.jc(1,3,n[o.field],"MM/dd/yyyy")),u.oc("ngStyle",u.sc(9,Fi,o.display)),u.Eb(2),u.Oc(" ",u.jc(3,6,n[o.field],"MM/dd/yyyy")," ")}}function Bi(e,t){if(1&e&&(u.Vb(0,"td",59),u.hc(1,"round"),u.Mc(2),u.hc(3,"round"),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",u.ic(1,3,n[o.field])),u.oc("ngStyle",u.sc(7,Fi,o.display)),u.Eb(2),u.Oc(" ",u.ic(3,5,n[o.field])," ")}}function zi(e,t){if(1&e&&(u.Tb(0),u.Kc(1,Pi,2,5,"td",56),u.Kc(2,Oi,2,5,"td",57),u.Kc(3,Ii,4,11,"td",56),u.Kc(4,Bi,4,9,"td",57),u.Sb()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngIf","text"==o.type),u.Eb(1),u.oc("ngIf","number"==o.type),u.Eb(1),u.oc("ngIf","date"==o.type),u.Eb(1),u.oc("ngIf","round"==o.type)}}function Qi(e,t){if(1&e&&(u.Vb(0,"tr",55),u.Kc(1,zi,5,4,"ng-container",50),u.Ub()),2&e){var o=t.$implicit,n=t.columns,i=u.gc();u.oc("pSelectableRow",o)("pSelectableRowIndex",i.rowIndex),u.Eb(1),u.oc("ngForOf",n)}}function $i(e,t){if(1&e&&(u.Vb(0,"div",60),u.Vb(1,"p"),u.Mc(2),u.Ub(),u.Ub()),2&e){var o=u.gc();u.Eb(2),u.Nc(o.noData)}}var Ki,_i,qi=function(){return{standalone:!0}},Wi=a("+yMW"),ji=((Ki=function(){function e(t,n,i,a,l,r,s,c){var d=this;o(this,e),this.ayaraAccountSummaryReportService=t,this.confirmationService=n,this.formBuilder=i,this.notificationService=a,this._uploadService=l,this.commonSharedService=r,this.rmanLookupsVService=s,this.rmanFiscalPeriodsService=c,this.ayaraAccountSummaryReport=new Ji,this.ayaraAccountSummaryReportSearch=new Ji,this.isSerached=0,this.displayCustomersInterfaceDialog=!1,this.paginationOptions={},this.searchFields={},this.collapsed=!0,this.noData=Wi.noData,this.isSelectAllChecked=!0,this.showPaginator=!0,this.showAddColumns=!0,this.groupByList=[],this.exportCols=[],this.disableExport=!0,this.searched=0,this.dealArrangementNumbers=[],this.currentPeriod={},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10"},this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"ACCT_SUMMARY_GROUP"}).then((function(e){d.groupByList=e.content,d.prepareGroupByObject()})),this.rmanFiscalPeriodsService.getCurrentfiscalperiod().then((function(e){d.currentPeriod=e}))}return i(e,[{key:"ngOnInit",value:function(){this.globalCols=[{field:"postedFlag",header:"Posted Flag",showField:!0,drag:!1,display:"table-cell",type:"text"},{field:"groupId",header:"Group ID",showField:!0,drag:!1,display:"table-cell",type:"text"},{field:"entityName",header:"Entity Name",showField:!0,drag:!1,display:"table-cell",type:"text"},{field:"assetNumber",header:"Asset Number",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"periodName",header:"Period Name",showField:!0,drag:!1,display:"table-cell",type:"number"},{field:"currencyCode",header:"Currency Code",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"account",header:"Account",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"accountDescription",header:"Account Description",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"enteredDebitAmount",header:"Entered Debit Amount",showField:!0,drag:!0,display:"table-cell",type:"round"},{field:"enteredCreditAmount",header:"Entered Credit Amount",showField:!0,drag:!0,display:"table-cell",type:"round"},{field:"converetedDebitAmount",header:"Converted Debit Amount",showField:!0,drag:!0,display:"table-cell",type:"round"},{field:"converetedCreditAmount",header:"Converted Credit Amount",showField:!0,drag:!0,display:"table-cell",type:"round"},{field:"segment1",header:"Company",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"segment2",header:"Region",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"segment3",header:"Department",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"segment4",header:"Account",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"segment5",header:"Project",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"segment6",header:"Revenue Category",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"segment7",header:"Product Family",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"segment8",header:"Product Line",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"segment9",header:"Customer Type",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"segment10",header:"Future1",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"segment11",header:"Future2",showField:!0,drag:!0,display:"table-cell",type:"text"}],this.columns=[],this.getTableColumns("ayaraAccountSummaryReport","AyaraAccountSummaryReport")}},{key:"getTableColumns",value:function(e,t){var o=this;this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then((function(e){if(e&&null!=e&&e.userId){o.columns=[];var t=e.tableColumns.split(",");t.length>0&&t.forEach((function(e,t){e&&(o.startIndex=o.globalCols.findIndex((function(t){return t.field==e})),o.onDrop(t))})),o.globalCols.forEach((function(t){-1!==e.tableColumns.indexOf(t.field)?o.columns.push(t):t.showField=!1})),o.columns.length!=o.globalCols.length&&(o.isSelectAllChecked=!1),o.showPaginator=0!==o.columns.length,o.userId=e.userId}else o.columns=o.globalCols})).catch((function(){o.notificationService.showError("Error occured while getting table columns data"),o.loading=!1}))}},{key:"saveColumns",value:function(){var e=this,t="";this.showAddColumns=!this.showAddColumns;var o=this.globalCols.length-1;this.globalCols.forEach((function(e,n){e.showField&&(t+=e.field,n<o&&(t+=","))})),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("ayaraAccountSummaryReport","AyaraAccountSummaryReport",t,this.userId).then((function(t){e.columns=e.globalCols.filter((function(e){return e.showField})),e.userId=t.userId,e.showPaginator=0!==e.columns.length,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"onDragStart",value:function(e){this.startIndex=e}},{key:"onDrop",value:function(e){var t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}},{key:"selectColumns",value:function(e){var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"onConfiguringColumns",value:function(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}},{key:"closeConfigureColumns",value:function(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"getAllAyaraAccountSummaryReport",value:function(){var e=this;this.loading=!0,this.ayaraAccountSummaryReportService.getAllayaraAccountSummaryReport(this.paginationOptions,this.searchFields,this.exportCols).then((function(t){e.loading=!1,e.datasource=t.content,e.ayaraAccountSummaryReportList=t.content,e.totalElements=t.totalElements,e.pageSize=t.size,e.displaySearchDialog=!1,e.disableExport=!1})).catch((function(t){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"getAyaraAccountSummaryReport",value:function(e){var t=this;this.loading=!0,this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.ayaraAccountSummaryReportService.getAllayaraAccountSummaryReport(this.paginationOptions,this.searchFields,this.exportCols).then((function(e){t.loading=!1,t.datasource=e.content,t.ayaraAccountSummaryReportList=e.content,t.totalElements=e.totalElements,t.pageSize=e.size,t.disableExport=!1})).catch((function(e){t.notificationService.showError("Error occured while getting data"),t.loading=!1}))}},{key:"exportExcel",value:function(){this.exportCols=[];for(var e=0;e<this.columns.length;e++)this.columns[e].showField&&this.exportCols.push(this.columns[e].field);var t=this.ayaraAccountSummaryReportService.getServiceUrl(this.paginationOptions,this.searchFields,1,this.exportCols);window.location.href=t}},{key:"onBeforeToggle",value:function(e){this.collapsed=e.collapsed}},{key:"reset",value:function(e){this.paginationOptions={},this.ayaraAccountSummaryReport=new Ji,this.searchFields={},e.reset(),this.searched=0}},{key:"onRowSelect",value:function(e){}},{key:"prepareGroupByObject",value:function(){var e=[{label:Wi.dropDownOptions.selectGroupBy,value:null}];this.groupByList.forEach((function(t){e.push({label:t.lookupDescription,value:t.lookupCode})})),this.groupBy=e}},{key:"toggleColumnMenu",value:function(){this.hideColumnMenu=!this.hideColumnMenu}},{key:"toggleFilterBox",value:function(){this.showFilter=!this.showFilter}},{key:"showDialogToSearch",value:function(){this.searchFields={},this.displaySearchDialog=!0,0==this.isSerached&&(this.searchFields.startDate=new Date(this.currentPeriod.startDate),this.searchFields.endDate=new Date(this.currentPeriod.endDate))}},{key:"searchRCList",value:function(e){var t=this;this.ayaraAccountSummaryReportService.fetchRCNumbers(e.query).then((function(e){t.dealArrangementNumbers=e.map((function(e){return e}))})).catch((function(e){t.dealArrangementNumbers=[]}))}},{key:"search",value:function(){this.paginationOptions={},this.displaySearchDialog=!1,this.getAllAyaraAccountSummaryReport(),this.searched=1}}]),e}()).\u0275fac=function(e){return new(e||Ki)(u.Pb(vi),u.Pb(A.a),u.Pb(R.c),u.Pb(c.a),u.Pb(mi.a),u.Pb(s.a),u.Pb(De.a),u.Pb(v.a))},Ki.\u0275cmp=u.Jb({type:Ki,selectors:[["ayaraAccountSummaryReport-data"]],features:[u.Db([vi,A.a,De.a,v.a])],decls:28,vars:24,consts:[[1,"content-section","implementation"],["header","Account Summary Report",3,"toggleable","onBeforeToggle"],["class","pull-right icons-list",4,"ngIf"],[1,"x-scroll"],["id","ayaraAccountSummaryReport-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","lazy","paginator","rows","totalRecords","columns","resizableColumns","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Search","width","auto","showEffect","fade",3,"visible","draggable","modal","blockScroll","visibleChange"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"selectSpan"],["showAnim","slideDown","inputStyleClass","textbox","name","fromPeriod","id","fromPeriod","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","From Period",3,"monthNavigator","yearNavigator","ngModelOptions","ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],["showAnim","slideDown","name","toPeriod","inputStyleClass","textbox","id","toPeriod","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","To Period",3,"monthNavigator","yearNavigator","ngModelOptions","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["header","Confirmation","icon","fa fa-question-circle","width","425"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],[4,"ngIf"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-results-data"]],template:function(e,t){1&e&&(u.Qb(0,"div",0),u.Vb(1,"p-panel",1),u.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),u.Vb(2,"p-header"),u.Kc(3,Di,10,2,"div",2),u.Ub(),u.Vb(4,"div",3),u.Vb(5,"p-table",4,5),u.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getAyaraAccountSummaryReport(e)})),u.Kc(7,Ni,2,1,"ng-template",6),u.Kc(8,Li,2,1,"ng-template",7),u.Kc(9,Qi,2,3,"ng-template",8),u.Kc(10,$i,3,1,"ng-template",9),u.Ub(),u.Ub(),u.Ub(),u.Vb(11,"p-dialog",10),u.dc("visibleChange",(function(e){return t.displaySearchDialog=e})),u.Vb(12,"form"),u.Vb(13,"div",11),u.Vb(14,"div",12),u.Vb(15,"div",13),u.Vb(16,"span",14),u.Mc(17,"From Period"),u.Ub(),u.Vb(18,"p-calendar",15),u.dc("ngModelChange",(function(e){return t.searchFields.startDate=e})),u.Ub(),u.Ub(),u.Vb(19,"div",16),u.Vb(20,"span",14),u.Mc(21,"To Period"),u.Ub(),u.Vb(22,"p-calendar",17),u.dc("ngModelChange",(function(e){return t.searchFields.endDate=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(23,"p-footer"),u.Vb(24,"div",18),u.Vb(25,"button",19),u.dc("click",(function(){return t.search()})),u.Ub(),u.Vb(26,"button",20),u.dc("click",(function(){return t.displaySearchDialog=!1})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Qb(27,"p-confirmDialog",21)),2&e&&(u.Eb(1),u.oc("toggleable",!1),u.Eb(2),u.oc("ngIf",t.collapsed),u.Eb(2),u.oc("loading",t.loading)("value",t.ayaraAccountSummaryReportList)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("columns",t.columns)("resizableColumns",!0),u.Eb(6),u.oc("visible",t.displaySearchDialog)("draggable",!0)("modal",!0)("blockScroll",!0),u.Eb(7),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModelOptions",u.rc(22,qi))("ngModel",t.searchFields.startDate),u.Eb(4),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModelOptions",u.rc(23,qi))("ngModel",t.searchFields.endDate))},directives:[C.a,A.c,h.o,S.j,A.f,M.a,R.v,R.l,R.m,w.a,R.k,R.n,A.b,D.b,Ci.a,k.a,N.b,N.c,R.a,h.p,h.n,S.g,S.i],pipes:[h.f,F.a],encapsulation:2}),Ki),Ji=function e(t,n,i,a,l,r,s,c,d,u,h,g,b,p,m,f,y,v,C,A,S,M,R,V,w,U,D,k){o(this,e),this.dealArrangementNumber=t,this.salesContract=n,this.orderNumber=i,this.orderLineNumber=a,this.orderLineId=l,this.t4cFlag=r,this.t4cFrequency=s,this.assetId=c,this.assetNumber=d,this.periodName=u,this.currencyCode=h,this.account=g,this.accountDescription=b,this.enteredDebitAmount=p,this.enteredCreditAmount=m,this.converetedDebitAmount=f,this.converetedCreditAmount=y,this.segment1=v,this.segment2=C,this.segment3=A,this.segment4=S,this.segment5=M,this.segment6=R,this.segment7=V,this.segment8=w,this.segment9=U,this.segment10=D,this.segment11=k},Hi=a("+yMW"),Gi=((_i=function(){function e(t){o(this,e),this.http=t}return i(e,[{key:"getAyaraUnbilledARLTDeferredReport",value:function(e,t,o,n){return null==e&&(e=""),null==t&&(t=""),null==o&&(o=""),null==n&&(n=""),this.http.get(Hi.apiUrl+"/unbilledARLTDefererdReport?customerNumber="+e+"&rcNumber="+t+"&orderNumber="+o+"&orderLineNumber="+n).toPromise().then((function(e){return e}))}},{key:"getAyaraUnbilledARLTDeferredReportFile",value:function(e,t,o,n,i){null==e&&(e=""),null==t&&(t=""),null==o&&(o=""),null==n&&(n="");var a=Hi.apiUrl+"/exportUnbilledARLTDefererdReport?customerNumber="+e+"&rcNumber="+t+"&orderNumber="+o+"&orderLineNumber="+n;return null!=i&&""!=i&&(a=a+"&exportCols="+encodeURIComponent(i)),a}},{key:"fetchRCNumbers",value:function(e){return this.http.get(Hi.apiUrl+"/fetchAllRC?rc="+e).toPromise().then((function(e){return e}))}},{key:"getParameterValues",value:function(e,t){return this.http.get(Hi.apiUrl+"/fetchFilterValues?parameterName=".concat(e,"&parameterValue=").concat(t))}}]),e}()).\u0275fac=function(e){return new(e||_i)(u.Zb(d.b))},_i.\u0275prov=u.Lb({token:_i,factory:_i.\u0275fac}),_i);function Yi(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",52),u.dc("onDragStart",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDragStart(e)}))("onDrop",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDrop(e)})),u.Vb(2,"div",53),u.Vb(3,"input",54),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label"),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField),u.Eb(2),u.Nc(n.header)}}var Zi=function(){return{color:"grey"}};function Xi(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",55),u.Vb(2,"div"),u.Vb(3,"input",56),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label",57),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField)("disabled",!n.drag),u.Eb(1),u.oc("ngStyle",u.rc(5,Zi)),u.Eb(1),u.Nc(n.header)}}function ea(e,t){if(1&e&&(u.Kc(0,Yi,6,3,"div",51),u.Kc(1,Xi,6,6,"div",51)),2&e){var o=t.$implicit;u.oc("ngIf",o.drag),u.Eb(1),u.oc("ngIf",!o.drag)}}var ta=function(){return{width:"100%",height:"100%"}};function oa(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",40),u.Vb(1,"div",41),u.Vb(2,"div",42),u.Vb(3,"input",43),u.dc("click",(function(){return u.Dc(o),u.gc().onSelectAll()})),u.Ub(),u.Vb(4,"label",44),u.Mc(5,"Select All"),u.Ub(),u.Vb(6,"a",45),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(7,"\xd7"),u.Ub(),u.Vb(8,"p-listbox",46),u.Kc(9,ea,2,2,"ng-template",47),u.Ub(),u.Ub(),u.Vb(10,"div",48),u.Vb(11,"a",49),u.dc("click",(function(){return u.Dc(o),u.gc().saveColumns()})),u.Mc(12,"Save"),u.Ub(),u.Vb(13,"a",50),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(14,"Cancel"),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc();u.Eb(3),u.oc("checked",n.isSelectAllChecked),u.Eb(5),u.Ic(u.rc(4,ta)),u.oc("options",n.globalCols)}}function na(e,t){1&e&&u.Qb(0,"col")}function ia(e,t){if(1&e&&(u.Vb(0,"colgroup"),u.Kc(1,na,1,0,"col",58),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngForOf",o)}}var aa=function(e,t){return{display:e,"text-align":t}};function la(e,t){if(1&e&&(u.Vb(0,"th",60),u.Mc(1),u.Ub()),2&e){var o=t.$implicit;u.oc("ngStyle",u.tc(2,aa,o.display,o.text)),u.Eb(1),u.Oc(" ",o.header," ")}}function ra(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,la,2,5,"th",59),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngForOf",o.columns)}}function sa(e,t){if(1&e&&(u.Vb(0,"td",63),u.Vb(1,"span",64),u.Mc(2),u.hc(3,"number"),u.Ub(),u.Ub()),2&e){var o=t.$implicit,n=u.gc().$implicit,i=u.gc();u.oc("ngStyle",u.tc(6,aa,o.display,o.text)),u.Eb(1),u.pc("title",n[o.field]),u.Eb(1),u.Nc("number"==i.fieldType(n[o.field])?u.jc(3,3,n[o.field],"1.2-2"):n[o.field])}}function ca(e,t){if(1&e&&(u.Vb(0,"tr",61),u.Kc(1,sa,4,9,"td",62),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.oc("pSelectableRow",o),u.Eb(1),u.oc("ngForOf",n.columns)}}function da(e,t){if(1&e&&(u.Vb(0,"tr"),u.Vb(1,"td",65),u.Mc(2),u.Ub(),u.Ub()),2&e){var o=u.gc();u.Eb(2),u.Nc(o.noData)}}var ua,ha=function(){return{standalone:!0}},ga=a("+yMW"),ba=((ua=function(){function e(t,n,i,a,l){o(this,e),this.ayaraUnbilledARLTDeferredReportService=t,this.location=n,this.commonSharedService=i,this.notificationService=a,this.rmanCustomersService=l,this.columns=[],this.fiscalPeriodsList=[],this.fromPeriodArray=[],this.customers=[],this.selectedCustomer={},this.noData=ga.noData,this.collapsed=!1,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.exportCols=[],this.disableExport=!0,this.customerNames=[],this.customerNumbers=[],this.dealArrangementNumbers=[],this.currentDate=new Date,this.globalCols=[],this.getAllAyaraUnbilledARLTDeferredReport(),this.paginationOptions={pageNumber:0,pageSize:"10000"}}return i(e,[{key:"ngOnInit",value:function(){this.rowCount=20}},{key:"getTableColumns",value:function(e,t){var o=this;this.isSelectAllChecked=!0;var n=["Jan-","Feb-","Mar-","Apr-","May-","Jun-","Jul-","Aug-","Sep-","Oct-","Nov-","Dec-","Future"];this.commonSharedService.getConfiguredColDetails(e,t).then((function(e){if(e&&null!=e&&e.userId){o.columns=[];var t=e.tableColumns.split(",");t.length>0&&t.forEach((function(e,t){e&&(o.startIndex=o.globalCols.findIndex((function(t){return t.field==e})),o.onDrop(t))})),o.globalCols.forEach((function(t){-1!==e.tableColumns.indexOf(t.field)||1==o.checkIfStringStartsWith(t.field,n)?o.columns.push(t):t.showField=!1})),o.columns.length!=o.globalCols.length&&(o.isSelectAllChecked=!1),o.showPaginator=0!==o.columns.length,o.userId=e.userId}else o.columns=o.globalCols})).catch((function(){o.notificationService.showError("Error occured while getting table columns data"),o.loading=!1}))}},{key:"checkIfStringStartsWith",value:function(e,t){return t.some((function(t){return e.startsWith(t)}))}},{key:"saveColumns",value:function(){var e=this,t="";this.showAddColumns=!this.showAddColumns;var o=this.globalCols.length-1;this.globalCols.forEach((function(n,i){n.showField&&0==e.checkIfStringStartsWith(n.field,["Jan-","Feb-","Mar-","Apr-","May-","Jun-","Jul-","Aug-","Sep-","Oct-","Nov-","Dec-","Future"])&&(t+=n.field,i<o&&(t+=","))})),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("ayaraUnbilledARLTDeferredReport","WaterFall Details Report",t,this.userId).then((function(t){e.columns=e.globalCols.filter((function(e){return e.showField})),e.userId=t.userId,e.showPaginator=0!==e.columns.length,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while saving"),e.loading=!1}))}},{key:"onDragStart",value:function(e){this.startIndex=e}},{key:"onDrop",value:function(e){var t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}},{key:"selectColumns",value:function(e){var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"onConfiguringColumns",value:function(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}},{key:"closeConfigureColumns",value:function(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"goToOperationReports",value:function(){this.location.back()}},{key:"onBeforeToggle",value:function(e){this.collapsed=e.collapsed}},{key:"paginate",value:function(e){this.loading=!0,this.unbilledARLTRepList=this.unbilledARLTList.slice(e.first,e.first+10),this.loading=!1}},{key:"onRowSelect",value:function(e){}},{key:"getAllAyaraUnbilledARLTDeferredReport",value:function(){var e=this;this.globalCols=[],this.loading=!0,this.customerNumber=this.selectedCustomer.customerNumber,this.ayaraUnbilledARLTDeferredReportService.getAyaraUnbilledARLTDeferredReport(this.customerNumber,this.rcNumber,this.orderNumber,this.orderLineNumber).then((function(t){e.unbilledARLTRepList=t.Content,e.unbilledARLTList=t.Content;var o=e.unbilledARLTRepList[0];for(var n in o)e.globalCols.push({field:n,header:n,style:{width:"100px","text-align":"right"},display:"table-cell",showField:!0,text:"right",drag:!0});for(var i=["Customer","Revenue Contract","Deal Line Number","SD Flag","Proof Posted","Period"],a=0;a<e.globalCols.length;a++)e.globalCols[a].text=-1==i.indexOf(e.globalCols[a].header)?"right":"left";e.totalRecords=t.Content.length,e.loading=!1,e.columns=[],e.getTableColumns("ayaraUnbilledARLTDeferredReport","Unbilled AR LT Deferred Report"),e.disableExport=!1})).catch((function(t){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"showDialogToSearch",value:function(){this.customerNumber="",this.rcNumber="",this.orderNumber="",this.orderLineNumber="",this.displayDialog=!0,this.selectedCustomer={}}},{key:"exportCSVfile",value:function(){this.exportCols=[];for(var e=0;e<this.columns.length;e++)this.columns[e].showField&&this.exportCols.push(this.columns[e].header.replace(/[#$/()]/g,""));var t=this.ayaraUnbilledARLTDeferredReportService.getAyaraUnbilledARLTDeferredReportFile(this.customerNumber,this.rcNumber,this.orderNumber,this.orderLineNumber,this.exportCols);window.location.href=t}},{key:"search",value:function(){this.getAllAyaraUnbilledARLTDeferredReport(),this.displayDialog=!1}},{key:"searchCustomerNames",value:function(e){var t=this;this.rmanCustomersService.getAllRmanCustomers(this.paginationOptions,{customerName:e.query},!0).then((function(e){t.customers=e.content})).catch((function(e){t.customers=[]}))}},{key:"searchCustomerNumbers",value:function(e){var t=this;this.rmanCustomersService.getAllRmanCustomers(this.paginationOptions,{customerNumber:e.query},!1).then((function(e){t.customerNumbers=e.content.map((function(e){return e.customerNumber}))})).catch((function(e){t.customerNumbers=[]}))}},{key:"reset",value:function(e){this.customerNumber="",this.rcNumber="",this.selectedCustomer={},this.getAllAyaraUnbilledARLTDeferredReport(),this.displayDialog=!1}},{key:"fieldType",value:function(e){return typeof e}},{key:"isDateField",value:function(e){return-1!=e.search("Date")}},{key:"searchRCList",value:function(e){var t=this;this.ayaraUnbilledARLTDeferredReportService.fetchRCNumbers(e.query).then((function(e){t.dealArrangementNumbers=e.map((function(e){return e}))})).catch((function(e){t.dealArrangementNumbers=[]}))}},{key:"searchValues",value:function(e,t){var o=this;this.ayaraUnbilledARLTDeferredReportService.getParameterValues(e,t.query).subscribe((function(e){return o.valueResults=e}))}}]),e}()).\u0275fac=function(e){return new(e||ua)(u.Pb(Gi),u.Pb(h.k),u.Pb(s.a),u.Pb(c.a),u.Pb(m.a))},ua.\u0275cmp=u.Jb({type:ua,selectors:[["ayaraUnbilledARLTDeferredReport-data"]],features:[u.Db([Gi,m.a])],decls:62,vars:38,consts:[[1,"content-section","implementation"],[1,"card-wrapper","waterfall-detail-report"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["header","LT Deferred & Unbilled AR Reclass",3,"toggleable","onBeforeToggle"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-reply"],[1,"fa","fa-cog"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll","mb-2"],["id","unbilleARLT-dt","columnResizeMode","expand","scrollable","true",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","exportFilename","paginator","rows","columns","resizableColumns"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Search","width","800","showEffect","fade",3,"visible","closable","draggable","modal"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"selectSpan"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Customer Name Type atleast 3 Characters","id","from","field","customerName",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],[1,"ui-g-6","pull-right"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Revenue Contract Number Type atleast 3 Characters","id","from",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["pInputText","","name","customerNumber","id","customerNumber","placeholder","Customer Number",1,"textbox",3,"ngModelOptions","ngModel","disabled","ngModelChange"],[1,"md-inputfield"],["appendTo","body","placeholder","Type Order Number Value","minLength","3",3,"ngModel","suggestions","ngModelOptions","ngModelChange","completeMethod"],["appendTo","body","placeholder","Type Order Line Number Value","minLength","3",3,"ngModel","suggestions","ngModelOptions","ngModelChange","completeMethod"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","reset","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["style","width:100px","pResizableColumn","",3,"ngStyle",4,"ngFor","ngForOf"],["pResizableColumn","",2,"width","100px",3,"ngStyle"],[3,"pSelectableRow"],["style","width:100px",3,"ngStyle",4,"ngFor","ngForOf"],[2,"width","100px",3,"ngStyle"],[3,"title"],[1,"no-data"]],template:function(e,t){if(1&e){var o=u.Wb();u.Qb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"div",5),u.Vb(6,"p-panel",6),u.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),u.Vb(7,"p-header"),u.Vb(8,"div",7),u.Vb(9,"a",8),u.dc("click",(function(){return t.goToOperationReports()})),u.Qb(10,"em",9),u.Mc(11,"Back"),u.Ub(),u.Vb(12,"a",8),u.dc("click",(function(e){return t.onConfiguringColumns(e)})),u.Qb(13,"em",10),u.Mc(14,"Columns"),u.Ub(),u.Vb(15,"a",11),u.dc("click",(function(){return t.showDialogToSearch()})),u.Qb(16,"em",12),u.Ub(),u.Vb(17,"a",13),u.dc("click",(function(){u.Dc(o);var e=u.Bc(24);return t.reset(e)})),u.Qb(18,"em",14),u.Ub(),u.Vb(19,"a",15),u.dc("click",(function(){return u.Dc(o),u.Bc(24).exportCSV()})),u.Qb(20,"em",16),u.Ub(),u.Kc(21,oa,15,5,"div",17),u.Ub(),u.Ub(),u.Vb(22,"div",18),u.Vb(23,"p-table",19,20),u.hc(25,"date"),u.Kc(26,ia,2,1,"ng-template",21),u.Kc(27,ra,2,1,"ng-template",22),u.Kc(28,ca,2,2,"ng-template",23),u.Kc(29,da,3,1,"ng-template",24),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(30,"p-dialog",25),u.Vb(31,"form"),u.Vb(32,"div",26),u.Vb(33,"div",27),u.Vb(34,"div",28),u.Vb(35,"span",29),u.Mc(36,"Customer Name"),u.Ub(),u.Vb(37,"p-autoComplete",30),u.dc("completeMethod",(function(e){return t.searchCustomerNames(e)}))("ngModelChange",(function(e){return t.selectedCustomer=e})),u.Ub(),u.Ub(),u.Vb(38,"div",31),u.Vb(39,"span",29),u.Mc(40,"Revenue Contract Number"),u.Ub(),u.Vb(41,"p-autoComplete",32),u.dc("completeMethod",(function(e){return t.searchRCList(e)}))("ngModelChange",(function(e){return t.rcNumber=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(42,"div",27),u.Vb(43,"div",28),u.Vb(44,"span",29),u.Mc(45," Customer Number"),u.Ub(),u.Vb(46,"input",33),u.dc("ngModelChange",(function(e){return t.selectedCustomer.customerNumber=e})),u.Ub(),u.Ub(),u.Vb(47,"div",31),u.Vb(48,"span",34),u.Vb(49,"span",29),u.Mc(50,"Order Number"),u.Ub(),u.Vb(51,"p-autoComplete",35),u.dc("ngModelChange",(function(e){return t.orderNumber=e}))("completeMethod",(function(e){return t.searchValues("ORDER_NUMBER",e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(52,"div",27),u.Vb(53,"div",28),u.Vb(54,"span",34),u.Vb(55,"span",29),u.Mc(56,"Order Line Number"),u.Ub(),u.Vb(57,"p-autoComplete",36),u.dc("ngModelChange",(function(e){return t.orderLineNumber=e}))("completeMethod",(function(e){return t.searchValues("ORDER_LINE_NUMBER",e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(58,"p-footer"),u.Vb(59,"div",37),u.Vb(60,"button",38),u.dc("click",(function(){return t.search()})),u.Ub(),u.Vb(61,"button",39),u.dc("click",(function(){u.Dc(o);var e=u.Bc(24);return t.reset(e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub()}2&e&&(u.Eb(6),u.oc("toggleable",!1),u.Eb(15),u.oc("ngIf",!t.showAddColumns),u.Eb(2),u.qc("exportFilename","Unbilled_AR_Report_",u.jc(25,30,t.currentDate,"yyyyMMddhhmmss"),""),u.oc("loading",t.loading)("value",t.unbilledARLTRepList)("paginator",!0)("rows",10)("columns",t.columns)("resizableColumns",!0),u.Eb(7),u.oc("visible",t.displayDialog)("closable",!1)("draggable",!0)("modal",!0),u.Eb(7),u.oc("suggestions",t.customers)("minLength",3)("ngModelOptions",u.rc(33,ha))("ngModel",t.selectedCustomer),u.Eb(4),u.oc("suggestions",t.dealArrangementNumbers)("minLength",3)("ngModelOptions",u.rc(34,ha))("ngModel",t.rcNumber),u.Eb(5),u.oc("ngModelOptions",u.rc(35,ha))("ngModel",t.selectedCustomer.customerNumber)("disabled",!0),u.Eb(5),u.oc("ngModel",t.orderNumber)("suggestions",t.valueResults)("ngModelOptions",u.rc(36,ha)),u.Eb(6),u.oc("ngModel",t.orderLineNumber)("suggestions",t.valueResults)("ngModelOptions",u.rc(37,ha)))},directives:[C.a,A.c,h.o,S.j,A.f,M.a,R.v,R.l,R.m,V.a,R.k,R.n,R.b,U.a,A.b,D.b,k.a,N.b,N.c,R.a,h.p,h.n,S.g,S.i],pipes:[h.f,h.g],encapsulation:2}),ua.\u0275prov=u.Lb({token:ua,factory:ua.\u0275fac}),ua),pa=a("5WLJ"),ma=a("+yMW");new d.f({"Content-Type":"application/json"});var fa,ya=((fa=function(){function e(t,n){o(this,e),this.http=t,this.datePipe=n}return i(e,[{key:"getServiceUrl",value:function(e,t,o,n){var i=ma.apiUrl+"/ayaraBillingSchedulesReportVExport?";0==n&&(i=ma.apiUrl+"/ayaraBillingSchedulesReportVSearch?");var a="";return null!=t.dealArrangementId&&""!=t.dealArrangementId&&(a=a+"dealArrangementId:"+t.dealArrangementId+","),null!=t.sfUsageSummaryNumber&&""!=t.sfUsageSummaryNumber&&(a=a+"sfUsageSummaryNumber:"+t.sfUsageSummaryNumber+","),null!=t.quoteNumber&&""!=t.quoteNumber&&(a=a+"quoteNumber:"+t.quoteNumber+","),null!=t.quoteLineNumber&&""!=t.quoteLineNumber&&(a=a+"quoteLineNumber:"+t.quoteLineNumber+","),null!=t.orderNumber&&""!=t.orderNumber&&(a=a+"orderNumber:"+t.orderNumber+","),null!=t.orderLineNumber&&""!=t.orderLineNumber&&(a=a+"orderLineNumber:"+t.orderLineNumber+","),null!=t.fromPeriod&&null!=t.fromPeriod&&(a=a+"summaryStartDate>"+this.datePipe.transform(t.fromPeriod,"yyyyMMdd")+","),null!=t.toPeriod&&null!=t.toPeriod&&(a=a+"summaryEndDate<"+this.datePipe.transform(t.toPeriod,"yyyyMMdd")+","),null!=t.customerName&&null!=t.customerName&&(a=a+"customerName:"+t.customerName+","),null!=t.customerNumber&&null!=t.customerNumber&&(a=a+"customerNumber:"+t.customerNumber+","),null!=t.assetId&&null!=t.assetId&&(a=a+"assetId:"+t.assetId+","),null!=t.salesContract&&null!=t.salesContract&&(a=a+"salesContract:"+t.salesContract+","),""==a?i+="search=%25":i=i+"search="+a,null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||(i=i+"&page="+e.pageNumber+"&size="+e.pageSize),null!=o&&""!=o&&(i=i+"&exportCols="+o),i}},{key:"getAllAyaraBillingSchedulesReport",value:function(e,t,o){var n=this.getServiceUrl(e,t,o,0);return this.http.get(n).toPromise().then((function(e){return e}))}},{key:"fetchRCNumbers",value:function(e){return this.http.get(ma.apiUrl+"/fetchAllRC?rc="+e).toPromise().then((function(e){return e}))}},{key:"getParameterValues",value:function(e,t){return this.http.get(ma.apiUrl+"/fetchFilterValues?parameterName=".concat(e,"&parameterValue=").concat(t))}}]),e}()).\u0275fac=function(e){return new(e||fa)(u.Zb(d.b),u.Zb(h.f))},fa.\u0275prov=u.Lb({token:fa,factory:fa.\u0275fac}),fa);function va(e,t){if(1&e){var o=u.Wb();u.Vb(0,"a",46),u.dc("click",(function(){return u.Dc(o),u.gc().exportExcel()})),u.Qb(1,"em",47),u.Ub()}}function Ca(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",60),u.dc("onDragStart",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDragStart(e)}))("onDrop",(function(){u.Dc(o);var e=u.gc().index;return u.gc(2).onDrop(e)})),u.Vb(2,"div",61),u.Vb(3,"input",62),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label"),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField),u.Eb(2),u.Nc(n.header)}}var Aa=function(){return{color:"grey"}};function Sa(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div"),u.Vb(1,"div",63),u.Vb(2,"div"),u.Vb(3,"input",64),u.dc("ngModelChange",(function(e){return u.Dc(o),u.gc().$implicit.showField=e}))("change",(function(){u.Dc(o);var e=u.gc().$implicit;return u.gc(2).selectColumns(e)})),u.Ub(),u.Vb(4,"label",65),u.Mc(5),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc().$implicit;u.Eb(3),u.oc("checked",n.showField)("ngModel",n.showField)("disabled",!n.drag),u.Eb(1),u.oc("ngStyle",u.rc(5,Aa)),u.Eb(1),u.Nc(n.header)}}function Ma(e,t){if(1&e&&(u.Kc(0,Ca,6,3,"div",59),u.Kc(1,Sa,6,6,"div",59)),2&e){var o=t.$implicit;u.oc("ngIf",o.drag),u.Eb(1),u.oc("ngIf",!o.drag)}}var Ra=function(){return{width:"100%",height:"100%"}};function Va(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",48),u.Vb(1,"div",49),u.Vb(2,"div",50),u.Vb(3,"input",51),u.dc("click",(function(){return u.Dc(o),u.gc().onSelectAll()})),u.Ub(),u.Vb(4,"label",52),u.Mc(5,"Select All"),u.Ub(),u.Vb(6,"a",53),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(7,"\xd7"),u.Ub(),u.Vb(8,"p-listbox",54),u.Kc(9,Ma,2,2,"ng-template",55),u.Ub(),u.Ub(),u.Vb(10,"div",56),u.Vb(11,"a",57),u.dc("click",(function(){return u.Dc(o),u.gc().saveColumns()})),u.Mc(12,"Save"),u.Ub(),u.Vb(13,"a",58),u.dc("click",(function(e){return u.Dc(o),u.gc().closeConfigureColumns(e)})),u.Mc(14,"Cancel"),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc();u.Eb(3),u.oc("checked",n.isSelectAllChecked),u.Eb(5),u.Ic(u.rc(4,Ra)),u.oc("options",n.globalCols)}}function wa(e,t){1&e&&u.Qb(0,"col")}function Ua(e,t){if(1&e&&(u.Vb(0,"colgroup"),u.Kc(1,wa,1,0,"col",66),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngForOf",o)}}var Da=function(e){return{display:e}};function ka(e,t){if(1&e&&(u.Vb(0,"th",69),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit;u.pc("title",o.header),u.oc("ngStyle",u.sc(3,Da,o.display)),u.Eb(1),u.Nc(o.header)}}function Na(e,t){if(1&e&&(u.Vb(0,"th",70),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit;u.pc("title",o.header),u.oc("ngStyle",u.sc(3,Da,o.display)),u.Eb(1),u.Nc(o.header)}}function Fa(e,t){if(1&e&&(u.Tb(0),u.Kc(1,ka,2,5,"th",67),u.Kc(2,Na,2,5,"th",68),u.Sb()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngIf","text"==o.type||"date"==o.type),u.Eb(1),u.oc("ngIf","number"==o.type||"round"==o.type||"link"==o.type)}}function xa(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,Fa,3,2,"ng-container",66),u.Ub()),2&e){var o=u.gc();u.Eb(1),u.oc("ngForOf",o.columns)}}function Ea(e,t){if(1&e&&(u.Vb(0,"td",74),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",n[o.field]),u.oc("ngStyle",u.sc(3,Da,o.display)),u.Eb(1),u.Oc(" ",n[o.field]," ")}}function Ta(e,t){if(1&e&&(u.Vb(0,"td",75),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",n[o.field]),u.oc("ngStyle",u.sc(3,Da,o.display)),u.Eb(1),u.Oc(" ",n[o.field]," ")}}function La(e,t){if(1&e&&(u.Vb(0,"td",74),u.hc(1,"date"),u.Mc(2),u.hc(3,"date"),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",u.jc(1,3,n[o.field],"MM/dd/yyyy")),u.oc("ngStyle",u.sc(9,Da,o.display)),u.Eb(2),u.Oc(" ",u.jc(3,6,n[o.field],"MM/dd/yyyy")," ")}}function Pa(e,t){if(1&e&&(u.Vb(0,"td",75),u.hc(1,"round"),u.Mc(2),u.hc(3,"round"),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.pc("title",u.ic(1,3,n[o.field])),u.oc("ngStyle",u.sc(7,Da,o.display)),u.Eb(2),u.Oc(" ",u.ic(3,5,n[o.field])," ")}}function Oa(e,t){if(1&e&&(u.Tb(0),u.Kc(1,Ea,2,5,"td",72),u.Kc(2,Ta,2,5,"td",73),u.Kc(3,La,4,11,"td",72),u.Kc(4,Pa,4,9,"td",73),u.Sb()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngIf","text"==o.type),u.Eb(1),u.oc("ngIf","number"==o.type),u.Eb(1),u.oc("ngIf","date"==o.type),u.Eb(1),u.oc("ngIf","round"==o.type)}}function Ia(e,t){if(1&e&&(u.Vb(0,"tr",71),u.Kc(1,Oa,5,4,"ng-container",66),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.oc("pSelectableRow",o),u.Eb(1),u.oc("ngForOf",n.columns)}}function Ba(e,t){if(1&e&&(u.Vb(0,"tr"),u.Vb(1,"td",76),u.Mc(2),u.Ub(),u.Ub()),2&e){var o=t.$implicit,n=u.gc();u.Eb(1),u.Fb("colspan",o.length),u.Eb(1),u.Nc(n.noData)}}var za,Qa=function(){return{standalone:!0}},$a=a("+yMW"),Ka=((za=function(){function e(t,n,i,a,l,r,s){var c=this;o(this,e),this.route=t,this.ayaraBillingSchedulesReportService=n,this.location=i,this.commonSharedService=a,this.notificationService=l,this.rmanCustomersService=r,this.rmanFiscalPeriodsService=s,this.loading=!0,this.ayaraBillingSchedulesReport={},this.ayaraBillingSchedulesReportSearch={},this.isSerached=0,this.ayaraBillingSchedulesReportList=[],this.paginationOptions={},this.collapsed=!0,this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.exportCols=[],this.noData=$a.noData,this.disableExport=!0,this.selectedCustomer={},this.customers=[],this.rmanCustomers=new pa.b,this.customerNames=[],this.customerNumbers=[],this.dealArrangementNumbers=[],this.currentPeriod={},this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.rmanFiscalPeriodsService.getCurrentfiscalperiod().then((function(e){c.currentPeriod=e}))}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.arrId=t.id})),this.globalCols=[{field:"sfUsageSummaryNumber",header:"Usage Number",showField:!0,display:"table-cell",type:"text",drag:!1},{field:"orderNumber",header:"Order Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"orderLineNumber",header:"Order Line Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"dealArrangementId",header:"Revenue Contract Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"salesContract",header:"Sales Contract Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"dealLineNumber",header:"Line Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"productName",header:"Product Name",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"feeAmount",header:"Fee Amount",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"subTotal",header:"Sub Total",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"cumulativeSubTotal",header:"Cumulative Usage Total",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"bsDescription",header:"BS Description",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"summaryStartDate",header:"Usage Start Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"summaryEndDate",header:"Usage End Date",showField:!0,display:"table-cell",type:"date",drag:!0},{field:"assetId",header:"Asset ID",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"assetNumber",header:"Asset Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"productFamily",header:"Product Family",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"productLine",header:"Product Line",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"customerName",header:"Customer Name",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"customerNumber",header:"Customer Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"legacy",header:"Legacy",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"chargeType",header:"Charge Type",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"revenuePolicy",header:"Revenue Policy",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"opsRevenueName",header:"OpsRevenue Name",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"productCode",header:"Product Code",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"sourceProductId",header:"Product Case Safe Id",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"usageSyncPeriod",header:"Period (Sync period)",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"beginBalance",header:"Revenue Beginning Balance",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"currentBalance",header:"Revenue Current Balance",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"endingBalance",header:"Revenue Ending Balance",showField:!0,display:"table-cell",type:"round",drag:!0},{field:"primaryLineNumber",header:"Primary Line Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"itemSequenceNumber",header:"Item Sequence Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"quoteNumber",header:"Quote Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"quoteLineNumber",header:"Quote Line Number",showField:!0,display:"table-cell",type:"text",drag:!0},{field:"opportunityNum",header:"Opportunity Number",showField:!0,display:"table-cell",type:"text",drag:!0}],this.columns=[],this.getTableColumns("ayaraBillingSchedulesReport","Ayara Billing Schedules Report")}},{key:"goToOperationReports",value:function(){this.location.back()}},{key:"reset",value:function(e){this.paginationOptions={},this.ayaraBillingSchedulesReport={},this.ayaraBillingSchedulesReportSearch={},this.isSerached=0,e.reset()}},{key:"getTableColumns",value:function(e,t){var o=this;this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then((function(e){if(e&&null!=e&&e.userId){o.columns=[];var t=e.tableColumns.split(",");t.length>0&&t.forEach((function(e,t){e&&(o.startIndex=o.globalCols.findIndex((function(t){return t.field==e})),o.onDrop(t))})),o.globalCols.forEach((function(t){-1!==e.tableColumns.indexOf(t.field)?o.columns.push(t):t.showField=!1})),o.columns.length!=o.globalCols.length&&(o.isSelectAllChecked=!1),o.showPaginator=0!==o.columns.length,o.userId=e.userId}else o.columns=o.globalCols})).catch((function(){o.notificationService.showError("Error occured while getting table columns data"),o.loading=!1}))}},{key:"saveColumns",value:function(){var e=this,t="";this.showAddColumns=!this.showAddColumns;var o=this.globalCols.length-1;this.globalCols.forEach((function(e,n){e.showField&&(t+=e.field,n<o&&(t+=","))})),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("ayaraBillingSchedulesReport","Ayara Billing Schedules Report",t,this.userId).then((function(t){e.columns=e.globalCols.filter((function(e){return e.showField})),e.userId=t.userId,e.showPaginator=0!==e.columns.length,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"onDragStart",value:function(e){this.startIndex=e}},{key:"onDrop",value:function(e){var t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}},{key:"selectColumns",value:function(e){var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"onConfiguringColumns",value:function(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}},{key:"closeConfigureColumns",value:function(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(t.length>0)}},{key:"getAllAyaraBillingSchedulesReport",value:function(){var e=this;this.loading=!0,this.ayaraBillingSchedulesReportService.getAllAyaraBillingSchedulesReport(this.paginationOptions,this.ayaraBillingSchedulesReport,this.exportCols).then((function(t){e.loading=!1,e.datasource=t.content,e.ayaraBillingSchedulesReportList=t.content,e.ayaraBillingSchedulesReportList=e.ayaraBillingSchedulesReportList.slice(),e.totalElements=t.totalElements,e.pageSize=t.size,e.displaySearchDialog=!1,e.disableExport=!1}))}},{key:"getAyaraBillingSchedulesReport",value:function(e){var t=this;this.loading=!0,this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.ayaraBillingSchedulesReportService.getAllAyaraBillingSchedulesReport(this.paginationOptions,this.ayaraBillingSchedulesReport,this.exportCols).then((function(e){t.loading=!1,t.datasource=e.content,t.ayaraBillingSchedulesReportList=e.content,t.totalElements=e.totalElements,t.pageSize=e.size,t.disableExport=!1}))}},{key:"exportExcel",value:function(){this.exportCols=[];for(var e=0;e<this.columns.length;e++)this.columns[e].showField&&this.exportCols.push(this.columns[e].field);var t=this.ayaraBillingSchedulesReportService.getServiceUrl(this.paginationOptions,this.ayaraBillingSchedulesReportSearch,this.exportCols,1);window.location.href=t}},{key:"onRowSelect",value:function(e){}},{key:"toggleColumnMenu",value:function(){this.hideColumnMenu=!this.hideColumnMenu}},{key:"toggleFilterBox",value:function(){this.showFilter=!this.showFilter}},{key:"showDialogToSearch",value:function(){this.ayaraBillingSchedulesReportSearch={},this.displaySearchDialog=!0,this.selectedCustomer={}}},{key:"searchCustomerNames",value:function(e){var t=this;this.rmanCustomersService.getAllRmanCustomers(this.paginationOptions,{customerName:e.query},!0).then((function(e){t.customers=e.content,t.customers.forEach((function(e){return e.label=e.customerName+" "+e.customerNumber}))})).catch((function(e){t.customers=[]}))}},{key:"searchCustomerNumbers",value:function(e){var t=this;this.rmanCustomersService.getAllRmanCustomers(this.paginationOptions,{customerNumber:e.query},!1).then((function(e){t.customerNumbers=e.content.map((function(e){return e.customerNumber}))})).catch((function(e){t.customerNumbers=[]}))}},{key:"searchRCList",value:function(e){var t=this;this.ayaraBillingSchedulesReportService.fetchRCNumbers(e.query).then((function(e){t.dealArrangementNumbers=e.map((function(e){return e}))})).catch((function(e){t.dealArrangementNumbers=[]}))}},{key:"search",value:function(){this.isSerached=1,this.selectedCustomer&&(this.ayaraBillingSchedulesReportSearch.customerNumber=this.selectedCustomer.customerNumber),this.ayaraBillingSchedulesReport=this.ayaraBillingSchedulesReportSearch,this.displaySearchDialog=!1,this.paginationOptions={},this.getAllAyaraBillingSchedulesReport()}},{key:"onBeforeToggle",value:function(e){this.collapsed=e.collapsed}},{key:"searchValues",value:function(e,t){var o=this;this.ayaraBillingSchedulesReportService.getParameterValues(e,t.query).subscribe((function(e){return o.valueResults=e}))}}]),e}()).\u0275fac=function(e){return new(e||za)(u.Pb(r.a),u.Pb(ya),u.Pb(h.k),u.Pb(s.a),u.Pb(c.a),u.Pb(m.a),u.Pb(v.a))},za.\u0275cmp=u.Jb({type:za,selectors:[["ayaraBillingSchedulesReport-data"]],inputs:{arrId:"arrId"},features:[u.Db([ya,m.a,v.a])],decls:99,vars:67,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["header","Billing Schedules Report",3,"toggleable","onBeforeToggle"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-reply"],[1,"fa","fa-cog"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Export",3,"click",4,"ngIf"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","billingSchedule-dt","selectionMode","single","scrollable","true","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","value","paginator","lazy","rows","totalRecords","columns","resizableColumns","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Search","width","800","showEffect","fade",3,"visible","draggable","modal","visibleChange"],[3,"ngSubmit"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","RC Number Type atleast 3 Characters","id","from",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],[1,"ui-g-6","pull-right"],["placeholder","Type Usage Number Value atleast 3 Characters","minLength","3",3,"ngModel","suggestions","ngModelOptions","ngModelChange","completeMethod"],["showAnim","slideDown","inputStyleClass","textbox","name","fromPeriod","id","fromPeriod","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","Usage Start Date From",3,"monthNavigator","yearNavigator","ngModelOptions","ngModel","ngModelChange"],["showAnim","slideDown","name","toPeriod","inputStyleClass","textbox","id","toPeriod","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","Usage End Date To",3,"monthNavigator","yearNavigator","ngModelOptions","ngModel","ngModelChange"],["placeholder","Type Quote Number Value atleast 3 Characters","minLength","3",3,"ngModel","suggestions","ngModelOptions","ngModelChange","completeMethod"],["placeholder","Type Quote Line Number Value atleast 3 Characters","minLength","3",3,"ngModel","suggestions","ngModelOptions","ngModelChange","completeMethod"],["placeholder","Type Order Number Value atleast 3 Characters","minLength","3",3,"ngModel","suggestions","ngModelOptions","ngModelChange","completeMethod"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Customer Name Type atleast 3 Characters","id","from","field","label",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Customer Number Type atleast 3 Characters","id","customerNumber",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["placeholder","Type Sales Contract Value atleast 3 Characters","minLength","3",3,"ngModel","suggestions","ngModelOptions","ngModelChange","completeMethod"],["placeholder","Type Asset ID Value atleast 3 Characters","minLength","3",3,"ngModel","suggestions","ngModelOptions","ngModelChange","completeMethod"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix","pull-right"],["type","button","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"title","ngStyle"],[1,"no-data"]],template:function(e,t){if(1&e){var o=u.Wb();u.Qb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"div",5),u.Vb(6,"p-panel",6),u.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),u.Vb(7,"p-header"),u.Vb(8,"div",7),u.Vb(9,"a",8),u.dc("click",(function(){return t.goToOperationReports()})),u.Qb(10,"em",9),u.Mc(11,"Back"),u.Ub(),u.Vb(12,"a",8),u.dc("click",(function(e){return t.onConfiguringColumns(e)})),u.Qb(13,"em",10),u.Mc(14,"Columns"),u.Ub(),u.Vb(15,"a",11),u.dc("click",(function(){return t.showDialogToSearch()})),u.Qb(16,"em",12),u.Ub(),u.Vb(17,"a",13),u.dc("click",(function(){u.Dc(o);var e=u.Bc(23);return t.reset(e)})),u.Qb(18,"em",14),u.Ub(),u.Kc(19,va,2,0,"a",15),u.Kc(20,Va,15,5,"div",16),u.Ub(),u.Ub(),u.Vb(21,"div",17),u.Vb(22,"p-table",18,19),u.dc("onRowSelect",(function(e){return t.onRowSelect(e)}))("onLazyLoad",(function(e){return t.getAyaraBillingSchedulesReport(e)})),u.Kc(24,Ua,2,1,"ng-template",20),u.Kc(25,xa,2,1,"ng-template",21),u.Kc(26,Ia,2,2,"ng-template",22),u.Kc(27,Ba,3,2,"ng-template",23),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(28,"p-dialog",24),u.dc("visibleChange",(function(e){return t.displaySearchDialog=e})),u.Vb(29,"form",25),u.dc("ngSubmit",(function(){return t.search()})),u.Vb(30,"div",26),u.Vb(31,"div",27),u.Vb(32,"div",28),u.Vb(33,"span",29),u.Vb(34,"span",30),u.Mc(35,"Revenue Contract"),u.Ub(),u.Vb(36,"p-autoComplete",31),u.dc("completeMethod",(function(e){return t.searchRCList(e)}))("ngModelChange",(function(e){return t.ayaraBillingSchedulesReportSearch.dealArrangementId=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(37,"div",32),u.Vb(38,"span",29),u.Vb(39,"span",30),u.Mc(40,"Usage Number"),u.Ub(),u.Vb(41,"p-autoComplete",33),u.dc("ngModelChange",(function(e){return t.ayaraBillingSchedulesReportSearch.sfUsageSummaryNumber=e}))("completeMethod",(function(e){return t.searchValues("USAGE_NUMBER",e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(42,"div",27),u.Vb(43,"div",28),u.Vb(44,"span",30),u.Mc(45,"Usage Start Date From"),u.Ub(),u.Vb(46,"p-calendar",34),u.dc("ngModelChange",(function(e){return t.ayaraBillingSchedulesReportSearch.fromPeriod=e})),u.Ub(),u.Ub(),u.Vb(47,"div",32),u.Vb(48,"span",30),u.Mc(49,"Usage End Date To"),u.Ub(),u.Vb(50,"p-calendar",35),u.dc("ngModelChange",(function(e){return t.ayaraBillingSchedulesReportSearch.toPeriod=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(51,"div",27),u.Vb(52,"div",28),u.Vb(53,"span",29),u.Vb(54,"span",30),u.Mc(55,"Quote Number"),u.Ub(),u.Vb(56,"p-autoComplete",36),u.dc("ngModelChange",(function(e){return t.ayaraBillingSchedulesReportSearch.quoteNumber=e}))("completeMethod",(function(e){return t.searchValues("QUOTE_NUMBER",e)})),u.Ub(),u.Ub(),u.Ub(),u.Vb(57,"div",32),u.Vb(58,"span",29),u.Vb(59,"span",30),u.Mc(60,"Quote Line Number"),u.Ub(),u.Vb(61,"p-autoComplete",37),u.dc("ngModelChange",(function(e){return t.ayaraBillingSchedulesReportSearch.quoteLineNumber=e}))("completeMethod",(function(e){return t.searchValues("QUOTE_LINE_NUMBER",e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(62,"div",27),u.Vb(63,"div",28),u.Vb(64,"span",29),u.Vb(65,"span",30),u.Mc(66,"Order Number"),u.Ub(),u.Vb(67,"p-autoComplete",38),u.dc("ngModelChange",(function(e){return t.ayaraBillingSchedulesReportSearch.orderNumber=e}))("completeMethod",(function(e){return t.searchValues("ORDER_NUMBER",e)})),u.Ub(),u.Ub(),u.Ub(),u.Vb(68,"div",32),u.Vb(69,"span",29),u.Vb(70,"span",30),u.Mc(71,"Order Line Number"),u.Ub(),u.Vb(72,"p-autoComplete",38),u.dc("ngModelChange",(function(e){return t.ayaraBillingSchedulesReportSearch.orderLineNumber=e}))("completeMethod",(function(e){return t.searchValues("ORDER_LINE_NUMBER",e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(73,"div",27),u.Vb(74,"div",28),u.Vb(75,"span",29),u.Vb(76,"span",30),u.Mc(77,"Customer Name"),u.Ub(),u.Vb(78,"p-autoComplete",39),u.dc("completeMethod",(function(e){return t.searchCustomerNames(e)}))("ngModelChange",(function(e){return t.selectedCustomer=e})),u.Ub(),u.Ub(),u.Ub(),u.Vb(79,"div",32),u.Vb(80,"span",29),u.Vb(81,"span",30),u.Mc(82,"Customer Number"),u.Ub(),u.Vb(83,"p-autoComplete",40),u.dc("completeMethod",(function(e){return t.searchCustomerNumbers(e)}))("ngModelChange",(function(e){return t.ayaraBillingSchedulesReportSearch.customerNumber=e})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(84,"div",27),u.Vb(85,"div",28),u.Vb(86,"span",29),u.Vb(87,"span",30),u.Mc(88,"Sales Contract Number"),u.Ub(),u.Vb(89,"p-autoComplete",41),u.dc("ngModelChange",(function(e){return t.ayaraBillingSchedulesReportSearch.salesContract=e}))("completeMethod",(function(e){return t.searchValues("SALES_CONTRACT",e)})),u.Ub(),u.Ub(),u.Ub(),u.Vb(90,"div",32),u.Vb(91,"span",29),u.Vb(92,"span",30),u.Mc(93,"Asset ID"),u.Ub(),u.Vb(94,"p-autoComplete",42),u.dc("ngModelChange",(function(e){return t.ayaraBillingSchedulesReportSearch.assetId=e}))("completeMethod",(function(e){return t.searchValues("ASSET_ID",e)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(95,"p-footer"),u.Vb(96,"div",43),u.Vb(97,"button",44),u.dc("click",(function(){return t.search()})),u.Ub(),u.Vb(98,"button",45),u.dc("click",(function(){return t.displaySearchDialog=!1})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()}2&e&&(u.Eb(6),u.oc("toggleable",!1),u.Eb(13),u.oc("ngIf",!t.disableExport),u.Eb(1),u.oc("ngIf",!t.showAddColumns),u.Eb(2),u.oc("loading",t.loading)("value",t.ayaraBillingSchedulesReportList)("paginator",t.showPaginator)("lazy",!0)("rows",t.pageSize)("totalRecords",t.totalElements)("columns",t.columns)("resizableColumns",!0),u.Eb(6),u.oc("visible",t.displaySearchDialog)("draggable",!0)("modal",!0),u.Eb(8),u.oc("suggestions",t.dealArrangementNumbers)("minLength",3)("ngModelOptions",u.rc(55,Qa))("ngModel",t.ayaraBillingSchedulesReportSearch.dealArrangementId),u.Eb(5),u.oc("ngModel",t.ayaraBillingSchedulesReportSearch.sfUsageSummaryNumber)("suggestions",t.valueResults)("ngModelOptions",u.rc(56,Qa)),u.Eb(5),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModelOptions",u.rc(57,Qa))("ngModel",t.ayaraBillingSchedulesReportSearch.fromPeriod),u.Eb(4),u.oc("monthNavigator",!0)("yearNavigator",!0)("ngModelOptions",u.rc(58,Qa))("ngModel",t.ayaraBillingSchedulesReportSearch.toPeriod),u.Eb(6),u.oc("ngModel",t.ayaraBillingSchedulesReportSearch.quoteNumber)("suggestions",t.valueResults)("ngModelOptions",u.rc(59,Qa)),u.Eb(5),u.oc("ngModel",t.ayaraBillingSchedulesReportSearch.quoteLineNumber)("suggestions",t.valueResults)("ngModelOptions",u.rc(60,Qa)),u.Eb(6),u.oc("ngModel",t.ayaraBillingSchedulesReportSearch.orderNumber)("suggestions",t.valueResults)("ngModelOptions",u.rc(61,Qa)),u.Eb(5),u.oc("ngModel",t.ayaraBillingSchedulesReportSearch.orderLineNumber)("suggestions",t.valueResults)("ngModelOptions",u.rc(62,Qa)),u.Eb(6),u.oc("suggestions",t.customers)("minLength",3)("ngModelOptions",u.rc(63,Qa))("ngModel",t.selectedCustomer),u.Eb(5),u.oc("suggestions",t.customerNumbers)("minLength",3)("ngModelOptions",u.rc(64,Qa))("ngModel",t.ayaraBillingSchedulesReportSearch.customerNumber),u.Eb(6),u.oc("ngModel",t.ayaraBillingSchedulesReportSearch.salesContract)("suggestions",t.valueResults)("ngModelOptions",u.rc(65,Qa)),u.Eb(5),u.oc("ngModel",t.ayaraBillingSchedulesReportSearch.assetId)("suggestions",t.valueResults)("ngModelOptions",u.rc(66,Qa)))},directives:[C.a,A.c,h.o,S.j,A.f,M.a,R.v,R.l,R.m,V.a,R.k,R.n,w.a,A.b,D.b,k.a,N.b,N.c,R.a,h.p,h.n,S.g,S.i],pipes:[h.f,F.a],encapsulation:2}),za),_a=a("uJHa"),qa=a("NHOW");function Wa(e,t){1&e&&(u.Vb(0,"span",43),u.Mc(1,"*"),u.Ub())}function ja(e,t){if(1&e&&(u.Vb(0,"div",44),u.Mc(1),u.Ub()),2&e){var o=u.gc(2);u.Eb(1),u.Oc(" ",o.formErrors.recordType," ")}}function Ja(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",18),u.Vb(1,"form",19),u.dc("ngSubmit",(function(){return u.Dc(o),u.gc().applyFilters(0)})),u.Vb(2,"div",20),u.Vb(3,"label",21),u.Mc(4,"Log Summary"),u.Ub(),u.Vb(5,"div",22),u.dc("click",(function(){return u.Dc(o),u.gc().toggleFilterType()})),u.Qb(6,"div"),u.Ub(),u.Vb(7,"label",21),u.Mc(8,"Log Details"),u.Ub(),u.Ub(),u.Vb(9,"div",23),u.Vb(10,"div",24),u.Vb(11,"label",25),u.Mc(12,"User Name"),u.Ub(),u.Vb(13,"p-autoComplete",26),u.dc("completeMethod",(function(e){return u.Dc(o),u.gc().searchUserValues(e)})),u.Ub(),u.Ub(),u.Vb(14,"div",24),u.Vb(15,"label",27),u.Mc(16,"Record Type"),u.Kc(17,Wa,2,0,"span",28),u.Ub(),u.Qb(18,"p-dropdown",29),u.Kc(19,ja,2,1,"div",30),u.Ub(),u.Vb(20,"div",24),u.Vb(21,"label",31),u.Mc(22,"Source System"),u.Ub(),u.Qb(23,"p-dropdown",32),u.Ub(),u.Vb(24,"div",24),u.Vb(25,"label",33),u.Mc(26,"Start Date"),u.Ub(),u.Vb(27,"p-calendar",34),u.dc("onSelect",(function(){return u.Dc(o),u.gc().setMinDate()})),u.Ub(),u.Ub(),u.Vb(28,"div",24),u.Vb(29,"label",35),u.Mc(30,"End Date"),u.Ub(),u.Vb(31,"p-calendar",36),u.dc("onSelect",(function(){return u.Dc(o),u.gc().setMaxDate()})),u.Ub(),u.Ub(),u.Vb(32,"div",24),u.Vb(33,"label",37),u.Mc(34,"Exception Event"),u.Ub(),u.Qb(35,"p-dropdown",38),u.Ub(),u.Ub(),u.Vb(36,"div",39),u.Vb(37,"div",40),u.Qb(38,"button",41),u.Vb(39,"button",42),u.dc("click",(function(){return u.Dc(o),u.gc().refreshTable(0)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc();u.Eb(1),u.oc("formGroup",n.filters),u.Eb(5),u.Gb(n.logDetails?"inner logDetails":"inner"),u.Eb(7),u.oc("suggestions",n.userValueResults),u.Eb(4),u.oc("ngIf",n.logDetails),u.Eb(1),u.oc("options",n.recordTypes)("filter",!0),u.Eb(1),u.oc("ngIf",n.formErrors.recordType||n.logDetails&&""==n.filters.value.recordType),u.Eb(4),u.oc("options",n.sourceSystemDropdown)("filter",!0),u.Eb(4),u.oc("monthNavigator",!0)("yearNavigator",!0)("showIcon",!1)("maxDate",n.maxDate),u.Eb(4),u.oc("monthNavigator",!0)("yearNavigator",!0)("showIcon",!1)("minDate",n.minDate),u.Eb(4),u.oc("options",n.exceptionEvents)("filter",!0),u.Eb(3),u.oc("disabled",n.filters.invalid)}}function Ha(e,t){1&e&&u.Qb(0,"em",45)}function Ga(e,t){1&e&&u.Qb(0,"em",46)}function Ya(e,t){if(1&e&&(u.Vb(0,"th"),u.Mc(1),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.Nc(o.header)}}function Za(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,Ya,2,1,"th",50),u.Ub()),2&e){var o=u.gc(2);u.Eb(1),u.oc("ngForOf",o.columns)}}function Xa(e,t){if(1&e&&(u.Vb(0,"span",52),u.hc(1,"date"),u.Mc(2),u.hc(3,"date"),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.oc("title",u.jc(1,2,n[o.field],"yyyy-MM-dd HH:mm:ss")),u.Eb(2),u.Oc(" ",u.jc(3,5,n[o.field],"yyyy-MM-dd HH:mm:ss")," ")}}function el(e,t){if(1&e&&(u.Vb(0,"span",52),u.Mc(1),u.Ub()),2&e){var o=u.gc().$implicit,n=u.gc().$implicit;u.oc("title",n[o.field]),u.Eb(1),u.Oc(" ",n[o.field]," ")}}function tl(e,t){if(1&e&&(u.Vb(0,"td"),u.Kc(1,Xa,4,8,"span",51),u.Kc(2,el,2,2,"span",51),u.Ub()),2&e){var o=t.$implicit,n=u.gc().$implicit,i=u.gc(2);u.Eb(1),u.oc("ngIf",i.isDate(n[o.field])),u.Eb(1),u.oc("ngIf",!i.isDate(n[o.field]))}}function ol(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,tl,3,2,"td",50),u.Ub()),2&e){var o=u.gc(2);u.Eb(1),u.oc("ngForOf",o.columns)}}var nl=function(){return[10,20]};function il(e,t){if(1&e){var o=u.Wb();u.Vb(0,"p-table",47),u.dc("firstChange",(function(e){return u.Dc(o),u.gc().paginationOptions.first=e}))("onPage",(function(e){return u.Dc(o),u.gc().onPageChange(e)})),u.Kc(1,Za,2,1,"ng-template",48),u.Kc(2,ol,2,1,"ng-template",49),u.Ub()}if(2&e){var n=u.gc();u.oc("value",n.filteredData)("paginator",null!=n.filteredData||null!=n.filteredData)("first",n.paginationOptions.first)("lazy",!0)("rows",n.pageSize)("totalRecords",n.totalElements)("resizableColumns",!0)("rowsPerPageOptions",u.rc(8,nl))}}function al(e,t){if(1&e){var o=u.Wb();u.Vb(0,"div",19),u.Vb(1,"h2"),u.Mc(2,"Search Filters"),u.Ub(),u.Vb(3,"form",20),u.dc("ngSubmit",(function(){return u.Dc(o),u.gc().applyFilters(0)})),u.Vb(4,"div",21),u.Vb(5,"div",22),u.Vb(6,"label",23),u.Mc(7,"Period"),u.Ub(),u.Vb(8,"p-autoComplete",24),u.dc("completeMethod",(function(e){return u.Dc(o),u.gc().getRmanFiscalPeriods(e)})),u.Ub(),u.Ub(),u.Vb(9,"div",22),u.Vb(10,"label",25),u.Mc(11,"Customer Name"),u.Ub(),u.Vb(12,"p-autoComplete",26),u.dc("completeMethod",(function(e){return u.Dc(o),u.gc().searchCustomerNames(e)})),u.Ub(),u.Ub(),u.Vb(13,"div",22),u.Vb(14,"label",27),u.Mc(15,"Legal Entity"),u.Ub(),u.Vb(16,"p-autoComplete",28),u.dc("completeMethod",(function(e){return u.Dc(o),u.gc().getRmanLegalEntities(e)})),u.Ub(),u.Ub(),u.Vb(17,"div",22),u.Vb(18,"label",29),u.Mc(19,"Order ID"),u.Ub(),u.Qb(20,"input",30),u.Ub(),u.Vb(21,"div",22),u.Vb(22,"label",31),u.Mc(23,"Order Line ID"),u.Ub(),u.Qb(24,"input",32),u.Ub(),u.Ub(),u.Vb(25,"div",33),u.Vb(26,"div",34),u.Qb(27,"button",35),u.Vb(28,"button",36),u.dc("click",(function(){return u.Dc(o),u.gc().refreshTable(0)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var n=u.gc();u.Eb(3),u.oc("formGroup",n.filters),u.Eb(5),u.oc("suggestions",n.fiscalPeriodNamesList)("minLength",3),u.Eb(4),u.oc("suggestions",n.customerNames)("minLength",3),u.Eb(4),u.oc("suggestions",n.LegalEntityNamesList)("minLength",3),u.Eb(11),u.oc("disabled",n.filters.invalid)}}function ll(e,t){1&e&&u.Qb(0,"em",37)}function rl(e,t){1&e&&u.Qb(0,"em",38)}function sl(e,t){1&e&&u.Qb(0,"col"),2&e&&u.Jc("width",t.$implicit.width||150,"px")}function cl(e,t){if(1&e&&(u.Vb(0,"colgroup"),u.Kc(1,sl,1,2,"col",43),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngForOf",o)}}function dl(e,t){if(1&e&&(u.Vb(0,"th",45),u.Mc(1),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.Oc(" ",o.header," ")}}function ul(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,dl,2,1,"th",44),u.Ub()),2&e){var o=t.$implicit;u.Eb(1),u.oc("ngForOf",o)}}function hl(e,t){if(1&e&&(u.Vb(0,"td",47),u.Mc(1),u.Ub()),2&e){var o=t.$implicit,n=u.gc().$implicit;u.pc("title",n[o.field]),u.Eb(1),u.Oc(" ",n[o.field]," ")}}function gl(e,t){if(1&e&&(u.Vb(0,"tr"),u.Kc(1,hl,2,2,"td",46),u.Ub()),2&e){var o=t.columns;u.Eb(1),u.oc("ngForOf",o)}}function bl(e,t){if(1&e){var o=u.Wb();u.Vb(0,"p-table",39),u.dc("firstChange",(function(e){return u.Dc(o),u.gc().paginationOptions.first=e}))("onPage",(function(e){return u.Dc(o),u.gc().onPageChange(e)})),u.Kc(1,cl,2,1,"ng-template",40),u.Kc(2,ul,2,1,"ng-template",41),u.Kc(3,gl,2,1,"ng-template",42),u.Ub()}if(2&e){var n=u.gc();u.oc("value",n.filteredData)("columns",n.columns)("paginator",!0)("first",n.paginationOptions.first)("rows",n.pageSize)("totalRecords",n.totalElements)("lazy",!0)("resizableColumns",!0)("scrollable",!0)}}var pl,ml,fl,yl=[{path:"",component:ro},{path:"rmanArrgSummaryRep",component:ie},{path:"rmanTrxDetailReport",component:Ht},{path:"rmanArrgWaterfallReportV",component:Ue},{path:"rmanDeferredRollForwardRep",component:ot},{path:"rmanGlAccountingV",component:it.a},{path:"ayaraForecastActualRep",component:Ct},{path:"rmanArrgForecastingDetailReport",component:so.a},{path:"ayaraActiveQuotesARMReport",component:Bo},{path:"ayaraActualsARMReport",component:dn},{path:"ayaraActualsVsActiveReport",component:Qn},{path:"ayaraActiveDealsARMReport",component:bi},{path:"ayaraAccountSummaryReport",component:ji},{path:"unbilledARLTDeferredReport",component:ba},{path:"ayaraBillingSchedulesReport",component:Ka},{path:"exceptionsReport",component:(ml=function(){function t(e,n,i,a,l,r,s){var c=this;o(this,t),this.formBuilder=e,this.reportsService=n,this.rmanUsersService=i,this.loadingService=a,this.location=l,this.cd=r,this.rmanLookupsVService=s,this.logDetails=!1,this.showPaginator=!0,this.columns=[],this.displayAdvancedSearch=!0,this.filteredUserList=[],this.tableVisible=!1,this.exceptionEvents=["Modified","Reprocessed","Deleted"].map((function(e){return{label:e,value:e.toLowerCase()}})),this.recordTypes=[],this.sourceSystemDropdown=[],this.userValueResults=[],this.usernames=[],this.data=[],this.noDataFoundMessage="",this.maxDate=new Date,this.formErrors={userName:"",recordType:"",startDate:"",endDate:"",exceptionEvent:""},this.validationMessages={recordType:{required:"Record Type is required"}},this.paginationOptions={pageNumber:0,pageSize:10,first:0},this.filters=this.formBuilder.group({userName:[""],recordType:[""],startDate:[""],endDate:[""],sourceSystem:[""],exceptionEvent:[""]}),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"ARRG_SOURCE"}).then((function(e){c.sourceSystemDropdown=e.content.map((function(e){return{label:e.lookupCode,value:e.lookupCode}}))})),this.rmanLookupsVService.getAllRmanLookupsV(this.paginationOptions,{lookupTypeName:"DOCUMENT_CATEGORY"}).then((function(e){c.recordTypes=e.content.map((function(e){return{label:e.lookupDescription,value:e.lookupCode,tag:Number(e.tag)}})).sort((function(e,t){return e.tag-t.tag}))})),this.filters.valueChanges.subscribe((function(e){return c.onValueChanged(e)})),this.onValueChanged(),this.getAllUsers()}return i(t,[{key:"goToOperationReports",value:function(){this.location.back()}},{key:"getAllUsers",value:function(){var t=this;this.rmanUsersService.getAllRmanUsers(this.paginationOptions,{},!0).then((function(o){t.totalRmanUsersList=o.content;var n,i=e(o.content);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.usernames.push(a.userName)}}catch(l){i.e(l)}finally{i.f()}})).catch((function(e){}))}},{key:"ngOnInit",value:function(){this.onValueChanged(),this.noDataFoundMessage=""}},{key:"onValueChanged",value:function(e){if(this.filters){var t=this.filters;for(var o in this.formErrors){this.formErrors[o]="";var n=t.get(o);if(n&&n.dirty&&!n.valid){var i=this.validationMessages[o];for(var a in n.errors)this.formErrors[o]+=i[a]+" "}}}}},{key:"setMinDate",value:function(){this.minDate=this.filters.value.startDate}},{key:"setMaxDate",value:function(){this.maxDate=this.filters.value.endDate}},{key:"toggleFilterType",value:function(){this.logDetails=!this.logDetails;var e=this.filters.get("recordType");this.logDetails?null==e||e.setValidators([R.t.required]):null==e||e.clearValidators(),null==e||e.updateValueAndValidity(),this.onValueChanged()}},{key:"applyFilters",value:function(e){var t=this;if(!this.logDetails||this.filters.value.recordType&&""!==this.filters.value.recordType){if(this.filters.value.filterType=this.logDetails?"logDetails":"logSummary",this.loadingService.setLoading(!0),null!=this.filters.value.startDate&&""!==this.filters.value.startDate){var o=this.filters.value.startDate;o instanceof Date||(o=new Date(o)),isNaN(o.getTime())||(o.setHours(0,0,0,0),this.filters.value.startDate=o.toISOString())}if(null!=this.filters.value.endDate&&""!==this.filters.value.endDate){var n=this.filters.value.endDate;n instanceof Date||(n=new Date(n)),isNaN(n.getTime())||(n.setHours(23,59,59,999),this.filters.value.endDate=n.toISOString())}0==e&&(this.paginationOptions={pageNumber:0,pageSize:10,first:0}),this.reportsService.filterExceptionReports(this.paginationOptions,this.filters.value).then((function(e){e&&"success"===e.status?(t.tableVisible=!1,t.filteredData=[],t.data=[],t.totalElements=e.count,t.pageSize=t.paginationOptions.pageSize||10,e.data.length>0&&(t.columns=e.columns.map((function(e){return{field:e,header:t.formatHeader(e)}})),t.filteredData=e.data.map((function(e){return t.transformDates(e)})),t.data=e.allData.map((function(e){return t.transformDates(e)})),t.tableVisible=!0,t.noDataFoundMessage="",t.cd.detectChanges()),0==e.data.length&&(t.noDataFoundMessage="No Data Found")):console.error("Failed to fetch data"),t.loadingService.setLoading(!1)})).catch((function(e){console.error("Error fetching data:",e),t.loadingService.setLoading(!1)}))}}},{key:"formatHeader",value:function(e){var t={exceptionId:"Exception ID",recordType:"Exception Record Type",lastModified:"Modified Timestamp",sourceSystem:"Source System",lastUpdatedBy:"Modified By",exceptionEvent:"Exception Event","Attribute 13":"Asset ID","Attribute 14":"Asset Number"};return t[e]?t[e]:e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/\b\w/g,(function(e){return e.toUpperCase()}))}},{key:"isDate",value:function(e){return e instanceof Date&&!isNaN(e.getTime())}},{key:"transformDates",value:function(e){var t=this;return["createdDate","lastModified"].forEach((function(o){var n=e[o];Array.isArray(n)?e[o]=t.convertArrayToDate(n):("number"==typeof n||"string"==typeof n)&&(e[o]=new Date(n))})),e}},{key:"convertArrayToDate",value:function(e){return!Array.isArray(e)||e.length<6?null:new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5],Math.floor(e[6]/1e6))}},{key:"exportExcel",value:function(){this.reportsService.downloadCsv(this.data).subscribe((function(e){var t=new Blob([e],{type:"text/csv;charset=utf-8"}),o=window.URL.createObjectURL(t),n=document.createElement("a");n.href=o,n.download="exceptions_report.csv",n.click(),window.URL.revokeObjectURL(o)}))}},{key:"onClickAdvanceSearch",value:function(){this.displayAdvancedSearch=!this.displayAdvancedSearch}},{key:"refreshTable",value:function(e){var t=this,o={};Object.keys(this.filters.controls).forEach((function(e){o[e]=t.logDetails&&"recordType"===e?t.filters.value[e]:""})),this.filters.setValue(o),1==e&&this.applyFilters(0),0===e&&(this.minDate=void 0,this.maxDate=new Date)}},{key:"onPageChange",value:function(e){this.paginationOptions.pageNumber=e.first/e.rows,this.paginationOptions.pageSize=e.rows,this.paginationOptions.first=e.first,this.applyFilters(1)}},{key:"searchUserValues",value:function(e){var t=e.query.toLowerCase();this.userValueResults=this.usernames.filter((function(e){return e.toLowerCase().includes(t)}))}}]),t}(),ml.\u0275fac=function(e){return new(e||ml)(u.Pb(R.c),u.Pb(Zt.a),u.Pb(qa.a),u.Pb(_a.a),u.Pb(h.k),u.Pb(u.i),u.Pb(De.a))},ml.\u0275cmp=u.Jb({type:ml,selectors:[["app-exceptions-report"]],decls:25,vars:5,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],["class","card-block",4,"ngIf"],[1,"card-block",2,"display","flex","flex-direction","column"],[1,"pull-right","icons-list",2,"align-self","flex-end"],[1,"add-column",3,"click"],[1,"fa","fa-reply"],["class","fa fa-search",4,"ngIf"],["class","fa fa-times",4,"ngIf"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Export",3,"click"],[1,"fa","fa-external-link"],[1,"no-data-found-message"],["class","ui-datatable arrangementMgrTbl",3,"value","paginator","first","lazy","rows","totalRecords","resizableColumns","rowsPerPageOptions","firstChange","onPage",4,"ngIf"],[1,"card-block"],[3,"formGroup","ngSubmit"],[1,"toggler","search_panel"],[2,"font-weight","bold"],[1,"outer",3,"click"],[1,"form-grid"],[1,"form-group"],["for","userName",1,"form-label"],["formControlName","userName","appendTo","body","placeholder","User Name","minLength","3",1,"filter-form",3,"suggestions","completeMethod"],["for","recordType",1,"form-label"],["style","color: red;",4,"ngIf"],["formControlName","recordType","placeholder","Select Record Type","appendTo","body",1,"filter-form",3,"options","filter"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["for","sourceSystem",1,"form-label"],["formControlName","sourceSystem","placeholder","Select Source System","appendTo","body",1,"filter-form",3,"options","filter"],["for","startDate",1,"form-label"],["formControlName","startDate","placeholder","Select Start Date","yearRange","2000:2100","appendTo","body","dateFormat","yy-mm-dd",1,"prosp-calendar","filter-form",3,"monthNavigator","yearNavigator","showIcon","maxDate","onSelect"],["for","endDate",1,"form-label"],["formControlName","endDate","placeholder","Select End Date","yearRange","2000:2100","appendTo","body","dateFormat","yy-mm-dd",1,"prosp-calendar","filter-form",3,"monthNavigator","yearNavigator","showIcon","minDate","onSelect"],["for","exceptionEvent",1,"form-label"],["formControlName","exceptionEvent","placeholder","Select Exception Event","appendTo","body",1,"filter-form",3,"options","filter"],[1,"row","d-content"],[1,"text-right"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"disabled"],["type","reset","pButton","","label","Reset",1,"secondary-btn",3,"click"],[2,"color","red"],[1,"ui-message","ui-messages-error","ui-corner-all"],[1,"fa","fa-search"],[1,"fa","fa-times"],[1,"ui-datatable","arrangementMgrTbl",3,"value","paginator","first","lazy","rows","totalRecords","resizableColumns","rowsPerPageOptions","firstChange","onPage"],["pTemplate","header"],["pTemplate","body"],[4,"ngFor","ngForOf"],[3,"title",4,"ngIf"],[3,"title"]],template:function(e,t){1&e&&(u.Qb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Kc(5,Ja,40,21,"div",5),u.Ub(),u.Vb(6,"div",4),u.Vb(7,"div",6),u.Vb(8,"h2"),u.Mc(9," Exception and Record History Log "),u.Ub(),u.Vb(10,"div",7),u.Vb(11,"a",8),u.dc("click",(function(){return t.goToOperationReports()})),u.Qb(12,"em",9),u.Mc(13,"Back"),u.Ub(),u.Vb(14,"a",8),u.dc("click",(function(){return t.onClickAdvanceSearch()})),u.Kc(15,Ha,1,0,"em",10),u.Kc(16,Ga,1,0,"em",11),u.Mc(17," Advanced Search "),u.Ub(),u.Vb(18,"a",12),u.dc("click",(function(){return t.refreshTable(1)})),u.Qb(19,"em",13),u.Ub(),u.Vb(20,"a",14),u.dc("click",(function(){return t.exportExcel()})),u.Qb(21,"em",15),u.Ub(),u.Ub(),u.Vb(22,"div",16),u.Mc(23),u.Ub(),u.Kc(24,il,3,9,"p-table",17),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&e&&(u.Eb(5),u.oc("ngIf",t.displayAdvancedSearch),u.Eb(10),u.oc("ngIf",!t.displayAdvancedSearch),u.Eb(1),u.oc("ngIf",t.displayAdvancedSearch),u.Eb(7),u.Nc(t.noDataFoundMessage),u.Eb(1),u.oc("ngIf",t.tableVisible))},directives:[h.o,R.v,R.l,R.g,V.a,R.k,R.e,se.a,w.a,D.b,S.j,A.f,h.n],pipes:[h.f],styles:[".filter-form[_ngcontent-%COMP%]{width:100%!important;margin:6px 0!important;box-sizing:border-box}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-label[_ngcontent-%COMP%]{margin-left:6px!important;color:#262d74!important;font-weight:600!important}.error-message[_ngcontent-%COMP%]{color:red;font-size:.9em;margin-top:2px}input.p-inputtext[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], p-autoComplete[_ngcontent-%COMP%], p-calendar[_ngcontent-%COMP%], p-dropdown[_ngcontent-%COMP%]{width:100%!important;box-sizing:border-box!important;display:block;font-size:14px;font-family:inherit}.p-autoComplete[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%]{width:100%!important;padding:.5rem!important;font-size:14px;box-sizing:border-box!important;min-height:38px;border-radius:4px;border:1px solid #ccc}p-autoComplete[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%]:focus{border-color:#262d74;outline:none;box-shadow:0 0 0 .1rem rgba(38,45,116,.25)}.outer[_ngcontent-%COMP%]{width:45px;height:20px;background-color:#262d74;position:relative;display:flex;align-items:center;padding:3px;box-shadow:inset 0 0 5px #bdbdbd;margin:0 15px}.inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{border-radius:10px}.inner[_ngcontent-%COMP%]{width:15px;height:15px;background-color:#fff;position:absolute;transition:transform .15s linear}.logDetails[_ngcontent-%COMP%]{transform:translateX(23px)}.toggler[_ngcontent-%COMP%]{display:flex;padding:0 10px}.no-data-found-message[_ngcontent-%COMP%]{color:#262d74;padding:3px 600px;font-weight:600}  .p-autocomplete,   .p-autocomplete-input{width:100%!important}"]}),ml)},{path:"glEntriesExceptionsRep",component:(pl=function(){function e(t,n,i,a,l,r,s,c,d){o(this,e),this.formBuilder=t,this.reportsService=n,this.rmanCustomersService=i,this.rmanFiscalPeriodsService=a,this.rmanLegalEntitiesService=l,this.loadingService=r,this.location=s,this.cd=c,this.rmanLookupsVService=d,this.logDetails=!1,this.showPaginator=!0,this.columns=[],this.displayAdvancedSearch=!0,this.filteredUserList=[],this.tableVisible=!1,this.exceptionEvents=["Modified","Reprocessed","Deleted"].map((function(e){return{label:e,value:e.toLowerCase()}})),this.recordTypes=[],this.sourceSystemDropdown=[],this.userValueResults=[],this.usernames=[],this.data=[],this.noDataFoundMessage="",this.maxDate=new Date,this.fiscalPeriodsList=[],this.fiscalPeriodNamesList=[],this.rmanLegalEntitiesList=[],this.LegalEntityNamesList=[],this.customerNames=[],this.tempFilters={},this.paginationOptions={pageNumber:0,pageSize:10,first:0},this.buildEmptyForm(),this.columns=[{field:"entryId",header:"Entry ID"},{field:"period",header:"Period"},{field:"customerName",header:"Customer"},{field:"legalEntity",header:"Legal Entity"},{field:"orderId",header:"Order ID"},{field:"orderLineId",header:"Order Line ID"},{field:"debit",header:"Debit"},{field:"credit",header:"Credit"},{field:"variance",header:"Variance"},{field:"status",header:"Status"},{field:"exceptionMessage",header:"Exception Message"}]}return i(e,[{key:"buildEmptyForm",value:function(){this.filters=this.formBuilder.group({period:[""],customer:[""],legalEntity:[""],orderId:[""],orderLineId:[""]})}},{key:"goToOperationReports",value:function(){this.location.back()}},{key:"searchCustomerNames",value:function(e){var t=this;this.rmanCustomersService.getAllRmanCustomers(this.paginationOptions,{customerName:e.query},!0).then((function(e){t.customerNames=e.content.map((function(e){return{customerId:e.customerId,customerName:e.customerName}}))})).catch((function(){t.customerNames=[]}))}},{key:"getRmanFiscalPeriods",value:function(e){var t=this;this.rmanFiscalPeriodsService.getAllRmanFiscalPeriods(this.paginationOptions,{periodName:e.query}).then((function(e){t.fiscalPeriodsList=e.content,t.fiscalPeriodNamesList=t.fiscalPeriodsList.map((function(e){return{periodName:e.periodName}}))})).catch((function(){t.fiscalPeriodsList=[],t.fiscalPeriodNamesList=[]}))}},{key:"getRmanLegalEntities",value:function(e){var t=this;this.rmanLegalEntitiesService.getAllRmanLegalEntities(this.paginationOptions,{name:e.query},"Y").then((function(e){t.rmanLegalEntitiesList=e.content||[],t.LegalEntityNamesList=t.rmanLegalEntitiesList.map((function(e){return e.name}))})).catch((function(){t.rmanLegalEntitiesList=[],t.LegalEntityNamesList=[]}))}},{key:"ngOnInit",value:function(){this.noDataFoundMessage=""}},{key:"applyFilters",value:function(e){var t,o,n=this;(null===(t=this.filters.value.customer)||void 0===t?void 0:t.customerId)&&(this.filters.value.customer=this.filters.value.customer.customerId),(null===(o=this.filters.value.period)||void 0===o?void 0:o.periodName)&&(this.filters.value.period=this.filters.value.period.periodName),0==e?(this.paginationOptions.first=0,this.tempFilters=this.filters.value):1==e&&(this.paginationOptions.first=0),this.loadingService.setLoading(!0),this.reportsService.filterGlEntryExceptionReports(this.paginationOptions,this.tempFilters).then((function(e){e?(n.tableVisible=!1,n.filteredData=[],n.data=[],n.totalElements=e.totalElements,n.paginationOptions.pageNumber=e.pageNumber||0,n.pageSize=n.paginationOptions.pageSize||10,e.content&&e.content.length>0?(n.filteredData=e.content,n.tableVisible=!0,n.noDataFoundMessage="",n.cd.detectChanges()):n.noDataFoundMessage="No Data Found"):console.error("Failed to fetch data"),n.loadingService.setLoading(!1)})).catch((function(e){console.error("Error fetching data:",e),n.loadingService.setLoading(!1)}))}},{key:"exportExcel",value:function(){this.reportsService.exportGlEntryExceptionsReport(this.tempFilters).subscribe((function(e){var t=new Blob([e],{type:"text/csv;charset=utf-8"}),o=window.URL.createObjectURL(t),n=document.createElement("a");n.href=o,n.download="exceptions_report.csv",n.click(),window.URL.revokeObjectURL(o)}))}},{key:"onClickAdvanceSearch",value:function(){this.displayAdvancedSearch=!this.displayAdvancedSearch}},{key:"refreshTable",value:function(e){1==e&&this.applyFilters(1)}},{key:"onPageChange",value:function(e){this.paginationOptions.pageNumber=e.first/e.rows,this.paginationOptions.pageSize=e.rows,this.paginationOptions.first=e.first,this.applyFilters(2)}}]),e}(),pl.\u0275fac=function(e){return new(e||pl)(u.Pb(R.c),u.Pb(Zt.a),u.Pb(m.a),u.Pb(v.a),u.Pb(y.a),u.Pb(_a.a),u.Pb(h.k),u.Pb(u.i),u.Pb(De.a))},pl.\u0275cmp=u.Jb({type:pl,selectors:[["app-gl-entries-exceptions-report"]],decls:26,vars:5,consts:[[1,"content-section","implementation"],[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],["class","card-block",4,"ngIf"],[1,"card-block",2,"display","flex","flex-direction","column"],[1,"pull-right","icons-list",2,"align-self","flex-end"],[1,"add-column",3,"click"],[1,"fa","fa-reply"],["class","fa fa-search",4,"ngIf"],["class","fa fa-times",4,"ngIf"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Export",3,"click"],[1,"fa","fa-external-link"],[1,"no-data-found-message"],[1,"x-scroll"],["class","ui-datatable arrangementMgrTbl","columnResizeMode","expand","scrollHeight","400px",3,"value","columns","paginator","first","rows","totalRecords","lazy","resizableColumns","scrollable","firstChange","onPage",4,"ngIf"],[1,"card-block"],[3,"formGroup","ngSubmit"],[1,"form-grid"],[1,"form-group"],["for","period",1,"form-label"],["formControlName","period","appendTo","body","placeholder","Period Type atleast 3 Characters","id","period","field","periodName",1,"filter-form",3,"suggestions","minLength","completeMethod"],["for","customers",1,"form-label"],["formControlName","customer","appendTo","body","placeholder","Customer Name Type atleast 3 Characters","id","customers","field","customerName",1,"filter-form",3,"suggestions","minLength","completeMethod"],["for","LE",1,"form-label"],["formControlName","legalEntity","appendTo","body","placeholder","LegalEntity Type atleast 3 Characters","id","LE",1,"filter-form",3,"suggestions","minLength","completeMethod"],["for","orderId",1,"form-label"],["type","text","id","orderId","placeholder","Order ID","formControlName","orderId","name","orderId",1,"filter-form"],["for","orderLineId",1,"form-label"],["type","text","id","orderLineId","placeholder","Order Line ID","formControlName","orderLineId","name","orderLineId",1,"filter-form"],[1,"row","d-content"],[1,"text-right"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"disabled"],["type","reset","pButton","","label","Reset",1,"secondary-btn",3,"click"],[1,"fa","fa-search"],[1,"fa","fa-times"],["columnResizeMode","expand","scrollHeight","400px",1,"ui-datatable","arrangementMgrTbl",3,"value","columns","paginator","first","rows","totalRecords","lazy","resizableColumns","scrollable","firstChange","onPage"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],[3,"width",4,"ngFor","ngForOf"],["pResizableColumn","",4,"ngFor","ngForOf"],["pResizableColumn",""],[3,"title",4,"ngFor","ngForOf"],[3,"title"]],template:function(e,t){1&e&&(u.Qb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Kc(5,al,29,8,"div",5),u.Ub(),u.Vb(6,"div",4),u.Vb(7,"div",6),u.Vb(8,"h2"),u.Mc(9," Unbalanced Accounting Entries "),u.Ub(),u.Vb(10,"div",7),u.Vb(11,"a",8),u.dc("click",(function(){return t.goToOperationReports()})),u.Qb(12,"em",9),u.Mc(13,"Back"),u.Ub(),u.Vb(14,"a",8),u.dc("click",(function(){return t.onClickAdvanceSearch()})),u.Kc(15,ll,1,0,"em",10),u.Kc(16,rl,1,0,"em",11),u.Mc(17," Advanced Search "),u.Ub(),u.Vb(18,"a",12),u.dc("click",(function(){return t.refreshTable(1)})),u.Qb(19,"em",13),u.Ub(),u.Vb(20,"a",14),u.dc("click",(function(){return t.exportExcel()})),u.Qb(21,"em",15),u.Ub(),u.Ub(),u.Vb(22,"div",16),u.Mc(23),u.Ub(),u.Vb(24,"div",17),u.Kc(25,bl,4,9,"p-table",18),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&e&&(u.Eb(5),u.oc("ngIf",t.displayAdvancedSearch),u.Eb(10),u.oc("ngIf",!t.displayAdvancedSearch),u.Eb(1),u.oc("ngIf",t.displayAdvancedSearch),u.Eb(7),u.Nc(t.noDataFoundMessage),u.Eb(2),u.oc("ngIf",t.tableVisible))},directives:[h.o,R.v,R.l,R.g,V.a,R.k,R.e,R.b,D.b,S.j,A.f,h.n,S.g],styles:[".filter-form[_ngcontent-%COMP%]{width:100%!important;margin:6px 0!important;box-sizing:border-box}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-label[_ngcontent-%COMP%]{margin-left:6px!important;color:#262d74!important;font-weight:600!important}.error-message[_ngcontent-%COMP%]{color:red;font-size:.9em;margin-top:2px}input.p-inputtext[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], p-autoComplete[_ngcontent-%COMP%], p-calendar[_ngcontent-%COMP%], p-dropdown[_ngcontent-%COMP%]{width:100%!important;box-sizing:border-box!important;display:block;font-size:14px;font-family:inherit}.p-autoComplete[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%]{width:100%!important;padding:.5rem!important;font-size:14px;box-sizing:border-box!important;min-height:38px;border-radius:4px;border:1px solid #ccc}p-autoComplete[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%]:focus{border-color:#262d74;outline:none;box-shadow:0 0 0 .1rem rgba(38,45,116,.25)}.outer[_ngcontent-%COMP%]{width:45px;height:20px;background-color:#262d74;position:relative;display:flex;align-items:center;padding:3px;box-shadow:inset 0 0 5px #bdbdbd;margin:0 15px}.inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{border-radius:10px}.inner[_ngcontent-%COMP%]{width:15px;height:15px;background-color:#fff;position:absolute;transition:transform .15s linear}.logDetails[_ngcontent-%COMP%]{transform:translateX(23px)}.toggler[_ngcontent-%COMP%]{display:flex;padding:0 10px}.no-data-found-message[_ngcontent-%COMP%]{color:#262d74;padding:3px 600px;font-weight:600}  .p-autocomplete,   .p-autocomplete-input{width:100%!important}"]}),pl)}],vl=((fl=function e(){o(this,e)}).\u0275mod=u.Nb({type:fl}),fl.\u0275inj=u.Mb({factory:function(e){return new(e||fl)},providers:[De.a],imports:[[Yt.a,r.k.forChild(yl),go.b,pi.a]]}),fl)}}])}();