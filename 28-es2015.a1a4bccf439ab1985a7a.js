(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"6QNh":function(e,t,o){"use strict";o.r(t),o.d(t,"AllocationsModule",(function(){return qt}));var l=o("tyNb"),i=o("3Pt+"),n=o("7zfz"),a=o("JSOo"),r=o("J7oY"),c=o("xYYa"),d=o("ofXK"),s=o("qfV7"),b=o("+4s0"),g=o("fXoL"),u=o("tk/3");const p=o("+yMW");let h=(()=>{class e{constructor(e){this.http=e}getServiceUrl(e,t){return p.apiUrl+"/"+e+"?arrgId="+t}getAllAllocationsHistory(e,t){if(console.log("service called",t),!t)return Promise.resolve({content:[],totalElements:0});let o=this.getServiceUrl("arrgAllocationsHistory",t);return null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||(o=o+"&page="+e.pageNumber+"&size="+e.pageSize),console.log("serviceUrl",o),this.http.get(o,{headers:{"Content-Type":"application/json",Accept:"application/json"},responseType:"json"}).toPromise().then(e=>{if(!e)return{content:[],totalElements:0};console.log(e);try{return{content:e.content||[],totalElements:e.totalElements}}catch(t){return{content:e,totalElements:0}}}).catch(e=>({content:[],totalElements:0}))}getAllAllocationsHistoryTotals(e){if(!e)return Promise.resolve({totals:[]});let t=this.getServiceUrl("arrgAllocationsHistoryTotals",e);return this.http.get(t,{headers:{"Content-Type":"application/json",Accept:"application/json"},responseType:"json"}).toPromise().then(e=>{if(!e)return{totals:[]};console.log(e);try{return{totals:e||[]}}catch(t){return{totals:[]}}}).catch(e=>({totals:[]}))}}return e.\u0275fac=function(t){return new(t||e)(g.Zb(u.b))},e.\u0275prov=g.Lb({token:e,factory:e.\u0275fac}),e})();var f=o("7CaW"),m=o("rEr+"),y=o("+07z"),C=o("TjhJ"),v=o("pqzn");const V=["dt"];function M(e,t){if(1&e){const e=g.Wb();g.Vb(0,"a",16),g.dc("click",(function(){g.Dc(e);const t=g.gc(),o=g.Bc(13);return t.exportExcel(o)})),g.Qb(1,"em",17),g.Ub()}}function A(e,t){if(1&e){const e=g.Wb();g.Vb(0,"div",30),g.Vb(1,"div",31),g.dc("onDragStart",(function(){g.Dc(e);const t=g.gc().index;return g.gc(2).onDragStart(t)}))("onDrop",(function(){g.Dc(e);const t=g.gc().index;return g.gc(2).onDrop(t)})),g.Vb(2,"div",32),g.Vb(3,"input",33),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().$implicit.showField=t}))("change",(function(){g.Dc(e);const t=g.gc().$implicit;return g.gc(2).selectColumns(t)})),g.Ub(),g.Vb(4,"label"),g.Mc(5),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&e){const e=g.gc().$implicit;g.Eb(3),g.oc("checked",e.showField)("ngModel",e.showField),g.Eb(2),g.Nc(e.header)}}const w=function(){return{color:"grey"}};function U(e,t){if(1&e){const e=g.Wb();g.Vb(0,"div",30),g.Vb(1,"div",34),g.Vb(2,"div",30),g.Vb(3,"input",35),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().$implicit.showField=t}))("change",(function(){g.Dc(e);const t=g.gc().$implicit;return g.gc(2).selectColumns(t)})),g.Ub(),g.Vb(4,"label",36),g.Mc(5),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&e){const e=g.gc().$implicit;g.Eb(3),g.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),g.Eb(1),g.oc("ngStyle",g.rc(5,w)),g.Eb(1),g.Nc(e.header)}}function S(e,t){if(1&e&&(g.Kc(0,A,6,3,"div",29),g.Kc(1,U,6,6,"div",29)),2&e){const e=t.$implicit;g.oc("ngIf",e.drag),g.Eb(1),g.oc("ngIf",!e.drag)}}const D=function(){return{width:"100%",height:"100%"}};function E(e,t){if(1&e){const e=g.Wb();g.Vb(0,"div",18),g.Vb(1,"div",19),g.Vb(2,"div",20),g.Vb(3,"input",21),g.dc("click",(function(){return g.Dc(e),g.gc().onSelectAll()})),g.Ub(),g.Vb(4,"label",22),g.Mc(5,"Select All"),g.Ub(),g.Vb(6,"a",23),g.dc("click",(function(t){return g.Dc(e),g.gc().closeConfigureColumns(t)})),g.Mc(7,"\xd7"),g.Ub(),g.Vb(8,"p-listbox",24),g.Kc(9,S,2,2,"ng-template",25),g.Ub(),g.Ub(),g.Vb(10,"div",26),g.Vb(11,"a",27),g.dc("click",(function(){return g.Dc(e),g.gc().saveColumns()})),g.Mc(12,"Save"),g.Ub(),g.Vb(13,"a",28),g.dc("click",(function(t){return g.Dc(e),g.gc().closeConfigureColumns(t)})),g.Mc(14,"Cancel"),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&e){const e=g.gc();g.Eb(3),g.oc("checked",e.isSelectAllChecked),g.Eb(5),g.Ic(g.rc(4,D)),g.oc("options",e.allocColumns)}}function N(e,t){1&e&&g.Qb(0,"col")}function I(e,t){if(1&e&&(g.Vb(0,"colgroup"),g.Kc(1,N,1,0,"col",37),g.Ub()),2&e){const e=t.$implicit;g.Eb(1),g.oc("ngForOf",e)}}const F=function(e){return{display:e}};function x(e,t){if(1&e&&(g.Vb(0,"th",40),g.Mc(1),g.Ub()),2&e){const e=g.gc().$implicit;g.pc("title",e.header),g.oc("ngStyle",g.sc(3,F,e.display)),g.Eb(1),g.Nc(e.header)}}function T(e,t){if(1&e&&(g.Vb(0,"th",41),g.Mc(1),g.Ub()),2&e){const e=g.gc().$implicit;g.pc("title",e.header),g.oc("ngStyle",g.sc(3,F,e.display)),g.Eb(1),g.Nc(e.header)}}function L(e,t){if(1&e&&(g.Tb(0),g.Kc(1,x,2,5,"th",38),g.Kc(2,T,2,5,"th",39),g.Sb()),2&e){const e=t.$implicit;g.Eb(1),g.oc("ngIf","text"==e.type||"SSPhyperlink"==e.type||"Revenuehyperlink"==e.type||"date"==e.type||"symbol"==e.type),g.Eb(1),g.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function O(e,t){if(1&e&&(g.Vb(0,"tr"),g.Kc(1,L,3,2,"ng-container",37),g.Ub()),2&e){const e=g.gc();g.Eb(1),g.oc("ngForOf",e.columns)}}function P(e,t){if(1&e&&(g.Vb(0,"td",46),g.Mc(1),g.Ub()),2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.pc("title",t[e.field]),g.oc("ngStyle",g.sc(3,F,e.display)),g.Eb(1),g.Oc(" ",t[e.field]," ")}}const R=function(e,t,o){return{display:e,color:t,"font-weight":o}};function k(e,t){if(1&e&&(g.Vb(0,"td",47),g.Mc(1),g.hc(2,"round"),g.Ub()),2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.oc("ngStyle",g.uc(4,R,e.display,null!=t.allocationVariance&&void 0!==t.allocationVariance&&0!=t.allocationVariance?"#a70000":"",null!=t.allocationVariance&&void 0!==t.allocationVariance&&0!=t.allocationVariance?"bold":"normal")),g.Eb(1),g.Oc(" ",g.ic(2,2,t[e.field])," ")}}function K(e,t){if(1&e&&(g.Vb(0,"td",48),g.Mc(1),g.Ub()),2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.pc("title",t[e.field]),g.oc("ngStyle",g.sc(3,F,e.display)),g.Eb(1),g.Oc(" ",t[e.field]," ")}}function q(e,t){if(1&e&&(g.Vb(0,"td",46),g.hc(1,"date"),g.Mc(2),g.hc(3,"date"),g.Ub()),2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.pc("title",g.jc(1,3,t[e.field],"MM/dd/yyyy")),g.oc("ngStyle",g.sc(9,F,e.display)),g.Eb(2),g.Oc(" ",g.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function $(e,t){if(1&e&&(g.Vb(0,"td",48),g.hc(1,"round"),g.Mc(2),g.hc(3,"round"),g.Ub()),2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.pc("title",g.ic(1,3,t[e.field])),g.oc("ngStyle",g.sc(7,F,e.display)),g.Eb(2),g.Oc(" ",g.ic(3,5,t[e.field])," ")}}function H(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",50),g.Ub())}function Q(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",51),g.Ub())}function G(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",52),g.Ub())}function B(e,t){if(1&e&&(g.Vb(0,"td",46),g.Kc(1,H,2,0,"span",49),g.Kc(2,Q,2,0,"span",49),g.Kc(3,G,2,0,"span",49),g.Ub()),2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.pc("title",t[e.field]),g.oc("ngStyle",g.sc(5,F,e.display)),g.Eb(1),g.oc("ngIf","RED"==t[e.field]),g.Eb(1),g.oc("ngIf","GREEN"==t[e.field]),g.Eb(1),g.oc("ngIf","YELLOW"==t[e.field])}}function z(e,t){if(1&e&&(g.Tb(0),g.Kc(1,P,2,5,"td",43),g.Kc(2,k,3,8,"td",44),g.Kc(3,K,2,5,"td",45),g.Kc(4,q,4,11,"td",43),g.Kc(5,$,4,9,"td",45),g.Kc(6,B,4,7,"td",43),g.Sb()),2&e){const e=t.$implicit;g.Eb(1),g.oc("ngIf","text"==e.type),g.Eb(1),g.oc("ngIf","allocationAmount"===e.field),g.Eb(1),g.oc("ngIf","number"==e.type),g.Eb(1),g.oc("ngIf","date"==e.type),g.Eb(1),g.oc("ngIf","round"==e.type&&"allocationAmount"!==e.field),g.Eb(1),g.oc("ngIf","symbol"==e.type)}}function W(e,t){if(1&e&&(g.Vb(0,"tr",42),g.Kc(1,z,7,6,"ng-container",37),g.Ub()),2&e){const e=t.$implicit,o=g.gc();g.oc("pSelectableRow",e),g.Eb(1),g.oc("ngForOf",o.columns)}}function j(e,t){if(1&e&&(g.Vb(0,"div",53),g.Vb(1,"p"),g.Mc(2),g.Ub(),g.Ub()),2&e){const e=g.gc();g.Eb(2),g.Nc(e.noData)}}const Y=o("+yMW");let J=(()=>{class e{constructor(e,t,o,l){this.rmanAllocationsHistoryService=e,this.commonSharedService=t,this.notificationService=o,this.router=l,this.noData=Y.noData,this.loading=!0,this.allocationsHistoryList=[],this.pageSize=10,this.totalElements=0,this.pageNumber=0,this.isTCSelected=!0,this.totals={},this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.disableExport=!0,this.paginationOptions={pageNumber:0,pageSize:"10"}}ngOnInit(){this.allocColumns=[{field:"pobGrouping",header:"POB ID",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"arrgLineNumber",header:"Revenue Contract Line Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"customerPoNum",header:"PO",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"orderNumber",header:"Order Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"sourceLineNumber",header:"Order Line Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"dealNumber",header:"Contract/Deal Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"dealLineNumber",header:"Line Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"productName",header:"Product Name",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"productDescription",header:"Product Description",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"uomCode",header:"UOM",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"quantity",header:"Quantity",showField:!0,drag:!0,display:"table-cell",type:"number",footer:"empty"},{field:"dealCurrencyCode",header:"Currency",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"unitListPrice",header:"Unit List Price",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"unitSellingPrice",header:"Unit Selling Price",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"netPriceDiscount",header:"Discount or Premium%",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"extendedListAmount",header:"Extended List Price",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"extendedListAmountTotal"},{field:"lineAmount",header:"Net Price",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"lineAmountTotal"},{field:"vc",header:"Variable Consideration",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"vcTotal"},{field:"allocableAmount",header:"Allocable Net Price",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"allocableAmountTotal"},{field:"elementType",header:"Element Type",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"bundleFlag",header:"Bundle Flag",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"parentLineId",header:"Parent Product",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"productGroup",header:"Product Group",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"productType",header:"Product Type",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"fmvRuleName",header:"SSP Rule Name",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"fmvCategory",header:"SSP Category",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"fmvType",header:"SSP Type",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"fmvMin",header:"SSP Min",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"fmvMean",header:"SSP Mean",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"fmvMax",header:"SSP Max",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"bundleAttributionList",header:"Bundle Attribution Extended List Price",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"bundleAttributionNet",header:"Bundle Attribution Net Price",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"sspLow",header:"SSP Low",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"sspHigh",header:"SSP High",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"ssp",header:"SSP",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"fmvAmount",header:"Extended SSP",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"fmvAmountTotal"},{field:"allocationAmount",header:"Allocation Amount",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"allocationAmountTotal"},{field:"cvInOutAmount",header:"Carve In/Carve Out Amount",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"cvInOutAmountTotal"},{field:"allocationFlag",header:"Allocation Flag",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"allocationInclusive",header:"Allocation Inclusive",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"totalCost",header:"Total Cost",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"fxRate",header:"Fx Rate",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"fxCurrency",header:"Fx Currency",showField:!0,drag:!0,display:"table-cell",type:"number",footer:"empty"},{field:"fxDate",header:"Fx Date",showField:!0,drag:!0,display:"table-cell",type:"date",footer:"empty"},{field:"allocationAmountFc",header:"Allocation Amount(FC)",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"allocationAmountFcTotal"},{field:"allocationMarginPercentage",header:"Carve In/Outs %",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"grossMarginPercentage",header:"Allocated Margin %",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"allocationGuidance",header:"Revenue Guidance",showField:!0,drag:!0,display:"table-cell",type:"symbol",footer:"allocationGuidanceTotal"},{field:"allocationMarginGuidance",header:"Margin Guidance",showField:!0,drag:!0,display:"table-cell",type:"symbol",footer:"allocationMarginGuidanceTotal"},{field:"discountGuidance",header:"Discount Guidance",showField:!0,drag:!0,display:"table-cell",type:"symbol",footer:"discountGuidanceTotal"},{field:"revenueGuidance",header:"Deal Guidance",showField:!0,drag:!0,display:"table-cell",type:"symbol",footer:"revenueGuidanceTotal"},{field:"comments",header:"Guidance Comments",showField:!0,drag:!0,display:"table-cell",type:"symbol",footer:"commentsTotal"},{field:"adjDealLineCost",header:"Adjustment Deal Line Cost",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"adjRevenue",header:"Adjusted Revenue",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"grossMargin",header:"Gross Margin",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"grossMarginTotal"},{field:"gmLinePercentage",header:"Gross Margin %",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"productFamily",header:"Product Family",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"productLine",header:"Product Line",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"salesContract",header:"Sales Contract Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"chargeType",header:"Charge Type",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"assetId",header:"Asset Id",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"assetNumber",header:"Asset Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"primaryLineNumber",header:"Primary Line Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"itemSequenceNumber",header:"Item Sequence Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"parentLineNumber",header:"Parent Line Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"opportunityNumber",header:"Opportunity Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"opportunityName",header:"Opportunity Name",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"praposalDescription",header:"Praposal Description",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"dealType",header:"Order Type",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"legalEntityName",header:"Legal Entity",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"customerNumber",header:"Customer Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"customerName",header:"Customer Name",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"bookedDate",header:"Ready for Activation Date",showField:!0,drag:!0,display:"table-cell",type:"date",footer:"empty"},{field:"dealStatus",header:"Order Status",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"dealLineStatus",header:"Line Status",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"region",header:"Billing Region",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"revenueTemplate",header:"Revenue Policy",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"opportunityType",header:"Opportunity Type",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"customerType",header:"Customer Type",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"signatureDate",header:"Signature Date",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"quoteLinereferenceNumber",header:"Quote Linereference Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"forecastDate",header:"Forecast Date",showField:!0,drag:!0,display:"table-cell",type:"date",footer:"empty"},{field:"deliveredDate",header:"Delivered Date",showField:!0,drag:!0,display:"table-cell",type:"date",footer:"empty"},{field:"revrecStartDate",header:"Revrec Start Date",showField:!0,drag:!0,display:"table-cell",type:"date",footer:"empty"},{field:"revrecEndDate",header:"Revrec End Date",showField:!0,drag:!0,display:"table-cell",type:"date",footer:"empty"},{field:"revenueTermMths",header:"Revenue Term in Months",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"revenueTermDays",header:"Revenue Term in Days",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"accountingRuleName",header:"Accounting Rule",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"productNumber",header:"Product Code",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"sourceProductId",header:"Product Case Safe Id",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"lineType",header:"Line Type",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"bundleParentLineNumber",header:"Bundle Parent Line Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"quoteNumber",header:"Quote Number",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"serviceStartDate",header:"Service Start Date",showField:!0,drag:!0,display:"table-cell",type:"date",footer:"empty"},{field:"serviceEndDate",header:"Service End Date",showField:!0,drag:!0,display:"table-cell",type:"date",footer:"empty"},{field:"dealArrangementId",header:"Deal Arrangement Id",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"dealLineId",header:"Deal Line Id",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"dealHeaderId",header:"Deal Header Id",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"originalLineType",header:"Line Source",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"trxCurrencyCode",header:"Transactional Currency Code",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"repCurrCode",header:"Rep Curr Code",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"solution",header:"Solution",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"accountingScope",header:"Accounting Scope",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"oldAllocationAmount",header:"Previous Allocation Amount",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"accountingStandard",header:"Accounting Standard",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"fmvRuleDefId",header:"SSP Rule Def Id",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"revenueTemplateId",header:"Revenue Template Id",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"pobMapId",header:"POB Map Id",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"parentContractLineId",header:"Parent Contract Line Id",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"changeReason",header:"Change Reason",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"amendedVersion",header:"Amended Version",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"allocationVariance",header:"Allocation Variance",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"}],this.columns=[]}ngOnDestroy(){this.columns=[]}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];let t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.allocColumns.findIndex(t=>t.field==e),this.onDrop(t))}),this.allocColumns.forEach(e=>{-1!==t.indexOf(e.field)?this.columns.push(e):e.showField=!1}),this.columns.length!=this.allocColumns.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.allocColumns;0===this.columns.length&&(this.columns=this.allocColumns)}).catch(e=>{console.log("getConfiguredColDetails failed:",e),this.notificationService.showError("Error occurred while getting table columns data"),this.loading=!1,this.columns=this.allocColumns})}getAllAllocationsHistory(){this.loading=!0,console.log("arrid",this.arrIdK),this.paginationOptions={pageNumber:this.pageNumber,pageSize:this.pageSize},console.log("paginationOptions",this.paginationOptions),this.rmanAllocationsHistoryService.getAllAllocationsHistory(this.paginationOptions,this.arrIdK).then(e=>{if(console.log(e),!e)return this.loading=!1,void this.notificationService.showError("Error occurred while getting data");this.allocationsHistoryList=e.content||[],this.totalElements=e.totalElements,this.getTableColumns("rmanAllocationsHistory","Allocations History"),this.clonedCols=this.columns,this.disableExport=!1,this.loading=!1}).catch(e=>{console.log(e),this.notificationService.showError("Error occurred while getting data"),this.loading=!1})}toTitleCase(e){return e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}clearAllAllocationsHistory(){this.allocationsHistoryList=[],this.totals=[],this.totalElements=0}onPageChange(e){console.log("aid",this.arrIdK),this.arrIdK&&(this.pageNumber=e.first/e.rows,this.getAllAllocationsHistory())}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.allocColumns.length-1;this.allocColumns.forEach((o,l)=>{o.showField&&(e+=o.field,l<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("rmanAllocationsHistory","Allocations History",e,this.userId).then(e=>{this.columns=this.allocColumns.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occurred while saving columns"),this.loading=!1}),this.clonedCols=this.columns}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.allocColumns[this.startIndex];this.startIndex>=0&&(this.allocColumns.splice(this.startIndex,1),this.allocColumns.splice(e,0,t));const o=this.columns.map(e=>e.field);this.columns=this.allocColumns.filter(e=>o.includes(e.field))}selectColumns(e){let t=this.allocColumns.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.allocColumns.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.allocColumns)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.allocColumns=this.clonedCols;let t=this.allocColumns.filter(e=>e.showField);this.isSelectAllChecked=t.length==this.allocColumns.length,this.columns=t}exportExcel(){this.exportCols=[];for(let t=0;t<this.columns.length;t++)this.columns[t].showField&&this.exportCols.push(this.columns[t].field);let e=this.rmanAllocationsHistoryService.getServiceUrl("arrgAllocationsHistoryExport",this.arrIdK);e=e+"&exportCols="+this.exportCols,console.log(e),window.location.href=e}reset(e){this.paginationOptions={pageNumber:0,pageSize:"10"},this.getAllAllocationsHistory(),e.clear()}fieldType(e){return typeof e}isCurrencyField(e){return["Unit Net Price","Net Price","Allocation Amount","Line Amount","Delivered Line Amount","Delivered Alloc Amount","To be delivered - Line amount","To be delivered - Allocation amount"].includes(e)||/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-\d{2}$/.test(e)}isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}}return e.\u0275fac=function(t){return new(t||e)(g.Pb(h),g.Pb(a.a),g.Pb(r.a),g.Pb(l.g))},e.\u0275cmp=g.Jb({type:e,selectors:[["rmanAllocationsHistory-data"]],viewQuery:function(e,t){var o;1&e&&g.Qc(V,!0),2&e&&g.Ac(o=g.ec())&&(t.dt=o.first)},features:[g.Db([h])],decls:18,vars:10,consts:[[1,"content-section","implementation"],["header","",1,"mb-1em"],[1,"pull-right","icons-list"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Export",3,"click",4,"ngIf"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],[1,"x-scroll"],["id","allocationsHistory-dt","scrollable","true","selectionMode","single","exportFilename","Allocations History",1,"ui-datatable","arrangementMgrTbl",3,"value","loading","rows","totalRecords","columns","lazy","paginator","metaKeySelection","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",2,"width","13px !important",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],["style","display:flex; width: 100% !important",4,"ngIf"],[2,"display","flex","width","100% !important"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",2,"width","100%",3,"onDragStart","onDrop"],[1,"drag",2,"width","100% !important"],["type","checkbox",2,"width","13px !important",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix",2,"width","100%"],["type","checkbox",2,"width","13px !important",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[1,"number",3,"ngStyle"],[1,"number",3,"title","ngStyle"],[4,"ngIf"],["aria-hidden","true",1,"fa","fa-circle","red-color"],["aria-hidden","true",1,"fa","fa-circle","green-color"],["aria-hidden","true",1,"fa","fa-circle","yellow-color"],[1,"no-results-data"]],template:function(e,t){if(1&e){const e=g.Wb();g.Qb(0,"div",0),g.Vb(1,"p-panel",1),g.Vb(2,"p-header"),g.Vb(3,"div",2),g.Vb(4,"a",3),g.dc("click",(function(e){return t.onConfiguringColumns(e)})),g.Qb(5,"em",4),g.Mc(6,"Columns"),g.Ub(),g.Vb(7,"a",5),g.dc("click",(function(){g.Dc(e);const o=g.Bc(13);return t.reset(o)})),g.Qb(8,"em",6),g.Ub(),g.Kc(9,M,2,0,"a",7),g.Kc(10,E,15,5,"div",8),g.Ub(),g.Ub(),g.Vb(11,"div",9),g.Vb(12,"p-table",10,11),g.dc("onLazyLoad",(function(e){return t.onPageChange(e)})),g.Kc(14,I,2,1,"ng-template",12),g.Kc(15,O,2,1,"ng-template",13),g.Kc(16,W,2,2,"ng-template",14),g.Kc(17,j,3,1,"ng-template",15),g.Ub(),g.Ub(),g.Ub()}2&e&&(g.Eb(9),g.oc("ngIf",!t.disableExport),g.Eb(1),g.oc("ngIf",!t.showAddColumns),g.Eb(2),g.oc("value",t.allocationsHistoryList)("loading",t.loading)("rows",t.pageSize)("totalRecords",t.totalElements)("columns",t.columns)("lazy",!0)("paginator",!0)("metaKeySelection",!1))},directives:[f.a,n.c,d.o,m.j,n.f,y.a,C.b,C.c,i.a,i.k,i.n,d.p,d.n,m.g,m.i],pipes:[v.a,d.f],encapsulation:2}),e})();var _=o("Nf9I"),Z=o("/RsI"),X=o("7kUa"),ee=o("jIHw"),te=o("6t4m"),oe=o("Y+ZO"),le=o("eO1q"),ie=o("hwPQ"),ne=o("dY+j");const ae=["allocAudit"];function re(e,t){if(1&e){const e=g.Wb();g.Tb(0),g.Vb(1,"a",56),g.dc("click",(function(){return g.Dc(e),g.gc(2).exportExcel()})),g.Qb(2,"em",57),g.Ub(),g.Sb()}}function ce(e,t){if(1&e){const e=g.Wb();g.Vb(0,"div"),g.Vb(1,"div",69),g.dc("onDragStart",(function(){g.Dc(e);const t=g.gc().index;return g.gc(3).onDragStart(t)}))("onDrop",(function(){g.Dc(e);const t=g.gc().index;return g.gc(3).onDrop(t)})),g.Vb(2,"div",70),g.Vb(3,"input",71),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().$implicit.showField=t}))("change",(function(){g.Dc(e);const t=g.gc().$implicit;return g.gc(3).selectColumns(t)})),g.Ub(),g.Vb(4,"label"),g.Mc(5),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&e){const e=g.gc().$implicit;g.Eb(3),g.oc("checked",e.showField)("ngModel",e.showField),g.Eb(2),g.Nc(e.header)}}const de=function(){return{color:"grey"}};function se(e,t){if(1&e){const e=g.Wb();g.Vb(0,"div"),g.Vb(1,"div",72),g.Vb(2,"div"),g.Vb(3,"input",73),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().$implicit.showField=t}))("change",(function(){g.Dc(e);const t=g.gc().$implicit;return g.gc(3).selectColumns(t)})),g.Ub(),g.Vb(4,"label",74),g.Mc(5),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&e){const e=g.gc().$implicit;g.Eb(3),g.oc("checked",e.showField)("ngModel",e.showField)("disabled",!e.drag),g.Eb(1),g.oc("ngStyle",g.rc(5,de)),g.Eb(1),g.Nc(e.header)}}function be(e,t){if(1&e&&(g.Kc(0,ce,6,3,"div",54),g.Kc(1,se,6,6,"div",54)),2&e){const e=t.$implicit;g.oc("ngIf",e.drag),g.Eb(1),g.oc("ngIf",!e.drag)}}const ge=function(){return{width:"100%",height:"100%"}};function ue(e,t){if(1&e){const e=g.Wb();g.Vb(0,"div",58),g.Vb(1,"div",59),g.Vb(2,"div",60),g.Vb(3,"input",61),g.dc("click",(function(){return g.Dc(e),g.gc(2).onSelectAll()})),g.Ub(),g.Vb(4,"label",62),g.Mc(5,"Select All"),g.Ub(),g.Vb(6,"a",63),g.dc("click",(function(t){return g.Dc(e),g.gc(2).closeConfigureColumns(t)})),g.Mc(7,"\xd7"),g.Ub(),g.Vb(8,"p-listbox",64),g.Kc(9,be,2,2,"ng-template",65),g.Ub(),g.Ub(),g.Vb(10,"div",66),g.Vb(11,"a",67),g.dc("click",(function(){return g.Dc(e),g.gc(2).saveColumns()})),g.Mc(12,"Save"),g.Ub(),g.Vb(13,"a",68),g.dc("click",(function(t){return g.Dc(e),g.gc(2).closeConfigureColumns(t)})),g.Mc(14,"Cancel"),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&e){const e=g.gc(2);g.Eb(3),g.oc("checked",e.isSelectAllChecked),g.Eb(5),g.Ic(g.rc(4,ge)),g.oc("options",e.globalCols)}}function pe(e,t){if(1&e){const e=g.Wb();g.Vb(0,"div",42),g.Vb(1,"p-toggleButton",43),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().quoteOrderSwitch=t}))("ngModelChange",(function(){return g.Dc(e),g.gc().onQuoteOrderSwitch()})),g.Ub(),g.Vb(2,"a",44),g.dc("click",(function(t){return g.Dc(e),g.gc().onConfiguringColumns(t)})),g.Qb(3,"em",45),g.Mc(4,"Columns"),g.Ub(),g.Vb(5,"a",46),g.dc("click",(function(){return g.Dc(e),g.gc().getHistory()})),g.Qb(6,"em",47),g.Mc(7,"History"),g.Ub(),g.Vb(8,"a",48),g.dc("click",(function(){return g.Dc(e),g.gc().showDialogToSearch()})),g.Qb(9,"em",49),g.Ub(),g.Vb(10,"a",50),g.dc("click",(function(){return g.Dc(e),g.gc().ProspectiveAnalysis()})),g.Ub(),g.Vb(11,"a",51),g.dc("click",(function(){return g.Dc(e),g.gc().executeRetrospectiveProcess()})),g.Ub(),g.Vb(12,"a",52),g.dc("click",(function(){g.Dc(e);const t=g.gc(),o=g.Bc(7),l=g.Bc(59);return t.reset(o)||t.reset(l)})),g.Qb(13,"em",53),g.Ub(),g.Kc(14,re,3,0,"ng-container",54),g.Kc(15,ue,15,5,"div",55),g.Ub()}if(2&e){const e=g.gc();g.Eb(1),g.oc("ngModel",e.quoteOrderSwitch),g.Eb(13),g.oc("ngIf",!e.disableExport),g.Eb(1),g.oc("ngIf",!e.showAddColumns)}}function he(e,t){1&e&&g.Qb(0,"col")}function fe(e,t){if(1&e&&(g.Vb(0,"colgroup"),g.Qb(1,"col"),g.Kc(2,he,1,0,"col",75),g.Ub()),2&e){const e=t.$implicit;g.Eb(2),g.oc("ngForOf",e)}}const me=function(e){return{display:e}};function ye(e,t){if(1&e&&(g.Vb(0,"th",79),g.Mc(1),g.Ub()),2&e){const e=g.gc().$implicit;g.pc("title",e.header),g.oc("ngStyle",g.sc(3,me,e.display)),g.Eb(1),g.Nc(e.header)}}function Ce(e,t){if(1&e&&(g.Vb(0,"th",80),g.Mc(1),g.Ub()),2&e){const e=g.gc().$implicit;g.pc("title",e.header),g.oc("ngStyle",g.sc(3,me,e.display)),g.Eb(1),g.Nc(e.header)}}function ve(e,t){if(1&e&&(g.Tb(0),g.Kc(1,ye,2,5,"th",77),g.Kc(2,Ce,2,5,"th",78),g.Sb()),2&e){const e=t.$implicit;g.Eb(1),g.oc("ngIf","text"==e.type||"SSPhyperlink"==e.type||"POBHyperlink"==e.type||"Revenuehyperlink"==e.type||"routingHyperlink"==e.type||"date"==e.type||"symbol"==e.type),g.Eb(1),g.oc("ngIf","number"==e.type||"round"==e.type||"link"==e.type)}}function Ve(e,t){if(1&e&&(g.Vb(0,"tr"),g.Vb(1,"th",76),g.Qb(2,"p-tableHeaderCheckbox"),g.Ub(),g.Kc(3,ve,3,2,"ng-container",75),g.Ub()),2&e){const e=g.gc();g.Eb(3),g.oc("ngForOf",e.columns)}}function Me(e,t){if(1&e&&(g.Vb(0,"td",85),g.Mc(1),g.Ub()),2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.pc("title",t[e.field]),g.oc("ngStyle",g.sc(3,me,e.display)),g.Eb(1),g.Oc(" ",t[e.field]," ")}}function Ae(e,t){if(1&e){const e=g.Wb();g.Vb(0,"td",85),g.Vb(1,"a",86),g.dc("click",(function(){g.Dc(e);const t=g.gc(2).$implicit;return g.gc().openSSPDetailDialog(t)})),g.Mc(2),g.Ub(),g.Ub()}if(2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.pc("title",t[e.field]),g.oc("ngStyle",g.sc(3,me,e.display)),g.Eb(2),g.Oc(" ",t[e.field]," ")}}function we(e,t){if(1&e){const e=g.Wb();g.Vb(0,"td",85),g.Vb(1,"a",86),g.dc("click",(function(){g.Dc(e);const t=g.gc(2).$implicit;return g.gc().openRevenueDetailDialog(t)})),g.Mc(2),g.Ub(),g.Ub()}if(2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.pc("title",t[e.field]),g.oc("ngStyle",g.sc(3,me,e.display)),g.Eb(2),g.Oc(" ",t[e.field]," ")}}function Ue(e,t){if(1&e){const e=g.Wb();g.Vb(0,"td",85),g.Vb(1,"a",86),g.dc("click",(function(){g.Dc(e);const t=g.gc(2).$implicit;return g.gc().openPOBDetailDialog(t)})),g.Mc(2),g.Ub(),g.Ub()}if(2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.pc("title",t[e.field]),g.oc("ngStyle",g.sc(3,me,e.display)),g.Eb(2),g.Oc(" ",t[e.field]," ")}}function Se(e,t){if(1&e){const e=g.Wb();g.Vb(0,"td",85),g.Vb(1,"a",86),g.dc("click",(function(t){g.Dc(e);const o=g.gc(2).$implicit;return g.gc().routeToInheritedRC(t,o)})),g.Mc(2),g.Ub(),g.Ub()}if(2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.pc("title",t[e.field]),g.oc("ngStyle",g.sc(3,me,e.display)),g.Eb(2),g.Oc(" ",t[e.field]," ")}}function De(e,t){if(1&e&&(g.Vb(0,"td",87),g.Mc(1),g.Ub()),2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.pc("title",t[e.field]),g.oc("ngStyle",g.sc(3,me,e.display)),g.Eb(1),g.Oc(" ",t[e.field]," ")}}function Ee(e,t){if(1&e&&(g.Vb(0,"td",85),g.hc(1,"date"),g.Mc(2),g.hc(3,"date"),g.Ub()),2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.pc("title",g.jc(1,3,t[e.field],"MM/dd/yyyy")),g.oc("ngStyle",g.sc(9,me,e.display)),g.Eb(2),g.Oc(" ",g.jc(3,6,t[e.field],"MM/dd/yyyy")," ")}}function Ne(e,t){if(1&e&&(g.Vb(0,"td",87),g.hc(1,"round"),g.Mc(2),g.hc(3,"round"),g.Ub()),2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.pc("title",g.ic(1,3,t[e.field])),g.oc("ngStyle",g.sc(7,me,e.display)),g.Eb(2),g.Oc(" ",g.ic(3,5,t[e.field])," ")}}function Ie(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",88),g.Ub())}function Fe(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",89),g.Ub())}function xe(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",90),g.Ub())}function Te(e,t){if(1&e&&(g.Vb(0,"td",85),g.Kc(1,Ie,2,0,"span",54),g.Kc(2,Fe,2,0,"span",54),g.Kc(3,xe,2,0,"span",54),g.Ub()),2&e){const e=g.gc().$implicit,t=g.gc().$implicit;g.pc("title",t[e.field]),g.oc("ngStyle",g.sc(5,me,e.display)),g.Eb(1),g.oc("ngIf","RED"==t[e.field]),g.Eb(1),g.oc("ngIf","GREEN"==t[e.field]),g.Eb(1),g.oc("ngIf","YELLOW"==t[e.field])}}function Le(e,t){if(1&e&&(g.Tb(0),g.Kc(1,Me,2,5,"td",83),g.Kc(2,Ae,3,5,"td",83),g.Kc(3,we,3,5,"td",83),g.Kc(4,Ue,3,5,"td",83),g.Kc(5,Se,3,5,"td",83),g.Kc(6,De,2,5,"td",84),g.Kc(7,Ee,4,11,"td",83),g.Kc(8,Ne,4,9,"td",84),g.Kc(9,Te,4,7,"td",83),g.Sb()),2&e){const e=t.$implicit;g.Eb(1),g.oc("ngIf","text"==e.type),g.Eb(1),g.oc("ngIf","SSPhyperlink"==e.type),g.Eb(1),g.oc("ngIf","Revenuehyperlink"==e.type),g.Eb(1),g.oc("ngIf","POBHyperlink"==e.type),g.Eb(1),g.oc("ngIf","routingHyperlink"==e.type),g.Eb(1),g.oc("ngIf","number"==e.type),g.Eb(1),g.oc("ngIf","date"==e.type),g.Eb(1),g.oc("ngIf","round"==e.type),g.Eb(1),g.oc("ngIf","symbol"==e.type)}}function Oe(e,t){if(1&e&&(g.Vb(0,"tr",81),g.Vb(1,"td",76),g.Qb(2,"p-tableCheckbox",82),g.Ub(),g.Kc(3,Le,10,9,"ng-container",75),g.Ub()),2&e){const e=t.$implicit,o=t.columns,l=g.gc();g.oc("pSelectableRow",e)("pSelectableRowIndex",l.rowIndex),g.Eb(2),g.oc("value",e),g.Eb(1),g.oc("ngForOf",o)}}function Pe(e,t){1&e&&g.Qb(0,"td")}function Re(e,t){1&e&&(g.Vb(0,"td",93),g.Mc(1,"Totals: "),g.Ub())}function ke(e,t){if(1&e&&(g.Vb(0,"td",93),g.Mc(1),g.hc(2,"round"),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.Nc(g.ic(2,1,e.totalListAmount))}}function Ke(e,t){if(1&e&&(g.Vb(0,"td",93),g.Mc(1),g.hc(2,"round"),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.Nc(g.ic(2,1,e.lineAmountTotal))}}function qe(e,t){if(1&e&&(g.Vb(0,"td",93),g.Mc(1),g.hc(2,"round"),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.Nc(g.ic(2,1,e.vcTotal))}}function $e(e,t){if(1&e&&(g.Vb(0,"td",93),g.Mc(1),g.hc(2,"round"),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.Nc(g.ic(2,1,e.allocableNetTotal))}}function He(e,t){if(1&e&&(g.Vb(0,"td",93),g.Mc(1),g.hc(2,"round"),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.Nc(g.ic(2,1,e.fvTotal))}}function Qe(e,t){if(1&e&&(g.Vb(0,"td",93),g.Mc(1),g.hc(2,"round"),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.Nc(g.ic(2,1,e.allocationTotal))}}function Ge(e,t){if(1&e&&(g.Vb(0,"td",93),g.Mc(1),g.hc(2,"round"),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.Nc(g.ic(2,1,e.cvInOutAmountTotal))}}function Be(e,t){if(1&e&&(g.Vb(0,"td",93),g.Mc(1),g.hc(2,"round"),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.Nc(g.ic(2,1,e.allocationFcTotal))}}function ze(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",88),g.Ub())}function We(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",89),g.Ub())}function je(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",90),g.Ub())}function Ye(e,t){if(1&e&&(g.Vb(0,"td",94),g.Kc(1,ze,2,0,"span",54),g.Kc(2,We,2,0,"span",54),g.Kc(3,je,2,0,"span",54),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.oc("ngIf","RED"==e.allocStatusTotal),g.Eb(1),g.oc("ngIf","GREEN"==e.allocStatusTotal),g.Eb(1),g.oc("ngIf","YELLOW"==e.allocStatusTotal)}}function Je(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",88),g.Ub())}function _e(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",89),g.Ub())}function Ze(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",90),g.Ub())}function Xe(e,t){if(1&e&&(g.Vb(0,"td",94),g.Kc(1,Je,2,0,"span",54),g.Kc(2,_e,2,0,"span",54),g.Kc(3,Ze,2,0,"span",54),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.oc("ngIf","RED"==e.allocMarginStatusTotal),g.Eb(1),g.oc("ngIf","GREEN"==e.allocMarginStatusTotal),g.Eb(1),g.oc("ngIf","YELLOW"==e.allocMarginStatusTotal)}}function et(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",88),g.Ub())}function tt(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",89),g.Ub())}function ot(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",90),g.Ub())}function lt(e,t){if(1&e&&(g.Vb(0,"td",94),g.Kc(1,et,2,0,"span",54),g.Kc(2,tt,2,0,"span",54),g.Kc(3,ot,2,0,"span",54),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.oc("ngIf","RED"==e.discountStatusTotal),g.Eb(1),g.oc("ngIf","GREEN"==e.discountStatusTotal),g.Eb(1),g.oc("ngIf","YELLOW"==e.discountStatusTotal)}}function it(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",88),g.Ub())}function nt(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",89),g.Ub())}function at(e,t){1&e&&(g.Vb(0,"span"),g.Qb(1,"i",90),g.Ub())}function rt(e,t){if(1&e&&(g.Vb(0,"td",94),g.Kc(1,it,2,0,"span",54),g.Kc(2,nt,2,0,"span",54),g.Kc(3,at,2,0,"span",54),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.oc("ngIf","RED"==e.statusTotal),g.Eb(1),g.oc("ngIf","GREEN"==e.statusTotal),g.Eb(1),g.oc("ngIf","YELLOW"==e.statusTotal)}}function ct(e,t){if(1&e&&(g.Vb(0,"span"),g.Mc(1),g.Ub()),2&e){const e=g.gc(4);g.Eb(1),g.Oc("Lines Failing: ",e.commentsTotal,"")}}function dt(e,t){if(1&e&&(g.Vb(0,"td",94),g.Kc(1,ct,2,1,"span",54),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.oc("ngIf",null!=e.commentsTotal)}}function st(e,t){if(1&e&&(g.Vb(0,"td",93),g.Mc(1),g.hc(2,"round"),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.Nc(g.ic(2,1,e.rebateTotal))}}function bt(e,t){if(1&e&&(g.Vb(0,"td",93),g.Mc(1),g.hc(2,"round"),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.Nc(g.ic(2,1,e.grossMarginTotal))}}function gt(e,t){if(1&e&&(g.Vb(0,"td",93),g.Mc(1),g.hc(2,"round"),g.Ub()),2&e){const e=g.gc(3);g.Eb(1),g.Nc(g.ic(2,1,e.allocatedMarginTotal))}}function ut(e,t){if(1&e&&(g.Tb(0),g.Kc(1,Pe,1,0,"td",54),g.Kc(2,Re,2,0,"td",91),g.Kc(3,ke,3,3,"td",91),g.Kc(4,Ke,3,3,"td",91),g.Kc(5,qe,3,3,"td",91),g.Kc(6,$e,3,3,"td",91),g.Kc(7,He,3,3,"td",91),g.Kc(8,Qe,3,3,"td",91),g.Kc(9,Ge,3,3,"td",91),g.Kc(10,Be,3,3,"td",91),g.Kc(11,Ye,4,3,"td",92),g.Kc(12,Xe,4,3,"td",92),g.Kc(13,lt,4,3,"td",92),g.Kc(14,rt,4,3,"td",92),g.Kc(15,dt,2,1,"td",92),g.Kc(16,st,3,3,"td",91),g.Kc(17,bt,3,3,"td",91),g.Kc(18,gt,3,3,"td",91),g.Sb()),2&e){const e=t.$implicit;g.Eb(1),g.oc("ngIf","empty"==e.footer),g.Eb(1),g.oc("ngIf","totals"==e.footer),g.Eb(1),g.oc("ngIf","totalListAmount"==e.footer),g.Eb(1),g.oc("ngIf","lineAmountTotal"==e.footer),g.Eb(1),g.oc("ngIf","vcTotal"==e.footer),g.Eb(1),g.oc("ngIf","allocableNetTotal"==e.footer),g.Eb(1),g.oc("ngIf","fvTotal"==e.footer),g.Eb(1),g.oc("ngIf","allocationTotal"==e.footer),g.Eb(1),g.oc("ngIf","cvInOutAmountTotal"==e.footer),g.Eb(1),g.oc("ngIf","allocationFcTotal"==e.footer),g.Eb(1),g.oc("ngIf","allocStatusTotal"==e.footer),g.Eb(1),g.oc("ngIf","allocMarginStatusTotal"==e.footer),g.Eb(1),g.oc("ngIf","discountStatusTotal"==e.footer),g.Eb(1),g.oc("ngIf","statusTotal"==e.footer),g.Eb(1),g.oc("ngIf","commentsTotal"==e.footer),g.Eb(1),g.oc("ngIf","rebateTotal"==e.footer),g.Eb(1),g.oc("ngIf","grossMarginTotal"==e.footer),g.Eb(1),g.oc("ngIf","allocatedMarginTotal"==e.footer)}}function pt(e,t){if(1&e&&(g.Vb(0,"tr"),g.Qb(1,"td"),g.Kc(2,ut,19,18,"ng-container",75),g.Ub()),2&e){const e=g.gc();g.Eb(2),g.oc("ngForOf",e.columns)}}function ht(e,t){if(1&e&&(g.Vb(0,"div",95),g.Vb(1,"p"),g.Mc(2),g.Ub(),g.Ub()),2&e){const e=g.gc();g.Eb(2),g.Nc(e.noData)}}const ft=function(){return{standalone:!0}};function mt(e,t){if(1&e){const e=g.Wb();g.Vb(0,"div",14),g.Vb(1,"div",96),g.Vb(2,"div",97),g.Vb(3,"label",98),g.Mc(4),g.Ub(),g.Ub(),g.Vb(5,"div",99),g.Vb(6,"input",100),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.dealArrangementId=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(7,"div",96),g.Vb(8,"div",97),g.Vb(9,"label",101),g.Mc(10),g.Ub(),g.Ub(),g.Vb(11,"div",99),g.Vb(12,"input",102),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.dealHeaderId=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(13,"div",96),g.Vb(14,"div",97),g.Vb(15,"label",103),g.Mc(16),g.Ub(),g.Ub(),g.Vb(17,"div",99),g.Vb(18,"input",104),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.dealNumber=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(19,"div",96),g.Vb(20,"div",97),g.Vb(21,"label",105),g.Mc(22),g.Ub(),g.Ub(),g.Vb(23,"div",99),g.Vb(24,"input",106),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.dealLineNumber=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(25,"div",96),g.Vb(26,"div",97),g.Vb(27,"label",107),g.Mc(28),g.Ub(),g.Ub(),g.Vb(29,"div",99),g.Vb(30,"input",108),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.dealLineId=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(31,"div",96),g.Vb(32,"div",97),g.Vb(33,"label",109),g.Mc(34),g.Ub(),g.Ub(),g.Vb(35,"div",99),g.Vb(36,"input",110),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.productName=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(37,"div",96),g.Vb(38,"div",97),g.Vb(39,"label",111),g.Mc(40),g.Ub(),g.Ub(),g.Vb(41,"div",99),g.Vb(42,"input",112),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.uomCode=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(43,"div",96),g.Vb(44,"div",97),g.Vb(45,"label",113),g.Mc(46),g.Ub(),g.Ub(),g.Vb(47,"div",99),g.Vb(48,"input",114),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.quantity=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(49,"div",96),g.Vb(50,"div",97),g.Vb(51,"label",115),g.Mc(52),g.Ub(),g.Ub(),g.Vb(53,"div",99),g.Vb(54,"input",116),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.dealCurrencyCode=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(55,"div",96),g.Vb(56,"div",97),g.Vb(57,"label",117),g.Mc(58),g.Ub(),g.Ub(),g.Vb(59,"div",99),g.Vb(60,"input",118),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.trxCurrencyCode=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(61,"div",96),g.Vb(62,"div",97),g.Vb(63,"label",119),g.Mc(64),g.Ub(),g.Ub(),g.Vb(65,"div",99),g.Vb(66,"input",120),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.repCurrCode=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(67,"div",96),g.Vb(68,"div",97),g.Vb(69,"label",121),g.Mc(70),g.Ub(),g.Ub(),g.Vb(71,"div",99),g.Vb(72,"input",122),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.unitListPrice=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(73,"div",96),g.Vb(74,"div",97),g.Vb(75,"label",123),g.Mc(76),g.Ub(),g.Ub(),g.Vb(77,"div",99),g.Vb(78,"input",124),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.unitSellingPrice=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(79,"div",96),g.Vb(80,"div",97),g.Vb(81,"label",125),g.Mc(82),g.Ub(),g.Ub(),g.Vb(83,"div",99),g.Vb(84,"input",126),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.lineAmount=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(85,"div",96),g.Vb(86,"div",97),g.Vb(87,"label",127),g.Mc(88),g.Ub(),g.Ub(),g.Vb(89,"div",99),g.Vb(90,"input",128),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.elementType=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(91,"div",96),g.Vb(92,"div",97),g.Vb(93,"label",129),g.Mc(94),g.Ub(),g.Ub(),g.Vb(95,"div",99),g.Vb(96,"input",130),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.accountingScope=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(97,"div",96),g.Vb(98,"div",97),g.Vb(99,"label",131),g.Mc(100),g.Ub(),g.Ub(),g.Vb(101,"div",99),g.Vb(102,"input",132),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.bundleFlag=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(103,"div",96),g.Vb(104,"div",97),g.Vb(105,"label",133),g.Mc(106),g.Ub(),g.Ub(),g.Vb(107,"div",99),g.Vb(108,"input",134),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.parentLineId=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(109,"div",96),g.Vb(110,"div",97),g.Vb(111,"label",135),g.Mc(112),g.Ub(),g.Ub(),g.Vb(113,"div",99),g.Vb(114,"input",136),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.parentLineNumber=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(115,"div",96),g.Vb(116,"div",97),g.Vb(117,"label",137),g.Mc(118),g.Ub(),g.Ub(),g.Vb(119,"div",99),g.Vb(120,"input",138),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.solution=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(121,"div",96),g.Vb(122,"div",97),g.Vb(123,"label",139),g.Mc(124),g.Ub(),g.Ub(),g.Vb(125,"div",99),g.Vb(126,"input",140),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.productGroup=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(127,"div",96),g.Vb(128,"div",97),g.Vb(129,"label",141),g.Mc(130),g.Ub(),g.Ub(),g.Vb(131,"div",99),g.Vb(132,"input",142),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.productType=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(133,"div",96),g.Vb(134,"div",97),g.Vb(135,"label",143),g.Mc(136),g.Ub(),g.Ub(),g.Vb(137,"div",99),g.Vb(138,"input",144),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.fmvRuleName=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(139,"div",96),g.Vb(140,"div",97),g.Vb(141,"label",145),g.Mc(142),g.Ub(),g.Ub(),g.Vb(143,"div",99),g.Vb(144,"input",146),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.fmvCategory=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(145,"div",96),g.Vb(146,"div",97),g.Vb(147,"label",147),g.Mc(148),g.Ub(),g.Ub(),g.Vb(149,"div",99),g.Vb(150,"input",148),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.fmvType=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(151,"div",96),g.Vb(152,"div",97),g.Vb(153,"label",149),g.Mc(154),g.Ub(),g.Ub(),g.Vb(155,"div",99),g.Vb(156,"input",150),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.fmvMin=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(157,"div",96),g.Vb(158,"div",97),g.Vb(159,"label",151),g.Mc(160),g.Ub(),g.Ub(),g.Vb(161,"div",99),g.Vb(162,"input",152),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.fmvMean=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(163,"div",96),g.Vb(164,"div",97),g.Vb(165,"label",153),g.Mc(166),g.Ub(),g.Ub(),g.Vb(167,"div",99),g.Vb(168,"input",154),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.fmvMax=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(169,"div",96),g.Vb(170,"div",97),g.Vb(171,"label",155),g.Mc(172),g.Ub(),g.Ub(),g.Vb(173,"div",99),g.Vb(174,"input",156),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.bundleAttribitionList=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(175,"div",96),g.Vb(176,"div",97),g.Vb(177,"label",157),g.Mc(178),g.Ub(),g.Ub(),g.Vb(179,"div",99),g.Vb(180,"input",158),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.bundleAttribitionNet=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(181,"div",96),g.Vb(182,"div",97),g.Vb(183,"label",159),g.Mc(184),g.Ub(),g.Ub(),g.Vb(185,"div",99),g.Vb(186,"input",160),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.fmvAmount=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(187,"div",96),g.Vb(188,"div",97),g.Vb(189,"label",161),g.Mc(190),g.Ub(),g.Ub(),g.Vb(191,"div",99),g.Vb(192,"input",162),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.allocationAmount=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(193,"div",96),g.Vb(194,"div",97),g.Vb(195,"label",163),g.Mc(196),g.Ub(),g.Ub(),g.Vb(197,"div",99),g.Vb(198,"input",164),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.cvInOutAmount=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(199,"div",96),g.Vb(200,"div",97),g.Vb(201,"label",165),g.Mc(202),g.Ub(),g.Ub(),g.Vb(203,"div",99),g.Vb(204,"input",166),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.pobGrouping=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(205,"div",96),g.Vb(206,"div",97),g.Vb(207,"label",167),g.Mc(208),g.Ub(),g.Ub(),g.Vb(209,"div",99),g.Vb(210,"input",168),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.allocationInclusive=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(211,"div",96),g.Vb(212,"div",97),g.Vb(213,"label",169),g.Mc(214),g.Ub(),g.Ub(),g.Vb(215,"div",99),g.Vb(216,"input",170),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.accountingStandard=t})),g.Ub(),g.Ub(),g.Ub(),g.Vb(217,"div",96),g.Vb(218,"div",97),g.Vb(219,"label",171),g.Mc(220),g.Ub(),g.Ub(),g.Vb(221,"div",99),g.Vb(222,"input",172),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().arrgContractAllocationsV.totalCost=t})),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&e){const e=g.gc();g.Eb(4),g.Nc(e.columns.dealArrangementId),g.Eb(2),g.oc("ngModelOptions",g.rc(111,ft))("ngModel",e.arrgContractAllocationsV.dealArrangementId),g.Eb(4),g.Nc(e.columns.dealHeaderId),g.Eb(2),g.oc("ngModelOptions",g.rc(112,ft))("ngModel",e.arrgContractAllocationsV.dealHeaderId),g.Eb(4),g.Nc(e.columns.dealNumber),g.Eb(2),g.oc("ngModelOptions",g.rc(113,ft))("ngModel",e.arrgContractAllocationsV.dealNumber),g.Eb(4),g.Nc(e.columns.dealLineNumber),g.Eb(2),g.oc("ngModelOptions",g.rc(114,ft))("ngModel",e.arrgContractAllocationsV.dealLineNumber),g.Eb(4),g.Nc(e.columns.dealLineId),g.Eb(2),g.oc("ngModelOptions",g.rc(115,ft))("ngModel",e.arrgContractAllocationsV.dealLineId),g.Eb(4),g.Nc(e.columns.productName),g.Eb(2),g.oc("ngModelOptions",g.rc(116,ft))("ngModel",e.arrgContractAllocationsV.productName),g.Eb(4),g.Nc(e.columns.uomCode),g.Eb(2),g.oc("ngModelOptions",g.rc(117,ft))("ngModel",e.arrgContractAllocationsV.uomCode),g.Eb(4),g.Nc(e.columns.quantity),g.Eb(2),g.oc("ngModelOptions",g.rc(118,ft))("ngModel",e.arrgContractAllocationsV.quantity),g.Eb(4),g.Nc(e.columns.dealCurrencyCode),g.Eb(2),g.oc("ngModelOptions",g.rc(119,ft))("ngModel",e.arrgContractAllocationsV.dealCurrencyCode),g.Eb(4),g.Nc(e.columns.trxCurrencyCode),g.Eb(2),g.oc("ngModelOptions",g.rc(120,ft))("ngModel",e.arrgContractAllocationsV.trxCurrencyCode),g.Eb(4),g.Nc(e.columns.repCurrCode),g.Eb(2),g.oc("ngModelOptions",g.rc(121,ft))("ngModel",e.arrgContractAllocationsV.repCurrCode),g.Eb(4),g.Nc(e.columns.unitListPrice),g.Eb(2),g.oc("ngModelOptions",g.rc(122,ft))("ngModel",e.arrgContractAllocationsV.unitListPrice),g.Eb(4),g.Nc(e.columns.unitSellingPrice),g.Eb(2),g.oc("ngModelOptions",g.rc(123,ft))("ngModel",e.arrgContractAllocationsV.unitSellingPrice),g.Eb(4),g.Nc(e.columns.lineAmount),g.Eb(2),g.oc("ngModelOptions",g.rc(124,ft))("ngModel",e.arrgContractAllocationsV.lineAmount),g.Eb(4),g.Nc(e.columns.elementType),g.Eb(2),g.oc("ngModelOptions",g.rc(125,ft))("ngModel",e.arrgContractAllocationsV.elementType),g.Eb(4),g.Nc(e.columns.accountingScope),g.Eb(2),g.oc("ngModelOptions",g.rc(126,ft))("ngModel",e.arrgContractAllocationsV.accountingScope),g.Eb(4),g.Nc(e.columns.bundleFlag),g.Eb(2),g.oc("ngModelOptions",g.rc(127,ft))("ngModel",e.arrgContractAllocationsV.bundleFlag),g.Eb(4),g.Nc(e.columns.parentLineId),g.Eb(2),g.oc("ngModelOptions",g.rc(128,ft))("ngModel",e.arrgContractAllocationsV.parentLineId),g.Eb(4),g.Nc(e.columns.parentLineNumber),g.Eb(2),g.oc("ngModelOptions",g.rc(129,ft))("ngModel",e.arrgContractAllocationsV.parentLineNumber),g.Eb(4),g.Nc(e.columns.solution),g.Eb(2),g.oc("ngModelOptions",g.rc(130,ft))("ngModel",e.arrgContractAllocationsV.solution),g.Eb(4),g.Nc(e.columns.productGroup),g.Eb(2),g.oc("ngModelOptions",g.rc(131,ft))("ngModel",e.arrgContractAllocationsV.productGroup),g.Eb(4),g.Nc(e.columns.productType),g.Eb(2),g.oc("ngModelOptions",g.rc(132,ft))("ngModel",e.arrgContractAllocationsV.productType),g.Eb(4),g.Nc(e.columns.fmvRuleName),g.Eb(2),g.oc("ngModelOptions",g.rc(133,ft))("ngModel",e.arrgContractAllocationsV.fmvRuleName),g.Eb(4),g.Nc(e.columns.fmvCategory),g.Eb(2),g.oc("ngModelOptions",g.rc(134,ft))("ngModel",e.arrgContractAllocationsV.fmvCategory),g.Eb(4),g.Nc(e.columns.fmvType),g.Eb(2),g.oc("ngModelOptions",g.rc(135,ft))("ngModel",e.arrgContractAllocationsV.fmvType),g.Eb(4),g.Nc(e.columns.fmvMin),g.Eb(2),g.oc("ngModelOptions",g.rc(136,ft))("ngModel",e.arrgContractAllocationsV.fmvMin),g.Eb(4),g.Nc(e.columns.fmvMean),g.Eb(2),g.oc("ngModelOptions",g.rc(137,ft))("ngModel",e.arrgContractAllocationsV.fmvMean),g.Eb(4),g.Nc(e.columns.fmvMax),g.Eb(2),g.oc("ngModelOptions",g.rc(138,ft))("ngModel",e.arrgContractAllocationsV.fmvMax),g.Eb(4),g.Nc(e.columns.bundleAttribitionList),g.Eb(2),g.oc("ngModelOptions",g.rc(139,ft))("ngModel",e.arrgContractAllocationsV.bundleAttribitionList),g.Eb(4),g.Nc(e.columns.bundleAttribitionNet),g.Eb(2),g.oc("ngModelOptions",g.rc(140,ft))("ngModel",e.arrgContractAllocationsV.bundleAttribitionNet),g.Eb(4),g.Nc(e.columns.fmvAmount),g.Eb(2),g.oc("ngModelOptions",g.rc(141,ft))("ngModel",e.arrgContractAllocationsV.fmvAmount),g.Eb(4),g.Nc(e.columns.allocationAmount),g.Eb(2),g.oc("ngModelOptions",g.rc(142,ft))("ngModel",e.arrgContractAllocationsV.allocationAmount),g.Eb(4),g.Nc(e.columns.cvInOutAmount),g.Eb(2),g.oc("ngModelOptions",g.rc(143,ft))("ngModel",e.arrgContractAllocationsV.cvInOutAmount),g.Eb(4),g.Nc(e.columns.pobGrouping),g.Eb(2),g.oc("ngModelOptions",g.rc(144,ft))("ngModel",e.arrgContractAllocationsV.pobGrouping),g.Eb(4),g.Nc(e.columns.allocationInclusive),g.Eb(2),g.oc("ngModelOptions",g.rc(145,ft))("ngModel",e.arrgContractAllocationsV.allocationInclusive),g.Eb(4),g.Nc(e.columns.accountingStandard),g.Eb(2),g.oc("ngModelOptions",g.rc(146,ft))("ngModel",e.arrgContractAllocationsV.accountingStandard),g.Eb(4),g.Nc(e.columns.totalCost),g.Eb(2),g.oc("ngModelOptions",g.rc(147,ft))("ngModel",e.arrgContractAllocationsV.totalCost)}}function yt(e,t){if(1&e&&(g.Vb(0,"div",173),g.Mc(1),g.Ub()),2&e){const e=g.gc();g.Eb(1),g.Oc(" ",e.formErrors.arrangementNumber," ")}}function Ct(e,t){if(1&e&&(g.Vb(0,"div",173),g.Mc(1),g.Ub()),2&e){const e=g.gc();g.Eb(1),g.Oc(" ",e.formErrors.arrangementName," ")}}function vt(e,t){1&e&&(g.Vb(0,"tr"),g.Vb(1,"th"),g.Vb(2,"a"),g.Mc(3,"Line #"),g.Ub(),g.Ub(),g.Vb(4,"th"),g.Vb(5,"a"),g.Mc(6,"Product Name"),g.Ub(),g.Ub(),g.Vb(7,"th"),g.Vb(8,"a"),g.Mc(9,"UOM"),g.Ub(),g.Ub(),g.Vb(10,"th"),g.Vb(11,"a"),g.Mc(12,"Quantity"),g.Ub(),g.Ub(),g.Vb(13,"th"),g.Vb(14,"a"),g.Mc(15,"Deal Currency"),g.Ub(),g.Ub(),g.Vb(16,"th"),g.Vb(17,"a"),g.Mc(18,"Exchange Rate"),g.Ub(),g.Ub(),g.Vb(19,"th"),g.Vb(20,"a"),g.Mc(21,"Unit List Price"),g.Ub(),g.Ub(),g.Vb(22,"th"),g.Vb(23,"a"),g.Mc(24,"Unit Selling Price"),g.Ub(),g.Ub(),g.Vb(25,"th"),g.Vb(26,"a"),g.Mc(27,"Contract Start Date"),g.Ub(),g.Ub(),g.Vb(28,"th"),g.Vb(29,"a"),g.Mc(30,"Contract End Date"),g.Ub(),g.Ub(),g.Vb(31,"th"),g.Vb(32,"a"),g.Mc(33,"Service Start Date"),g.Ub(),g.Ub(),g.Vb(34,"th"),g.Vb(35,"a"),g.Mc(36,"Service End Date"),g.Ub(),g.Ub(),g.Vb(37,"th"),g.Vb(38,"a"),g.Mc(39,"Line Amount"),g.Ub(),g.Ub(),g.Ub())}function Vt(e,t){if(1&e){const e=g.Wb();g.Vb(0,"input",180),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().$implicit.undeliveredQty=t})),g.Ub()}if(2&e){const e=g.gc().$implicit;g.oc("ngModel",e.undeliveredQty)}}function Mt(e,t){if(1&e&&g.Mc(0),2&e){const e=g.gc().$implicit;g.Oc(" ",e.undeliveredQty," ")}}function At(e,t){if(1&e){const e=g.Wb();g.Vb(0,"input",181),g.dc("ngModelChange",(function(t){return g.Dc(e),g.gc().$implicit.unitSellingPrice=t})),g.Ub()}if(2&e){const e=g.gc().$implicit;g.oc("ngModel",e.unitSellingPrice)}}function wt(e,t){if(1&e&&(g.Mc(0),g.hc(1,"round")),2&e){const e=g.gc().$implicit;g.Oc(" ",g.ic(1,1,e.unitSellingPrice)," ")}}function Ut(e,t){if(1&e){const e=g.Wb();g.Vb(0,"tr",174),g.Vb(1,"td"),g.Mc(2),g.Ub(),g.Vb(3,"td"),g.Mc(4),g.Ub(),g.Vb(5,"td"),g.Mc(6),g.Ub(),g.Vb(7,"td",175),g.Vb(8,"div",176),g.Vb(9,"p-cellEditor"),g.Kc(10,Vt,1,1,"ng-template",177),g.Kc(11,Mt,1,1,"ng-template",178),g.Ub(),g.Ub(),g.Ub(),g.Vb(12,"td"),g.Mc(13),g.Ub(),g.Vb(14,"td"),g.Mc(15),g.Ub(),g.Vb(16,"td"),g.Mc(17),g.hc(18,"round"),g.Ub(),g.Vb(19,"td",175),g.Vb(20,"div",176),g.Vb(21,"p-cellEditor"),g.Kc(22,At,1,1,"ng-template",177),g.Kc(23,wt,2,3,"ng-template",178),g.Ub(),g.Ub(),g.Ub(),g.Vb(24,"td"),g.Vb(25,"span"),g.Vb(26,"p-calendar",179),g.dc("ngModelChange",(function(o){return g.Dc(e),t.$implicit.contractStartDate=o})),g.Ub(),g.Ub(),g.Ub(),g.Vb(27,"td"),g.Vb(28,"span"),g.Vb(29,"p-calendar",179),g.dc("ngModelChange",(function(o){return g.Dc(e),t.$implicit.contractEndDate=o})),g.Ub(),g.Ub(),g.Ub(),g.Vb(30,"td"),g.Vb(31,"span"),g.Vb(32,"p-calendar",179),g.dc("ngModelChange",(function(o){return g.Dc(e),t.$implicit.serviceStartDate=o})),g.Ub(),g.Ub(),g.Ub(),g.Vb(33,"td"),g.Vb(34,"span"),g.Vb(35,"p-calendar",179),g.dc("ngModelChange",(function(o){return g.Dc(e),t.$implicit.serviceEndDate=o})),g.Ub(),g.Ub(),g.Ub(),g.Vb(36,"td"),g.Mc(37),g.hc(38,"number"),g.Ub(),g.Ub()}if(2&e){const e=t.$implicit,o=t.$implicit;g.oc("pSelectableRow",e),g.Eb(2),g.Nc(o.dealLineNumber),g.Eb(2),g.Nc(o.productName),g.Eb(2),g.Nc(o.uomCode),g.Eb(7),g.Nc(o.dealCurrencyCode),g.Eb(2),g.Nc(o.conversionRate),g.Eb(2),g.Nc(g.ic(18,28,o.unitListPrice)),g.Eb(9),g.oc("ngModelOptions",g.rc(33,ft))("monthNavigator",!0)("yearNavigator",!0)("ngModel",o.contractStartDate)("showIcon",!1),g.Eb(3),g.oc("ngModelOptions",g.rc(34,ft))("monthNavigator",!0)("yearNavigator",!0)("ngModel",o.contractEndDate)("showIcon",!1),g.Eb(3),g.oc("ngModelOptions",g.rc(35,ft))("monthNavigator",!0)("yearNavigator",!0)("ngModel",o.serviceStartDate)("showIcon",!1),g.Eb(3),g.oc("ngModelOptions",g.rc(36,ft))("monthNavigator",!0)("yearNavigator",!0)("ngModel",o.serviceEndDate)("showIcon",!1),g.Eb(2),g.Nc(g.jc(38,30,o.undeliveredQty*e.unitSellingPrice,"1.2-2"))}}function St(e,t){if(1&e&&(g.Vb(0,"tr"),g.Vb(1,"td",182),g.Mc(2),g.Ub(),g.Ub()),2&e){const e=g.gc(2);g.Eb(2),g.Nc(e.noData)}}function Dt(e,t){1&e&&g.Kc(0,St,3,1,"tr",54),2&e&&g.oc("ngIf",!t.$implicit)}function Et(e,t){}function Nt(e,t){if(1&e){const e=g.Wb();g.Vb(0,"p-dialog",183),g.dc("visibleChange",(function(t){return g.Dc(e),g.gc().showSSPDialog=t}))("onHide",(function(){g.Dc(e);const t=g.gc();return t.showSSPDialog=!1,t.unsubscribeData()})),g.Qb(1,"rmanFmvRulesDef-data"),g.Kc(2,Et,0,0,"ng-template",10),g.Ub()}if(2&e){const e=g.gc();g.qc("header","Details for: ",e.selectedSSPRuleName,""),g.oc("visible",e.showSSPDialog)("modal",!0)("draggable",!0)}}function It(e,t){}function Ft(e,t){if(1&e){const e=g.Wb();g.Vb(0,"p-dialog",183),g.dc("visibleChange",(function(t){return g.Dc(e),g.gc().showRevenueDialog=t}))("onHide",(function(){g.Dc(e);const t=g.gc();return t.showRevenueDialog=!1,t.unsubscribeData()})),g.Qb(1,"rmanRevenueTemplates-data"),g.Kc(2,It,0,0,"ng-template",10),g.Ub()}if(2&e){const e=g.gc();g.qc("header","Details for: ",e.selectedSSPRuleName,""),g.oc("visible",e.showRevenueDialog)("modal",!0)("draggable",!0)}}function xt(e,t){}function Tt(e,t){if(1&e){const e=g.Wb();g.Vb(0,"p-dialog",183),g.dc("visibleChange",(function(t){return g.Dc(e),g.gc().showPOBDialog=t}))("onHide",(function(){g.Dc(e);const t=g.gc();return t.showPOBDialog=!1,t.unsubscribeData()})),g.Qb(1,"rmanPobMapping-data"),g.Kc(2,xt,0,0,"ng-template",10),g.Ub()}if(2&e){const e=g.gc();g.qc("header","Details for POB Id : ",e.selectedSSPRuleName,""),g.oc("visible",e.showPOBDialog)("modal",!0)("draggable",!0)}}const Lt=o("+yMW");let Ot=(()=>{class e{constructor(e,t,o,i,n,a,r,c,d,s,b){this.ref=e,this.arrgContractAllocationsVService=t,this.router=o,this.confirmationService=i,this.formBuilder=n,this.commonSharedService=a,this.notificationService=r,this.datePipe=c,this.dealArrgService=d,this.location=s,this.dialogDataService=b,this.tempDisplayDialog=!1,this.historyDialog=!1,this.displayPageSize=20,this.displayProspectiveDialog=!1,this.noData=Lt.noData,this.selectedDeals=[],this.displayProspDeals=!1,this.arrgContractAllocationsV=new Pt,this.arrgContractAllocationsVSearch=new Pt,this.prospectiveDeals=new Rt,this.prospectiveDealsList=[],this.prospectiveDealListConst=[],this.isSerached=0,this.arrgContractAllocationsVList=[],this.newProspectiveDealsList=[],this.rowCount=10,this.collapsed=!0,this.table={},this.showAddColumns=!0,this.isSelectAllChecked=!0,this.showPaginator=!0,this.exportCols=[],this.disableExport=!0,this.quoteOrderSwitch=!1,this.showSSPDialog=!1,this.showRevenueDialog=!1,this.showPOBDialog=!1,this.formErrors={arrangementNumber:"",arrangementName:""},this.validationMessages={arrangementNumber:{required:"Arrangement Number is required"},arrangementName:{required:"Arrangement Name is required"}},this.swicthClickRecognizer=!1,this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.data=this.location.getState(),this.arrIdK=this.data.arrgId,this.router.events.subscribe(e=>{e instanceof l.c&&(this.arrIdK=e.url.split("/")[3])})}ngOnInit(){this.selectedDeals=[],this.globalCols=[{field:"pobGrouping",header:"POB ID",showField:!0,drag:!1,display:"table-cell",type:"text",footer:"empty"},{field:"arrgLineNumber",header:"Revenue Contract Line Number",showField:!0,drag:!1,display:"table-cell",type:"number",footer:"empty"},{field:"customerPoNum",header:"PO",showField:!0,drag:!0,display:"table-cell",type:"number",footer:"empty"},{field:"orderNumber",header:"Order Number",showField:!0,drag:!0,display:"table-cell",type:"number",footer:"empty"},{field:"sourceLineNumber",header:"Order Line Number",showField:!0,drag:!0,display:"table-cell",type:"number",footer:"empty"},{field:"inheritedRC",header:"Related RC",showField:!0,drag:!0,display:"table-cell",type:"routingHyperlink",footer:"empty"},{field:"dealNumber",header:"Contract/Deal Number",showField:!0,drag:!0,display:"table-cell",type:"number",footer:"empty"},{field:"dealLineNumber",header:"Line Number",showField:!0,drag:!0,display:"table-cell",type:"number",footer:"empty"},{field:"productName",header:"Product Name",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"productDescription",header:"Product Description",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"uomCode",header:"UOM",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"quantity",header:"Quantity",drag:!0,showField:!0,display:"table-cell",type:"number",footer:"empty"},{field:"dealCurrencyCode",header:"Currency",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"unitListPrice",header:"Unit List Price",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"empty"},{field:"unitSellingPrice",header:"Unit Selling Price",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"empty"},{field:"netPriceDiscount",header:"Discount or Premium%",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"totals"},{field:"extendedListAmount",header:"Extended List Price",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"totalListAmount"},{field:"lineAmount",header:"Net Price",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"lineAmountTotal"},{field:"vc",header:"Variable Consideration",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"vcTotal"},{field:"allocableAmount",header:"Allocable Net Price",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"allocableNetTotal"},{field:"elementType",header:"Element Type",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"bundleFlag",header:"Bundle Flag",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"parentLineId",header:"Parent Product",showField:!0,drag:!0,display:"table-cell",type:"number",footer:"empty"},{field:"productGroup",header:"Product Group",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"productType",header:"Product Type",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"fmvRuleName",header:"SSP Rule Name",showField:!0,drag:!0,display:"table-cell",type:"SSPhyperlink",footer:"empty"},{field:"fmvCategory",header:"SSP Category",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"fmvType",header:"SSP Type",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"fmvMin",header:"SSP Min",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"empty"},{field:"fmvMean",header:"SSP Trx",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"empty"},{field:"fmvMax",header:"SSP Max",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"empty"},{field:"bundleAttributionList",header:"Bundle Attribution Extended List Price",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"empty"},{field:"bundleAttributionNet",header:"Bundle Attribution Net Price",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"empty"},{field:"sspLow",header:"SSP Low",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"sspHigh",header:"SSP High",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"ssp",header:"SSP",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"fmvAmount",header:"Extended SSP",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"fvTotal"},{field:"allocationAmount",header:"Allocation Amount",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"allocationTotal"},{field:"cvInOutAmount",header:"Carve In/Carve Out Amount ",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"cvInOutAmountTotal"},{field:"allocationFlag",header:"Allocation Flag",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"allocationInclusive",header:"Allocation Inclusive",showField:!0,drag:!0,display:"table-cell",type:"text",footer:"empty"},{field:"totalCost",header:"Total Cost",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"fxRate",header:"Fx Rate",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"fxCurrency",header:"Fx Currency",showField:!0,drag:!0,display:"table-cell",type:"number",footer:"empty"},{field:"fxDate",header:"Fx Date",showField:!0,drag:!0,display:"table-cell",type:"date",footer:"empty"},{field:"allocationAmountFc",header:"Allocation Amount(FC)",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"allocationFcTotal"},{field:"allocationMarginPercentage",header:"Carve In/Outs %",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"grossMarginPercentage",header:"Allocated Margin %",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"empty"},{field:"allocationGuidance",header:"Revenue Guidance",drag:!0,showField:!0,display:"table-cell",type:"symbol",footer:"allocStatusTotal"},{field:"allocationMarginGuidance",header:"Margin Guidance",drag:!0,showField:!0,display:"table-cell",type:"symbol",footer:"allocMarginStatusTotal"},{field:"discountGuidance",header:"Discount Guidance",drag:!0,showField:!0,display:"table-cell",type:"symbol",footer:"discountStatusTotal"},{field:"revenueGuidance",header:"Deal Guidance",drag:!0,showField:!0,display:"table-cell",type:"symbol",footer:"statusTotal"},{field:"comments",header:"Guidance Comments",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"commentsTotal"},{field:"adjDealLineCost",header:"Adjustment Deal Line Cost",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"empty"},{field:"adjRevenue",header:"Adjusted Revenue",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"empty"},{field:"grossMargin",header:"Gross Margin",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"grossMarginTotal"},{field:"gmLinePercentage",header:"Gross Margin %",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"empty"},{field:"productFamily",header:"Product Family",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"productLine",header:"Product Line",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"salesContract",header:"Sales Contract Number",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"chargeType",header:"Charge Type",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"assetId",header:"Asset ID",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"assetNumber",header:"Asset Number",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"primaryLineNumber",header:"Primary Line Number",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"itemSequenceNumber",header:"Item Sequence Number",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"parentLineNumber",header:"Parent Line Number",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"opportunityNumber",header:"Opportunity Number",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"opportunityName",header:"Opportunity Name",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"praposalDescription",header:"Proposal Description",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"dealType",header:"Order Type",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"legalEntityName",header:"Legal Entity",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"customerNumber",header:"Customer Number",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"customerName",header:"Customer Name",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"bookedDate",header:"Ready for Activation Date",drag:!0,showField:!0,display:"table-cell",type:"date",footer:"empty"},{field:"dealStatus",header:"Order Status",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"dealLineStatus",header:"Line Status",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"region",header:"Billing Region",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"revenueTemplate",header:"Revenue Policy",drag:!0,showField:!0,display:"table-cell",type:"Revenuehyperlink",footer:"empty"},{field:"opportunityType",header:"Opportunity Type",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"customerType",header:"Customer Type",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"signatureDate",header:"Signature Date",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"quoteLinereferenceNumber",header:"Quote Line Reference Number",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"forecastDate",header:"Forecast Date",drag:!0,showField:!0,display:"table-cell",type:"date",footer:"empty"},{field:"deliveredDate",header:"Delivered Date",drag:!0,showField:!0,display:"table-cell",type:"date",footer:"empty"},{field:"revrecStartDate",header:"Revrec Start Date",drag:!0,showField:!0,display:"table-cell",type:"date",footer:"empty"},{field:"revrecEndDate",header:"Revrec End Date",drag:!0,showField:!0,display:"table-cell",type:"date",footer:"empty"},{field:"revenueTermMths",header:"Revenue Term in Months",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"empty"},{field:"revenueTermDays",header:"Revenue Term in Days",drag:!0,showField:!0,display:"table-cell",type:"round",footer:"empty"},{field:"revenuePolicyLine",header:"Revenue Policy Line",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"accountingRuleName",header:"Accounting Rule",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"productNumber",header:"Product Code",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"sourceProductId",header:"Product Case Safe Id",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"lineType",header:"Line Type",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"bundleParentLineNumber",header:"Bundle Parent Line Number",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"quoteNumber",header:"Quote Number",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"serviceStartDate",header:"Service Start Date",drag:!0,showField:!0,display:"table-cell",type:"date",footer:"empty"},{field:"serviceEndDate",header:"Service End Date",drag:!0,showField:!0,display:"table-cell",type:"date",footer:"empty"},{field:"oldAllocationAmount",header:"Previous Allocation Amount",showField:!0,drag:!0,display:"table-cell",type:"round",footer:"empty"},{field:"originalLineType",header:"Line Source",drag:!0,showField:!0,display:"table-cell",type:"text",footer:"empty"},{field:"pobMapId",header:"POB Map Id",drag:!0,showField:!0,display:"table-cell",type:"POBHyperlink",footer:"empty"}],this.columns=[],this.getTableColumns("arrgContractAllocationsV","Allocations Table"),this.buildForm()}getTableColumns(e,t){this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then(e=>{if(e&&null!=e&&e.userId){this.columns=[];let t=e.tableColumns.split(",");t.length>0&&t.forEach((e,t)=>{e&&(this.startIndex=this.globalCols.findIndex(t=>t.field==e),this.onDrop(t))}),this.globalCols.forEach(t=>{-1!==e.tableColumns.indexOf(t.field)?this.columns.push(t):t.showField=!1}),this.columns.length!=this.globalCols.length&&(this.isSelectAllChecked=!1),this.showPaginator=0!==this.columns.length,this.userId=e.userId}else this.columns=this.globalCols}).catch(()=>{this.notificationService.showError("Error occured while getting table columns data"),this.loading=!1})}saveColumns(){let e="";this.showAddColumns=!this.showAddColumns;const t=this.globalCols.length-1;this.globalCols.forEach((o,l)=>{o.showField&&(e+=o.field,l<t&&(e+=","))}),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("arrgContractAllocationsV","Allocations Table",e,this.userId).then(e=>{this.columns=this.globalCols.filter(e=>e.showField),this.userId=e.userId,this.showPaginator=0!==this.columns.length,this.loading=!1}).catch(()=>{this.notificationService.showError("Error occured while getting data"),this.loading=!1})}onDragStart(e){this.startIndex=e}onDrop(e){const t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}selectColumns(e){let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}onSelectAll(){this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach(e=>{this.isSelectAllChecked?e.showField=!0:e.drag&&(e.showField=!1)})}onConfiguringColumns(e){this.clonedCols=JSON.parse(JSON.stringify(this.globalCols)),this.showAddColumns=!1}closeConfigureColumns(e){this.showAddColumns=!0,this.globalCols=this.clonedCols;let t=this.globalCols.filter(e=>!e.showField);this.isSelectAllChecked=!(t.length>0)}exportExcel(){this.exportCols=[];for(let t=0;t<this.columns.length;t++)this.columns[t].showField&&this.exportCols.push(this.columns[t].field);let e=this.arrgContractAllocationsVService.getServiceUrl(this.paginationOptions,{dealArrangementId:this.arrIdK},1,this.exportCols,this.quoteOrderSwitch);window.location.href=e}OnReceiveChange(e){}reset(e){this.paginationOptions={},this.selectedDeals=[],this.arrgContractAllocationsV=new Pt,e.reset()}buildForm(){this.allocationsForm=this.formBuilder.group({arrangementNumber:["",[i.t.required]],arrangementName:["",[i.t.required]],unitSellingPrice:[""],undeliveredQty:[""]}),this.allocationsForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}onValueChanged(e){if(!this.allocationsForm)return;const t=this.allocationsForm;for(const o in this.formErrors){this.formErrors[o]="";const e=t.get(o);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[o];for(const l in e.errors)this.formErrors[o]+=t[l]+" "}}}onQuoteOrderSwitch(){this.swicthClickRecognizer=!0,this.arrgContractAllocationsV=new Pt,this.getAllArrgContractAllocationsV()}getAllArrgContractAllocationsV(){this.swicthClickRecognizer||(this.loading=!0,this.dealArrgService.getDealArrangementBasis(this.arrIdK).then(e=>{this.revenueContractBasis=e,"SO"!==this.revenueContractBasis&&"PO"!==this.revenueContractBasis||(this.quoteOrderSwitch=!0)})),this.lineAmountTotal=0,this.vcTotal=0,this.allocableNetTotal=0,this.fvTotal=0,this.allocationTotal=0,this.allocationFcTotal=0,this.cvInOutAmountTotal=0,this.totalListAmount=0,this.espTotal=0,this.espInstTotal=0,this.statusTotal=null,this.allocStatusTotal=null,this.allocMarginStatusTotal=null,this.discountStatusTotal=null,this.rebateTotal=0,this.grossMarginTotal=0,this.allocatedMarginTotal=0,this.commentsTotal=null,this.loading=!0,this.arrgContractAllocationsV.dealArrangementId=this.arrIdK,this.arrgContractAllocationsVService.getAllArrgContractAllocationsV(this.paginationOptions,this.arrgContractAllocationsV,this.exportCols,this.quoteOrderSwitch).then(e=>{this.datasource=e.content,this.arrgContractAllocationsVList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size,this.getAllAllocationsTotal(),this.displaySearchDialog=!1,this.disableExport=!1}).catch(e=>{this.loading=!1,this.notificationService.showError("Network failed / service is down")})}getArrgContractAllocationsV(e){this.swicthClickRecognizer||(this.loading=!0,this.dealArrgService.getDealArrangementBasis(this.arrIdK).then(t=>{this.revenueContractBasis=t,"SO"!==this.revenueContractBasis&&"PO"!==this.revenueContractBasis||(this.quoteOrderSwitch=!0),this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.arrgContractAllocationsV.dealArrangementId=this.arrIdK,this.arrgContractAllocationsVService.getAllArrgContractAllocationsV(this.paginationOptions,this.arrgContractAllocationsV,this.exportCols,this.quoteOrderSwitch).then(e=>{this.datasource=e.content,this.arrgContractAllocationsVList=e.content,this.totalElements=e.totalElements,this.pageSize=e.size,this.getAllAllocationsTotal()}).catch(e=>{this.loading=!1,this.notificationService.showError("Network failed / service is down")})}))}getAllAllocationsTotal(){this.arrgContractAllocationsVService.getAllAllocationsTotal(this.arrIdK,this.quoteOrderSwitch).then(e=>{this.lineAmountTotal=e.totalLineAmount,this.vcTotal=e.totalVCAmount,this.allocableNetTotal=e.totalAllocableNetPrice,this.fvTotal=e.totalSSPAmount,this.allocationTotal=e.totalAllocationAmount,this.allocationFcTotal=e.totalAllocationFcAmount,this.cvInOutAmountTotal=e.totalCvInOutAmount,this.totalListAmount=e.totalListAmount,this.espTotal=e.totalEsp,this.espInstTotal=e.totalEspinst,this.statusTotal=e.totalRevenueGuidanceAnalysis,this.allocStatusTotal=e.totalAllocationGuidanceAnalysis,this.allocMarginStatusTotal=e.totalAllocationMarginGuidanceAnalysis,this.discountStatusTotal=e.totalDiscountGuidanceAnalysis,this.rebateTotal=e.totalRebate,this.grossMarginTotal=e.totalGrossMargin,this.allocatedMarginTotal=e.totalAllocatedMarginAmount,this.commentsTotal=e.totalRevenueGuidanceDescription,this.loading=!1,this.disableExport=!1}).catch(e=>{this.loading=!1})}getProspDealsOnLoad(){this.loading=!0,this.arrgContractAllocationsVService.getAllProspectiveDealsTest(this.arrIdK,this.dealLinesList).subscribe(e=>{this.totalRecords=e.length,this.prospectiveDealListConst=e,this.prospectiveDealsList=e.slice(0,10);let t=0;this.prospectiveDealsList.forEach(e=>{e.contractStartDate&&(this.prospectiveDealsList[t].contractStartDate=new Date(e.contractStartDate)),e.contractEndDate&&(this.prospectiveDealsList[t].contractEndDate=new Date(e.contractEndDate)),e.serviceStartDate&&(this.prospectiveDealsList[t].serviceStartDate=new Date(e.serviceStartDate)),e.serviceEndDate&&(this.prospectiveDealsList[t].serviceEndDate=new Date(e.serviceEndDate)),t++}),this.loading=!1},e=>{this.loading=!1,this.notificationService.showError("Network failed / service is down")}),this.displayProspectiveDialog=!0}getProspectiveDeals(){if(null!=this.selectedDeals)if(this.selectedDeals.length>0){this.dealLinesList=[];for(let e=0;e<this.selectedDeals.length;e++)this.dealLinesList.push(this.selectedDeals[e].dealLineId)}else this.notificationService.showError("Select at least one deal Line to prospective");else this.notificationService.showError("Select at least one deal Line to prospective")}processTheProspectiveDeals(){this.arrgContractAllocationsVService.getValidArrangement(this.arrgNumber,this.arrgName).then(e=>{"Y"==e?this.notificationService.showError("Arrangement already exist"):"N"==e&&(this.loading=!0,this.arrgContractAllocationsVService.processProspectiveDeals(this.arrIdK,this.arrgNumber,this.arrgName,this.prospectiveDealsList).then(e=>{e?(this.getAllArrgContractAllocationsV(),this.displayProspectiveDialog=!1,this.notificationService.showSuccess("Sucessfully Processed.Created the arrangement"+this.arrgNumber)):(this.getAllArrgContractAllocationsV(),this.displayProspectiveDialog=!1,this.notificationService.showError("Failed to Process Prospective Deals are failed..!"))}).catch(e=>{this.loading=!1,this.displayProspectiveDialog=!1,this.notificationService.showError("Network failed / service is down")}))}),this.buildForm()}processRetrospectiveDeals(){this.loading=!0,this.arrgContractAllocationsVService.processRetrospectiveDeals(this.arrIdK).then(e=>{e?(this.getAllArrgContractAllocationsV(),this.notificationService.showSuccess("Sucessfully Retropective Process executed for  "+this.arrIdK+" Arrangement")):(this.getAllArrgContractAllocationsV(),this.notificationService.showError("Retropective Process is failed..!"))}).catch(e=>{this.loading=!1,this.notificationService.showError("Network failed / service is down")})}reallocation(){this.confirmationService.confirm({message:"Are you sure,Do you want to reallocate?",header:"Confirmation",icon:"",accept:()=>{this.arrgContractAllocationsVService.reallocation(this.arrIdK).then(e=>{this.getAllArrgContractAllocationsV()}),this.notificationService.showSuccess("Allocation Successfully done.")},reject:()=>{this.notificationService.showSuccess("You have rejected.")}})}openSSPDetailDialog(e){this.showSSPDialog=!0,e.type="ssp",this.selectedSSPRuleName=e.fmvRuleName,this.dialogDataService.sendRowData(e,"ssp"),this.showSSPDialog=!0}openRevenueDetailDialog(e){this.showRevenueDialog=!0,e.type="revenue",this.selectedSSPRuleName=e.revenueTemplate,this.dialogDataService.sendRowData(e,"revenue"),this.showRevenueDialog=!0}openPOBDetailDialog(e){this.showPOBDialog=!0,e.type="POB",this.selectedSSPRuleName=e.pobMapId,this.dialogDataService.sendRowData(e,"POB"),this.showPOBDialog=!0}unsubscribeData(){this.dataSubscription&&(this.dataSubscription.unsubscribe(),this.dataSubscription=null),this.dialogDataService.clearRowData()}showDialogToAdd(){this.newArrgContractAllocationsV=!0,this.arrgContractAllocationsV=new Pt,this.displayDialog=!0,this.buildForm()}save(){this.newArrgContractAllocationsV?(this.loading=!0,this.arrgContractAllocationsVService.saveArrgContractAllocationsV(this.arrgContractAllocationsV).then(e=>{this.getAllArrgContractAllocationsV()}).catch(e=>{this.loading=!1,this.notificationService.showError("Error occured while saving the data")})):(this.loading=!0,this.arrgContractAllocationsVService.updateArrgContractAllocationsV(this.arrgContractAllocationsV).then(e=>{this.getAllArrgContractAllocationsV()}).catch(e=>{this.loading=!1,this.notificationService.showError("Error occured while saving the data")})),this.arrgContractAllocationsV=new Pt,this.displayDialog=!1}getHistory(){this.historyDialog=!0}onHistoryDialogOpen(){this.allocAuditComp&&(this.allocAuditComp.arrIdK=this.arrIdK,this.allocAuditComp.getTableColumns("rmanAllocationsHistory","Allocations History"),this.allocAuditComp.getAllAllocationsHistory())}onHistoryDialogClose(){this.historyDialog=!1,this.allocAuditComp.clearAllAllocationsHistory()}delete(e){this.arrgContractAllocationsV=e,this.displayDialog=!1,window.confirm("Are you sure you want to delete this record?")&&(this.arrgContractAllocationsVList.splice(this.findSelectedArrgContractAllocationsVIndex(),1),this.loading=!0,this.arrgContractAllocationsVService.deleteArrgContractAllocationsV(this.arrgContractAllocationsV).then(e=>{this.arrgContractAllocationsV=new Pt,this.getAllArrgContractAllocationsV()}))}editRow(e){this.newArrgContractAllocationsV=!1,this.arrgContractAllocationsV=this.cloneArrgContractAllocationsV(e),this.displayDialog=!0}findSelectedArrgContractAllocationsVIndex(){return this.arrgContractAllocationsVList.indexOf(this.selectedArrgContractAllocationsV)}onRowSelect(e){this.arrgContractAllocationsVList.forEach(t=>{(Math.trunc(t.dealLineNumber)==Math.trunc(e.data.dealLineNumber)&&t.dealLineNumber!=e.data.dealLineNumber||t.parentLineId==e.data.dealLineNumber||t.dealLineNumber==e.data.parentLineId||null!=t.parentLineId&&t.parentLineId==e.data.parentLineId)&&(null!=this.selectedDeals?this.selectedDeals.length>0?this.selectedDeals[this.selectedDeals.length]=t:this.selectedDeals[0]=t:(this.selectedDeals=[],this.selectedDeals[0]=t))})}onRowUnselect(e){this.arrgContractAllocationsVList.forEach(t=>{(Math.trunc(t.dealLineNumber)==Math.trunc(e.data.dealLineNumber)||t.parentLineId==e.data.dealLineNumber||t.dealLineNumber==e.data.parentLineId||null!=t.parentLineId&&t.parentLineId==e.data.parentLineId)&&this.selectedDeals.splice(this.selectedDeals.indexOf(t),1)})}cloneArrgContractAllocationsV(e){let t=new Pt;for(let o in e)t[o]=e[o];return t}toggleColumnMenu(){this.hideColumnMenu=!this.hideColumnMenu}toggleFilterBox(){this.showFilter=!this.showFilter}showDialogToSearch(){this.arrgContractAllocationsVSearch=new Pt,0==this.isSerached&&(this.arrgContractAllocationsVSearch=new Pt),this.displaySearchDialog=!0}search(){this.isSerached=1,this.arrgContractAllocationsV=this.arrgContractAllocationsVSearch,this.getAllArrgContractAllocationsV()}onBeforeToggle(e){this.collapsed=e.collapsed}ProspectiveAnalysis(){if(this.prospectiveDealsList=[],this.arrgName="",this.arrgNumber="",null!=this.selectedDeals)if(this.selectedDeals.length>0){this.dealLinesList=[];for(let e=0;e<this.selectedDeals.length;e++)this.dealLinesList.push(this.selectedDeals[e].dealLineId);this.prospectiveDealsList=[],this.getProspDealsOnLoad()}else this.notificationService.showWarning("No deals Lines Selected to Prospective..!");else this.notificationService.showError("Select atleast one deal Line to Prospective..!")}paginate(e){this.loading=!0,this.prospectiveDealsList=this.prospectiveDealListConst.slice(e.first,e.first+10),this.loading=!1}executeRetrospectiveProcess(){this.confirmationService.confirm({message:"Are you sure you want to retrospective process for this arrangement?",header:"Confirmation",icon:"",accept:()=>{this.processRetrospectiveDeals(),this.notificationService.showInfo("You have accepted")},reject:()=>{this.notificationService.showInfo("You have rejected")}})}routeToInheritedRC(e,t){e&&e.preventDefault();const o=t&&(t.inheritedRC||t.arrangementId||t.dealArrangementId);o?this.router.navigate(["/rmanArrangementsAllV","rmanArrangementsOverView",o,"Y","overview"],{state:{arrgId:o}}).catch(e=>console.error("Navigation error",e)):this.notificationService.showError&&this.notificationService.showError("No related RC available")}}return e.\u0275fac=function(t){return new(t||e)(g.Pb(g.i),g.Pb(c.a),g.Pb(l.g),g.Pb(n.a),g.Pb(i.c),g.Pb(a.a),g.Pb(r.a),g.Pb(d.f),g.Pb(s.a),g.Pb(d.k),g.Pb(b.a))},e.\u0275cmp=g.Jb({type:e,selectors:[["arrgContractAllocationsV-data"]],viewQuery:function(e,t){var o;1&e&&g.Qc(ae,!0),2&e&&g.Ac(o=g.ec())&&(t.allocAuditComp=o.first)},inputs:{arrId:"arrId"},features:[g.Db([c.a,n.a,d.f,a.a,s.a])],decls:74,vars:45,consts:[[1,"content-section","implementation"],["width","425"],["header","Allocations",3,"onBeforeToggle"],["class","pull-right icons-list",4,"ngIf"],[1,"x-scroll"],["id","alloc-dt","selectionMode","multiple","scrollable","false","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl",3,"loading","columns","value","selection","lazy","paginator","rows","totalRecords","resizableColumns","selectionChange","onRowSelect","onRowUnselect","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],["header","Search","width","800","showEffect","fade",3,"visible","draggable","modal","visibleChange"],[3,"ngSubmit"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"md-inputfield"],[1,"selectSpan"],["pInputText","","placeholder","SO#","name","dealNumber","id","dealNumber",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-g-6","pull-right"],["pInputText","","name","dealLineNumber","placeholder","SO Line#","id","dealLineNumber",1,"textbox",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Search",1,"primary-btn",3,"click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["header","ArrgContractAllocationsV","width","500","showEffect","fade",3,"visible","draggable","modal","visibleChange"],["class","ui-grid ui-grid-responsive ui-fluid",4,"ngIf"],["type","button","pButton","","icon","fa-close","label","Cancel",3,"click"],["type","submit","pButton","","icon","fa-check","label","Save",3,"click"],["id","prosp","header","Prospective Change","width","1000","showEffect","fade",3,"draggable","visible","modal","visibleChange"],[3,"formGroup"],[1,"red-color"],["id","input","type","text","placeholder","Revenue Contract Number","size","50","pInputText","","formControlName","arrangementNumber",1,"textbox",3,"ngModel","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["id","input","type","text","placeholder","Revenue Contract Name","size","50","pInputText","","formControlName","arrangementName",1,"textbox",3,"ngModel","ngModelChange"],["scrollable","true",1,"ui-datatable","arrangementMgrTbl",3,"value","lazy","paginator","rows","totalRecords"],["table",""],["id","paginator-c",3,"rows","totalRecords","onPageChange"],["type","submit","pButton","","label","Save",1,"primary-btn",3,"disabled","click"],["class","accounting-dialog","width","600","showEffect","fade",3,"header","visible","modal","draggable","visibleChange","onHide",4,"ngIf"],["header","Allocation History","id","journals","width","1300","showEffect","fade",1,"accounting-dialog",3,"visible","draggable","modal","visibleChange","onShow","onHide"],["allocAudit",""],[1,"pull-right","icons-list"],["onLabel","Order","offLabel","Quote","onIcon","fa fa-toggle-on fa-sm","offIcon","fa fa-toggle-off fa-sm",1,"ui-inputswitch",3,"ngModel","ngModelChange"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","History",1,"add-column",3,"click"],[1,"fa","fa-history"],["title","Search",3,"click"],[1,"fa","fa-search"],["title","Prospective",1,"icon-prospective",3,"click"],["title","Retrospective",1,"icon-retrospective",3,"click"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],[4,"ngIf"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"select-box"],["pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["class","number","pResizableColumn","",3,"ngStyle","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],["pResizableColumn","",1,"number",3,"ngStyle","title"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"value"],[3,"title","ngStyle",4,"ngIf"],["class","number",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],["href","javascript:void(0)",2,"font-weight","bold","color","#262d74",3,"click"],[1,"number",3,"title","ngStyle"],["aria-hidden","true",1,"fa","fa-circle","red-color"],["aria-hidden","true",1,"fa","fa-circle","green-color"],["aria-hidden","true",1,"fa","fa-circle","yellow-color"],["class","number",4,"ngIf"],["class","text",4,"ngIf"],[1,"number"],[1,"text"],[1,"no-results-data"],[1,"ui-grid-row"],[1,"ui-grid-col-4"],["for","dealArrangementId"],[1,"ui-grid-col-8"],["pInputText","","name","dealArrangementId","id","dealArrangementId","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","dealHeaderId"],["pInputText","","name","dealHeaderId","id","dealHeaderId","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","dealNumber"],["pInputText","","name","dealNumber","id","dealNumber","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","dealLineNumber"],["pInputText","","name","dealLineNumber","id","dealLineNumber","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","dealLineId"],["pInputText","","name","dealLineId","id","dealLineId","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","productName"],["pInputText","","name","productName","id","productName","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","uomCode"],["pInputText","","name","uomCode","id","uomCode","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","quantity"],["pInputText","","name","quantity","id","quantity","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","dealCurrencyCode"],["pInputText","","name","dealCurrencyCode","id","dealCurrencyCode","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","trxCurrencyCode"],["pInputText","","name","trxCurrencyCode","id","trxCurrencyCode","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","repCurrCode"],["pInputText","","name","repCurrCode","id","repCurrCode","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","unitListPrice"],["pInputText","","name","unitListPrice","id","unitListPrice","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","unitSellingPrice"],["pInputText","","name","unitSellingPrice","id","unitSellingPrice","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","lineAmount"],["pInputText","","name","lineAmount","id","lineAmount","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","elementType"],["pInputText","","name","elementType","id","elementType","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","accountingScope"],["pInputText","","name","accountingScope","id","accountingScope","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","bundleFlag"],["pInputText","","name","bundleFlag","id","bundleFlag","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","parentLineId"],["pInputText","","name","parentLineId","id","parentLineId","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","parentLineNumber"],["pInputText","","name","parentLineNumber","id","parentLineNumber","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","solution"],["pInputText","","name","solution","id","solution","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","productGroup"],["pInputText","","name","productGroup","id","productGroup","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","productType"],["pInputText","","name","productType","id","productType","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","fmvRuleName"],["pInputText","","name","fmvRuleName","id","fmvRuleName","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","fmvCategory"],["pInputText","","name","fmvCategory","id","fmvCategory","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","fmvType"],["pInputText","","name","fmvType","id","fmvType","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","fmvMin"],["pInputText","","name","fmvMin","id","fmvMin","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","fmvMean"],["pInputText","","name","fmvMean","id","fmvMean","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","fmvMax"],["pInputText","","name","fmvMax","id","fmvMax","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","bundleAttribitionList"],["pInputText","","name","bundleAttribitionList","id","bundleAttribitionList","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","bundleAttribitionNet"],["pInputText","","name","bundleAttribitionNet","id","bundleAttribitionNet","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","fmvAmount"],["pInputText","","name","fmvAmount","id","fmvAmount","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","allocationAmount"],["pInputText","","name","allocationAmount","id","allocationAmount","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","cvInOutAmount"],["pInputText","","name","cvInOutAmount","id","cvInOutAmount","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","pobGrouping"],["pInputText","","name","pobGrouping","id","pobGrouping","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","allocationInclusive"],["pInputText","","name","allocationInclusive","id","allocationInclusive","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","accountingStandard"],["pInputText","","name","accountingStandard","id","accountingStandard","required","",3,"ngModelOptions","ngModel","ngModelChange"],["for","totalCost"],["pInputText","","name","totalCost","id","totalCost","required","",3,"ngModelOptions","ngModel","ngModelChange"],[1,"ui-message","ui-messages-error","ui-corner-all"],[3,"pSelectableRow"],["pEditableColumn",""],[1,"editable-td"],["pTemplate","input"],["pTemplate","output"],["required","true","yearRange","2000:2100","appendTo","body",1,"prosp-calendar",3,"ngModelOptions","monthNavigator","yearNavigator","ngModel","showIcon","ngModelChange"],["pInputText","","type","text","formControlName","undeliveredQty",3,"ngModel","ngModelChange"],["pInputText","","type","text","formControlName","unitSellingPrice",3,"ngModel","ngModelChange"],[1,"no-data"],["width","600","showEffect","fade",1,"accounting-dialog",3,"header","visible","modal","draggable","visibleChange","onHide"]],template:function(e,t){1&e&&(g.Qb(0,"div",0),g.Qb(1,"p-confirmDialog",1),g.Vb(2,"p-panel",2),g.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),g.Vb(3,"p-header"),g.Kc(4,pe,16,3,"div",3),g.Ub(),g.Vb(5,"div",4),g.Vb(6,"p-table",5,6),g.dc("selectionChange",(function(e){return t.selectedDeals=e}))("onRowSelect",(function(e){return t.onRowSelect(e)}))("onRowUnselect",(function(e){return t.onRowUnselect(e)}))("onLazyLoad",(function(e){return t.getArrgContractAllocationsV(e)})),g.Kc(8,fe,3,1,"ng-template",7),g.Kc(9,Ve,4,1,"ng-template",8),g.Kc(10,Oe,4,4,"ng-template",9),g.Kc(11,pt,3,1,"ng-template",10),g.Kc(12,ht,3,1,"ng-template",11),g.Ub(),g.Ub(),g.Ub(),g.Vb(13,"p-dialog",12),g.dc("visibleChange",(function(e){return t.displaySearchDialog=e})),g.Vb(14,"form",13),g.dc("ngSubmit",(function(){return t.search()})),g.Vb(15,"div",14),g.Vb(16,"div",15),g.Vb(17,"div",16),g.Vb(18,"span",17),g.Vb(19,"span",18),g.Mc(20,"SO#"),g.Ub(),g.Vb(21,"input",19),g.dc("ngModelChange",(function(e){return t.arrgContractAllocationsVSearch.dealNumber=e})),g.Ub(),g.Ub(),g.Ub(),g.Vb(22,"div",20),g.Vb(23,"span",17),g.Vb(24,"span",18),g.Mc(25,"SO Line#"),g.Ub(),g.Vb(26,"input",21),g.dc("ngModelChange",(function(e){return t.arrgContractAllocationsVSearch.dealLineNumber=e})),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(27,"p-footer"),g.Vb(28,"div",22),g.Vb(29,"button",23),g.dc("click",(function(){return t.search()})),g.Ub(),g.Vb(30,"button",24),g.dc("click",(function(){return t.displaySearchDialog=!1})),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(31,"p-dialog",25),g.dc("visibleChange",(function(e){return t.displayDialog=e})),g.Vb(32,"form",13),g.dc("ngSubmit",(function(){return t.save()})),g.Kc(33,mt,223,148,"div",26),g.Ub(),g.Vb(34,"footer"),g.Vb(35,"div",22),g.Vb(36,"button",27),g.dc("click",(function(){return t.displayDialog=!1})),g.Ub(),g.Vb(37,"button",28),g.dc("click",(function(){return t.save()})),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(38,"p-dialog",29),g.dc("visibleChange",(function(e){return t.displayProspectiveDialog=e})),g.Vb(39,"form",30),g.Vb(40,"div",14),g.Vb(41,"div",15),g.Vb(42,"div",16),g.Vb(43,"span",17),g.Vb(44,"span",18),g.Mc(45,"Revenue Contract Number"),g.Vb(46,"span",31),g.Mc(47,"*"),g.Ub(),g.Ub(),g.Vb(48,"input",32),g.dc("ngModelChange",(function(e){return t.arrgNumber=e})),g.Ub(),g.Kc(49,yt,2,1,"div",33),g.Ub(),g.Ub(),g.Vb(50,"div",20),g.Vb(51,"span",17),g.Vb(52,"span",18),g.Mc(53,"Revenue Contract Name"),g.Vb(54,"span",31),g.Mc(55,"*"),g.Ub(),g.Ub(),g.Vb(56,"input",34),g.dc("ngModelChange",(function(e){return t.arrgName=e})),g.Ub(),g.Kc(57,Ct,2,1,"div",33),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(58,"p-table",35,36),g.Kc(60,vt,40,0,"ng-template",8),g.Kc(61,Ut,39,37,"ng-template",9),g.Kc(62,Dt,1,1,"ng-template",11),g.Ub(),g.Vb(63,"p-paginator",37),g.dc("onPageChange",(function(e){return t.paginate(e)})),g.Ub(),g.Ub(),g.Vb(64,"p-footer"),g.Vb(65,"div",22),g.Vb(66,"button",38),g.dc("click",(function(){return t.processTheProspectiveDeals()})),g.Ub(),g.Vb(67,"button",24),g.dc("click",(function(){return t.displayProspectiveDialog=!1})),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Kc(68,Nt,3,4,"p-dialog",39),g.Kc(69,Ft,3,4,"p-dialog",39),g.Kc(70,Tt,3,4,"p-dialog",39),g.Vb(71,"p-dialog",40),g.dc("visibleChange",(function(e){return t.historyDialog=e}))("onShow",(function(){return t.onHistoryDialogOpen()}))("onHide",(function(){return t.onHistoryDialogClose()})),g.Qb(72,"rmanAllocationsHistory-data",null,41),g.Ub()),2&e&&(g.Eb(4),g.oc("ngIf",t.collapsed),g.Eb(2),g.oc("loading",t.loading)("columns",t.columns)("value",t.arrgContractAllocationsVList)("selection",t.selectedDeals)("lazy",!0)("paginator",t.showPaginator)("rows",t.pageSize)("totalRecords",t.totalElements)("resizableColumns",!0),g.Eb(7),g.oc("visible",t.displaySearchDialog)("draggable",!0)("modal",!0),g.Eb(8),g.oc("ngModelOptions",g.rc(43,ft))("ngModel",t.arrgContractAllocationsVSearch.dealNumber),g.Eb(5),g.oc("ngModelOptions",g.rc(44,ft))("ngModel",t.arrgContractAllocationsVSearch.dealLineNumber),g.Eb(5),g.oc("visible",t.displayDialog)("draggable",!0)("modal",!0),g.Eb(2),g.oc("ngIf",t.arrgContractAllocationsV),g.Eb(5),g.oc("draggable",!0)("visible",t.displayProspectiveDialog)("modal",!0),g.Eb(1),g.oc("formGroup",t.allocationsForm),g.Eb(9),g.oc("ngModel",t.arrgNumber),g.Eb(1),g.oc("ngIf",t.formErrors.arrangementNumber),g.Eb(7),g.oc("ngModel",t.arrgName),g.Eb(1),g.oc("ngIf",t.formErrors.arrangementName),g.Eb(1),g.oc("value",t.prospectiveDealsList)("lazy",!0)("paginator",!1)("rows",t.rowCount)("totalRecords",t.totalRecords),g.Eb(5),g.oc("rows",9)("totalRecords",t.totalRecords),g.Eb(3),g.oc("disabled",!t.allocationsForm.valid&&0!=t.prospectiveDealsList.length),g.Eb(2),g.oc("ngIf",t.showSSPDialog),g.Eb(1),g.oc("ngIf",t.showRevenueDialog),g.Eb(1),g.oc("ngIf",t.showPOBDialog),g.Eb(1),g.oc("visible",t.historyDialog)("draggable",!0)("modal",!0))},directives:[_.a,f.a,n.c,d.o,m.j,n.f,Z.a,i.v,i.l,i.m,i.b,X.a,i.k,i.n,n.b,ee.b,i.g,i.e,te.a,J,oe.a,y.a,C.b,C.c,i.a,d.p,d.n,m.l,m.g,m.i,m.k,i.s,m.c,m.b,le.a,ie.a,ne.a],pipes:[d.f,v.a,d.g],encapsulation:2}),e})();class Pt{constructor(e,t,o,l,i,n,a,r,c,d,s,b,g,u,p,h,f,m,y,C,v,V,M,A,w,U,S,D,E,N,I,F,x,T,L,O,P,R,k,K,q,$,H){this.dealLineId=e,this.quantity=t,this.elementType=o,this.allocationAmount=l,this.parentLineNumber=i,this.totalCost=n,this.dealCurrencyCode=a,this.unitSellingPrice=r,this.unitListPrice=c,this.fmvCategory=d,this.cvInOutAmount=s,this.bundleAttribitionList=b,this.dealNumber=g,this.lineAmount=u,this.repCurrCode=p,this.fmvRuleName=h,this.pobGrouping=f,this.dealLineNumber=m,this.productGroup=y,this.fmvMin=C,this.fmvMean=v,this.fmvAmount=V,this.dealHeaderId=M,this.solution=A,this.parentLineId=w,this.productName=U,this.dealArrangementId=S,this.trxCurrencyCode=D,this.accountingScope=E,this.productType=N,this.fmvMax=I,this.accountingStandard=F,this.uomCode=x,this.allocationInclusive=T,this.bundleAttribitionNet=L,this.bundleFlag=O,this.fmvType=P,this.vc=R,this.arrgLineNumber=k,this.allocableAmount=K,this.sspLow=q,this.sspHigh=$,this.netPriceDiscount=H}}class Rt{constructor(e,t,o,l,i,n,a,r,c,d,s,b,g,u,p,h,f,m){this.dealArrangmentId=e,this.quantity=t,this.unitListPrice=o,this.unitSellingPrice=l,this.dealNumber=i,this.dealLineNumber=n,this.productName=a,this.uomCode=r,this.dealCurrencyCode=c,this.conversionRate=d,this.contractStartDate=s,this.contractEndDate=b,this.serviceStartDate=g,this.serviceEndDate=u,this.dealLineId=p,this.undeliveredQty=h,this.undQty=f,this.ssp=m}}var kt=o("PCNd");const Kt=[{path:"",component:Ot}];let qt=(()=>{class e{}return e.\u0275mod=g.Nb({type:e}),e.\u0275inj=g.Mb({factory:function(t){return new(t||e)},providers:[],imports:[[kt.a,l.k.forChild(Kt),m.m,i.h,Z.b,f.b,i.r,_.b,X.b],l.k]}),e})()}}]);