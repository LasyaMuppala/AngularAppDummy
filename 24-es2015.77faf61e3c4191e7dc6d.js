(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"7/CQ":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var o=r("tk/3"),i=r("fXoL");const a=r("+yMW"),n={headers:new o.f({"Content-Type":"application/json"})};let s=(()=>{class e{constructor(e){this.http=e}getAllRmanEntityParametersV(e,t,r){let o=a.apiUrl+"/rmanEntityParametersVSearch?",i="";return null!=t.entityId&&""!=t.entityId&&(i=i+"entityId:"+t.entityId+","),null!=t.entityName&&""!=t.entityName&&(i=i+"entityName:"+t.entityName+","),null!=t.entityCategory&&""!=t.entityCategory&&(i=i+"entityCategory:"+t.entityCategory+","),null!=t.entityDescription&&""!=t.entityDescription&&(i=i+"entityDescription:"+t.entityDescription+","),null!=t.tableName&&""!=t.tableName&&(i=i+"tableName:"+t.tableName+","),null!=t.startDateActive&&""!=t.startDateActive&&(i=i+"startDateActive:"+t.startDateActive+","),null!=t.endDateActive&&""!=t.endDateActive&&(i=i+"endDateActive:"+t.endDateActive+","),null!=t.entityParameterId&&""!=t.entityParameterId&&(i=i+"entityParameterId:"+t.entityParameterId+","),null!=t.parameterName&&""!=t.parameterName&&(i=i+"parameterName:"+t.parameterName+","),null!=t.parameterDescription&&""!=t.parameterDescription&&(i=i+"parameterDescription:"+t.parameterDescription+","),null!=t.columnName&&""!=t.columnName&&(i=i+"columnName:"+t.columnName+","),null!=t.columnType&&""!=t.columnType&&(i=i+"columnType:"+t.columnType+","),null!=t.columnSize&&""!=t.columnSize&&(i=i+"columnSize:"+t.columnSize+","),null!=t.columnSequence&&""!=t.columnSequence&&(i=i+"columnSequence:"+t.columnSequence+","),null!=t.enabledFlag&&""!=t.enabledFlag&&(i=i+"enabledFlag:"+t.enabledFlag),""==i?o+="search=%25":o=o+"search="+i,"Y"==r&&(o+="&fetchAll=Y"),null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(o=o+"&page="+e.pageNumber+"&size="+e.pageSize),this.http.get(o).toPromise().then(e=>e)}saveRmanEntityParametersV(e){let t=JSON.stringify(e);return this.http.post(a.apiUrl+"/RMAN_ENTITY_PARAMETERS_V",t,n).toPromise().then(e=>e)}updateRmanEntityParametersV(e){delete e._links,delete e.interests;let t=JSON.stringify(e);return this.http.put(a.apiUrl+"/RMAN_ENTITY_PARAMETERS_V/"+e.entityParameterId,t,n).toPromise().then(e=>e)}deleteRmanEntityParametersV(e){return this.http.delete(a.apiUrl+"/RMAN_ENTITY_PARAMETERS_V/"+e.entityParameterId,n).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(i.Zb(o.b))},e.\u0275prov=i.Lb({token:e,factory:e.\u0275fac}),e})()},vTna:function(e,t,r){"use strict";r.r(t),r.d(t,"JobsModule",(function(){return ie}));var o=r("ofXK"),i=r("tk/3"),a=r("tyNb"),n=r("3Pt+"),s=r("7wYa"),c=r("5WLJ"),l=r("ElGL"),u=r("n75i"),d=r("6UWk"),b=r("J7oY"),m=r("lvWh"),p=r("fXoL");const h=r("+yMW");let g=(()=>{class e{constructor(e){this.http=e}executeConcurrentprogram(e){let t;return"PROCESS_DEALS"==e?t=h.apiUrl+"/revmantra/processcontracts":"PROCESS_BILLINGS"==e?t=h.apiUrl+"/revmantra/processbillings":"IMPORT_BOOKINGS"==e?t=h.apiUrl+"/revmantra/importbookings":"IMPORT_DISTRIBUTIONS"==e?t=h.apiUrl+"/revmantra/importdistributions":"PROCESS_CONT_RELEASE"==e?t=h.apiUrl+"/revmantra/contrelease":"PROCESS_FMV_DEALS"==e?t=h.apiUrl+"/revmantra/dealFMVSubmitProcess":"PROCESS_VC_UPDATE"==e?t=h.apiUrl+"/revmantra/dealVCUpdateProcess?arrangementId=0":"PROCESS_DEAL_ALLOCATIONS"==e?t=h.apiUrl+"/revmantra/dealAllocationProcess?arrangementId=0":"PROCESS_UPDATE_POB"==e?t=h.apiUrl+"/revmantra/dealPOBUpdateProcess":"IMPORT_ORDER_EVENTS"==e?t=h.apiUrl+"/revmantra/processEvents":"LT_ST_REVERSE_ENTRY"==e?t=h.apiUrl+"/revmantra/reverseLTandSTAccountEntry":"CL_ACCOUNT_ADJ_PROG"==e?t=h.apiUrl+"/revmantra/clAccountAdjustmentsJob":"CL_REVERSAL_ACCOUNT_ADJ_PROG"==e?t=h.apiUrl+"/revmantra/clRevrsalAccountAdjustmentsJob":"GL_JE_IMPORT_PROG"==e?t=h.apiUrl+"/journalImport":"USAGES_CONGA_BILLING_SCHEDULES_JOB"==e?t=h.apiUrl+"/usages/processBillingSchedules":"AYARA_ANALITICAL_DATA_UPDATE"==e&&(t=h.apiUrl+"/revmantra/analyticalDataUpdateProcess"),this.http.post(t,null).toPromise().then(e=>e)}runJournalImport(e,t){let r=h.apiUrl+"/journalImport?";return r=r+"account="+e+"&rcNumber="+t,this.http.post(r,null).toPromise().then(e=>e)}releaseContingency(e,t,r,o,i,a,n,s,c,l){let u=h.apiUrl+"/revmantra/releaseContingency?";return u=u+"headerId="+e+"&fromDate="+t+"&toDate="+r+"&customerNumber="+o+"&productGroup="+i+"&productFamily="+a+"&productLine="+n+"&orderNumber="+s+"&customerPo="+c+"&releaseDate="+l,this.http.post(u,null).toPromise().then(e=>e)}customersMerge(e,t){let r=h.apiUrl+"/customerMergeProcess?";return r=r+"fromCustomer="+e+"&toCustomer="+t,this.http.post(r,null)}exportArchiveFiles(e,t,r){return h.apiUrl+"/rmanArchiveFileExport?fileType="+e+"&groupId="+t+"&fileName="+r}downloadUploadedFile(e){return h.apiUrl+"/downloadFile/"+e}fetchUploadLogs(e){let t;return t=h.apiUrl+"/rmanFileUploadJobsSearch?",null==e.pageNumber||null==e.pageNumber||isNaN(e.pageNumber)?t+="search=%25":t=t+"search=&page="+e.pageNumber+"&size="+e.pageSize,this.http.get(t).toPromise().then(e=>e)}fetchRCNumbers(e){return this.http.get(h.apiUrl+"/fetchUnPostedRC?rc="+e).toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(p.Zb(i.b))},e.\u0275prov=p.Lb({token:e,factory:e.\u0275fac}),e})();var f=r("qfV7"),U=r("/8oK"),y=r("jGlT"),v=r("7CaW"),P=r("7zfz"),E=r("rEr+"),C=r("/RsI"),V=r("arFO"),N=r("eO1q"),M=r("V5BG"),S=r("7kUa"),D=r("jIHw");function L(e,t){if(1&e){const e=p.Wb();p.Vb(0,"p-panel",44),p.Vb(1,"div",16),p.Vb(2,"div",17),p.Vb(3,"div",18),p.Qb(4,"span",19),p.Vb(5,"p-dropdown",45),p.dc("ngModelChange",(function(t){return p.Dc(e),p.gc().selectedProgram=t})),p.Ub(),p.Ub(),p.Vb(6,"div",46),p.Vb(7,"button",47),p.dc("click",(function(){return p.Dc(e),p.gc().submitConcurrentProgram()})),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub()}if(2&e){const e=p.gc();p.Eb(5),p.oc("options",e.programs)("ngModel",e.selectedProgram),p.Eb(2),p.oc("disabled",!e.selectedProgram)}}function R(e,t){if(1&e){const e=p.Wb();p.Vb(0,"div",48),p.Vb(1,"a",49),p.dc("click",(function(){p.Dc(e);const t=p.gc(),r=p.Bc(11);return t.reset(r)})),p.Qb(2,"em",50),p.Ub(),p.Ub()}}function F(e,t){1&e&&(p.Vb(0,"th"),p.Vb(1,"a"),p.Mc(2,"Uploaded File"),p.Ub(),p.Ub())}const A=function(){return["write","FUL"]};function T(e,t){1&e&&(p.Vb(0,"tr"),p.Vb(1,"th"),p.Vb(2,"a"),p.Mc(3,"Job Id"),p.Ub(),p.Ub(),p.Vb(4,"th"),p.Vb(5,"a"),p.Mc(6,"Job Name"),p.Ub(),p.Ub(),p.Vb(7,"th"),p.Vb(8,"a",51),p.Mc(9,"Total Processed Records"),p.Ub(),p.Ub(),p.Vb(10,"th"),p.Vb(11,"a",51),p.Mc(12,"Total Success Records"),p.Ub(),p.Ub(),p.Vb(13,"th"),p.Vb(14,"a",51),p.Mc(15,"Total Failed Records"),p.Ub(),p.Ub(),p.Vb(16,"th"),p.Vb(17,"a"),p.Mc(18,"Start Date"),p.Ub(),p.Ub(),p.Vb(19,"th"),p.Vb(20,"a"),p.Mc(21,"End Date"),p.Ub(),p.Ub(),p.Vb(22,"th"),p.Vb(23,"a"),p.Mc(24,"Uploaded By"),p.Ub(),p.Ub(),p.Vb(25,"th"),p.Vb(26,"a"),p.Mc(27,"Job Status"),p.Ub(),p.Ub(),p.Kc(28,F,3,0,"th",52),p.Ub()),2&e&&(p.Eb(28),p.oc("isAuthorized",p.rc(1,A)))}function I(e,t){if(1&e){const e=p.Wb();p.Vb(0,"td",57),p.Vb(1,"a",58),p.dc("click",(function(){p.Dc(e);const t=p.gc().$implicit;return p.gc().downloadFile(t)})),p.Qb(2,"em",59),p.Ub(),p.Ub()}}function O(e,t){if(1&e&&(p.Vb(0,"tr",53),p.Vb(1,"td",54),p.Mc(2),p.Ub(),p.Vb(3,"td",54),p.Mc(4),p.Ub(),p.Vb(5,"td",55),p.Mc(6),p.Ub(),p.Vb(7,"td",55),p.Mc(8),p.Ub(),p.Vb(9,"td",55),p.Mc(10),p.Ub(),p.Vb(11,"td",54),p.hc(12,"date"),p.Mc(13),p.hc(14,"date"),p.Ub(),p.Vb(15,"td",54),p.hc(16,"date"),p.Mc(17),p.hc(18,"date"),p.Ub(),p.Vb(19,"td",54),p.Mc(20),p.Ub(),p.Vb(21,"td",54),p.Mc(22),p.Ub(),p.Kc(23,I,3,0,"td",56),p.Ub()),2&e){const e=t.$implicit;p.oc("pSelectableRow",t.$implicit),p.Eb(1),p.pc("title",e.jobId),p.Eb(1),p.Nc(e.jobId),p.Eb(1),p.pc("title",e.jobName),p.Eb(1),p.Oc(" ",e.jobName," "),p.Eb(1),p.pc("title",e.totalProcessRecords),p.Eb(1),p.Oc(" ",e.totalProcessRecords," "),p.Eb(1),p.pc("title",e.totalSuccessRecords),p.Eb(1),p.Oc(" ",e.totalSuccessRecords," "),p.Eb(1),p.pc("title",e.totalFailedRecords),p.Eb(1),p.Oc(" ",e.totalFailedRecords," "),p.Eb(1),p.pc("title",p.jc(12,20,e.startDate,"MM/dd/yyyy h:mm:ss a")),p.Eb(2),p.Nc(p.jc(14,23,e.startDate,"MM/dd/yyyy h:mm:ss a")),p.Eb(2),p.pc("title",p.jc(16,26,e.finishedDate,"MM/dd/yyyy h:mm:ss a")),p.Eb(2),p.Nc(p.jc(18,29,e.finishedDate,"MM/dd/yyyy h:mm:ss a")),p.Eb(2),p.pc("title",e.attribute2),p.Eb(1),p.Nc(e.attribute2),p.Eb(1),p.pc("title",e.jobStatus),p.Eb(1),p.Nc(e.jobStatus),p.Eb(1),p.oc("isAuthorized",p.rc(32,A))}}function w(e,t){if(1&e&&(p.Vb(0,"tr"),p.Vb(1,"td",60),p.Mc(2),p.Ub(),p.Ub()),2&e){const e=p.gc(2);p.Eb(2),p.Nc(e.noData)}}function _(e,t){1&e&&p.Kc(0,w,3,1,"tr",26),2&e&&p.oc("ngIf",!t.$implicit)}function G(e,t){if(1&e&&(p.Vb(0,"div",61),p.Mc(1),p.Ub()),2&e){const e=p.gc();p.Eb(1),p.Oc(" ",e.formErrors.sspGrule," ")}}function J(e,t){if(1&e&&(p.Vb(0,"div",61),p.Mc(1),p.Ub()),2&e){const e=p.gc();p.Eb(1),p.Oc(" ",e.formErrors.FromDate," ")}}function k(e,t){if(1&e&&(p.Vb(0,"div",61),p.Mc(1),p.Ub()),2&e){const e=p.gc();p.Eb(1),p.Oc(" ",e.formErrors.ToDate," ")}}function x(e,t){1&e&&(p.Vb(0,"div"),p.Vb(1,"span",20),p.Mc(2,"To date should be greater then From date"),p.Ub(),p.Ub())}function q(e,t){if(1&e&&(p.Vb(0,"div",61),p.Mc(1),p.Ub()),2&e){const e=p.gc();p.Eb(1),p.Oc(" ",e.formErrors.customerNumber," ")}}function B(e,t){if(1&e&&(p.Vb(0,"div",61),p.Mc(1),p.Ub()),2&e){const e=p.gc();p.Eb(1),p.Oc(" ",e.formErrors.productGroup," ")}}function j(e,t){if(1&e&&(p.Vb(0,"div",61),p.Mc(1),p.Ub()),2&e){const e=p.gc();p.Eb(1),p.Oc(" ",e.formErrors.productFamily," ")}}function H(e,t){if(1&e&&(p.Vb(0,"div",61),p.Mc(1),p.Ub()),2&e){const e=p.gc();p.Eb(1),p.Oc(" ",e.formErrors.productLine," ")}}function z(e,t){if(1&e&&(p.Vb(0,"div",61),p.Mc(1),p.Ub()),2&e){const e=p.gc();p.Eb(1),p.Oc(" ",e.formErrors.orderNumber," ")}}function K(e,t){if(1&e&&(p.Vb(0,"div",61),p.Mc(1),p.Ub()),2&e){const e=p.gc();p.Eb(1),p.Oc(" ",e.formErrors.customerPo," ")}}function Q(e,t){if(1&e&&(p.Vb(0,"div",61),p.Mc(1),p.Ub()),2&e){const e=p.gc();p.Eb(1),p.Oc(" ",e.formErrors.releaseDate," ")}}const W=function(){return["write","RUNJOB"]},Y=function(){return{"margin-bottom":"20px"}},X=function(){return{standalone:!0}},Z=r("+yMW");let ee=(()=>{class e{constructor(e,t,r,o,i,a,n,s){this.conurrentProgramsService=e,this.notificationService=t,this.rmanContHeaderService=r,this.formBuilder=o,this.customersService=i,this.productsService=a,this.rmanDealArrangementsService=n,this.rmanFiscalPeriodsService=s,this.collapsed=!0,this.noData=Z.noData,this.fileLog=[],this.sspGroupingRules=new m.b,this.rmanContHeaderVList=[],this.minimumDate=new Date,this.selectedFromCustomer={},this.selectedToCustomer={},this.customers=[],this.displayCustomersParamsDialog=!1,this.dealArrangementNumbers=[],this.currentPeriod={},this.rmanCustomers=new c.b,this.rmanProducts=new u.b,this.formErrors={sspGrule:"",FromDate:"",ToDate:"",customerNumber:"",productGroup:"",productFamily:"",productLine:"",orderNumber:"",customerPo:"",releaseDate:""},this.validationMessages={sspGrule:{required:"Rule Name is required"},FromDate:{required:"From Date is required"},ToDate:{required:"To Date is required"},customerNumber:{required:"Customer Number is required"},productGroup:{required:"Product Group is required"},productFamily:{required:"Product Family is required"},productLine:{required:"Product Line is required"},orderNumber:{required:"Order Number is required"},customerPo:{required:"Customer Po is required"},releaseDate:{required:"Release Date is required"}},this.paginationOptions={pageNumber:0,pageSize:"10000"},this.programs=[],this.programs.push({label:"Select Job",value:null}),this.programs.push({label:"Journal Export Program",value:"GL_JE_IMPORT_PROG"}),this.programs.push({label:"Billing Schedules Job",value:"USAGES_CONGA_BILLING_SCHEDULES_JOB"}),this.programs.push({label:"Customers Merge Job",value:"CUSTOMERS_MERGE_JOB"}),this.programs.push({label:"Analytical Data Update for Dashboard Job",value:"AYARA_ANALITICAL_DATA_UPDATE"}),this.rmanContHeaderService.getAllRmanContHeader(this.paginationOptions,{lookupTypeName:"APPLICATION_LEVEL"}).then(e=>{this.rmanContHeaderVList=e.content,this.prepareRmanContHeaderVObject()}).catch(e=>{this.notificationService.showError('Error occured while getting "Rule Category" data'),this.loading=!1}),this.rmanFiscalPeriodsService.getCurrentfiscalperiod().then(e=>{this.currentPeriod=e})}ngOnInit(){this.buildForm()}filterCustomerNumber(e){this.rmanCustomers.customerNumber=e.query,this.customersService.getAllRmanCustomers(this.paginationOptions,this.rmanCustomers,!1).then(e=>{this.filteredCustomerNumberList=e.content.map(e=>e.customerNumber)}).catch(e=>{this.filteredCustomerNumberList=[]})}filterProductGroup(e){let t=e.query;this.rmanProducts=new u.b,this.rmanProducts.attribute1=t,this.productsService.getAllRmanProducts(this.paginationOptions,this.rmanProducts,!1).then(e=>{this.filteredProductGroupList=e.content.map(e=>e.attribute1),this.filteredProductGroupList=this.filteredProductGroupList.filter((e,t)=>t===this.filteredProductGroupList.indexOf(e))}).catch(e=>{this.filteredProductGroupList=[]})}filterProductFamily(e){let t=e.query;this.rmanProducts=new u.b,this.rmanProducts.attribute2=t,this.productsService.getAllRmanProducts(this.paginationOptions,this.rmanProducts,!1).then(e=>{this.filteredProductFamilyList=e.content.map(e=>e.attribute2),this.filteredProductFamilyList=this.filteredProductFamilyList.filter((e,t)=>t===this.filteredProductFamilyList.indexOf(e))}).catch(e=>{this.filteredProductFamilyList=[]})}filterProductLine(e){let t=e.query;this.rmanProducts=new u.b,this.rmanProducts.attribute3=t,this.productsService.getAllRmanProducts(this.paginationOptions,this.rmanProducts,!1).then(e=>{this.filteredProductLineList=e.content.map(e=>e.attribute3),this.filteredProductLineList=this.filteredProductLineList.filter((e,t)=>t===this.filteredProductLineList.indexOf(e))}).catch(e=>{this.filteredProductLineList=[]})}dateCheck(e){this.fromDate&&this.toDate&&(this.dateFlag=this.fromDate>this.toDate)}prepareRmanContHeaderVObject(){let e=[];e.push({label:"Select Contingency Name(*)",value:""}),this.rmanContHeaderVList.forEach(t=>{e.push({label:t.ruleName,value:t.ruleHeaderId})}),this.rmanContHeaderV=e}submitConcurrentProgram(){"CONT_RELEASE_PROG"===this.selectedProgram?this.displaySearchDialog=!0:"GL_JE_IMPORT_PROG"===this.selectedProgram?this.displayParamsDialog=!0:"CUSTOMERS_MERGE_JOB"===this.selectedProgram?this.displayCustomersParamsDialog=!0:(this.notificationService.showInfo("Job submitted and Running"),$.blockUI(),this.conurrentProgramsService.executeConcurrentprogram(this.selectedProgram).then(e=>{$.unblockUI(),e?this.notificationService.showSuccess("Job successfully completed"):this.notificationService.showError("Job execution failed")}).catch(e=>{$.unblockUI(),this.notificationService.showError("Job execution has been terminated")}))}searchRCNumbers(e){this.rmanDealArrangementsService.getAllRmanDealArrangements(this.paginationOptions,{dealArrangementNumber:e.query}).then(e=>{this.dealArrangementNumbers=e.content.map(e=>e.dealArrangementNumber)}).catch(e=>{this.dealArrangementNumbers=[]})}searchUnpostedRCList(e){this.conurrentProgramsService.fetchRCNumbers(e.query).then(e=>{this.dealArrangementNumbers=e.map(e=>e)}).catch(e=>{this.dealArrangementNumbers=[]})}submitJEProgram(){this.notificationService.showInfo("Job submitted and Running"),$.blockUI(),void 0===this.rcNumber&&(this.rcNumber=""),void 0===this.account&&(this.account=""),this.conurrentProgramsService.runJournalImport(this.account,this.rcNumber).then(e=>{$.unblockUI(),this.displayParamsDialog=!1,e?this.notificationService.showSuccess("Job Submitted successfully and Refresh the Jobs to Check Status"):this.notificationService.showError("Job execution failed")}).catch(e=>{$.unblockUI(),this.displayParamsDialog=!1,this.notificationService.showError("Job execution has been terminated")})}release(){this.notificationService.showInfo("Job submitted and Running"),$.blockUI(),void 0===this.customerNumber&&(this.customerNumber=""),void 0===this.productGroup&&(this.productGroup=""),void 0===this.productFamily&&(this.productFamily=""),void 0===this.productLine&&(this.productLine=""),void 0===this.orderNumber&&(this.orderNumber=""),void 0===this.customerPo&&(this.customerPo=""),void 0===this.releaseDate&&(this.releaseDate=""),this.conurrentProgramsService.releaseContingency(this.headerId,new o.f("en-US").transform(this.fromDate,"yyyy-MM-dd"),new o.f("en-US").transform(this.toDate,"yyyy-MM-dd"),this.customerNumber,this.productGroup,this.productFamily,this.productLine,this.orderNumber,this.customerPo,new o.f("en-US").transform(this.releaseDate,"yyyy-MM-dd")).then(e=>{$.unblockUI(),this.displaySearchDialog=!1,e?this.notificationService.showSuccess("Job successfully completed"):this.notificationService.showError("Job execution failed")}).catch(e=>{$.unblockUI(),this.displaySearchDialog=!1,this.notificationService.showError("Job execution has been terminated")})}cancelSearch(){this.displaySearchDialog=!1,this.displayParamsDialog=!1,this.displayCustomersParamsDialog=!1}onBeforeToggle(e){this.collapsed=e.collapsed}getAllUploadLogsList(){this.__getData(this.paginationOptions)}getAllUploadLogs(e){this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.__getData(this.paginationOptions)}__getData(e){this.conurrentProgramsService.fetchUploadLogs(e).then(e=>{this.loading=!1,this.fileLog=e.content,this.totalElements=e.totalElements,this.pageSize=e.size})}exportExcel(e){let t=this.conurrentProgramsService.exportArchiveFiles(e.attribute1,e.jobId,e.attribute3);window.location.href=t}downloadFile(e){let t=this.conurrentProgramsService.downloadUploadedFile(e.jobId);window.location.href=t}reset(e){this.paginationOptions={},e.reset()}onSubmitCustomersMerge(){this.notificationService.showInfo("Job submitted and Running"),$.blockUI(),this.conurrentProgramsService.customersMerge(this.selectedFromCustomer.customerNumber,this.selectedToCustomer.customerNumber).subscribe(e=>{this.notificationService.showSuccess("Job Submitted Successfully and Job ID is "+e),$.unblockUI()},e=>{this.notificationService.showError(e.error.message),$.unblockUI()}),this.displayCustomersParamsDialog=!1}buildForm(){this.contReleaseForm=this.formBuilder.group({sspGrule:["",[n.t.required]],FromDate:["",[n.t.required]],ToDate:["",[n.t.required]],customerNumber:["",[]],productGroup:["",[]],productFamily:["",[]],productLine:["",[]],orderNumber:["",[]],customerPo:["",[]],releaseDate:["",[n.t.required]]}),this.journalForm=this.formBuilder.group({account:["",[]],rcNumber:["",[]]}),this.customerMergeForm=this.formBuilder.group({selectedFromCustomer:["",[]],selectedToCustomer:["",[]]}),this.contReleaseForm.valueChanges.subscribe(e=>this.onValueChanged(e)),this.onValueChanged()}searchCustomerNames(e){this.customersService.getAllRmanCustomers(this.paginationOptions,{customerName:e.query},!0).then(e=>{this.customers=e.content,this.customers.forEach(e=>e.label=e.customerName+" "+e.customerNumber)}).catch(e=>{this.customers=[]})}onValueChanged(e){if(!this.contReleaseForm)return;const t=this.contReleaseForm;for(const r in this.formErrors){this.formErrors[r]="";const e=t.get(r);if(e&&e.dirty&&!e.valid){const t=this.validationMessages[r];for(const o in e.errors)this.formErrors[r]+=t[o]+" "}}}}return e.\u0275fac=function(t){return new(t||e)(p.Pb(g),p.Pb(b.a),p.Pb(s.a),p.Pb(n.c),p.Pb(l.a),p.Pb(d.a),p.Pb(f.a),p.Pb(U.a))},e.\u0275cmp=p.Jb({type:e,selectors:[["conurrentPrograms-data"]],features:[p.Db([g,s.a,l.a,d.a,f.a,U.a])],decls:127,vars:82,consts:[[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["id","jobs_concurrent","header","Run Jobs",4,"isAuthorized"],["header","File Upload Log Info",3,"toggleable","onBeforeToggle"],["class","pull-right icons-list",4,"ngIf"],[1,"x-scroll"],["scrollable","true",1,"ui-datatable","arrangementMgrTbl",3,"value","loading","lazy","paginator","rows","totalRecords","onLazyLoad"],["dt",""],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Contingency Release Program","width","800","showEffect","fade",3,"visible","draggable","modal","blockScroll","visibleChange"],["invalidate","",3,"formGroup"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"selectSpan"],[1,"red-color"],["name","sspGrule","id","sspGrule","formControlName","sspGrule","appendTo","body",1,"ml-auto",3,"options","ngModel","filter","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-g-6","pull-right"],["showAnim","slideDown","name","FromDate","inputStyleClass","textbox","id","FromDate","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","From Date","formControlName","FromDate",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],["showAnim","slideDown","name","ToDate","inputStyleClass","textbox","id","ToDate","yearRange","1950:2030","formControlName","ToDate","appendTo","body","dateFormat","yy-mm-dd","placeholder","To Date",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],[4,"ngIf"],[1,"md-inputfield"],["inputStyleClass","textbox","styleClass","wid100","id","customerNumber","appendTo","body","formControlName","customerNumber",3,"ngModel","suggestions","minLength","placeholder","ngModelChange","completeMethod","onFocus","onBlur"],["inputStyleClass","textbox","styleClass","wid100","id","productGroup","appendTo","body","formControlName","productGroup",3,"ngModel","suggestions","minLength","placeholder","ngModelChange","completeMethod","onFocus","onBlur"],["inputStyleClass","textbox","styleClass","wid100","id","productFamily","appendTo","body","formControlName","productFamily",3,"ngModel","suggestions","minLength","placeholder","ngModelChange","completeMethod","onFocus","onBlur"],["inputStyleClass","textbox","styleClass","wid100","id","productLine","appendTo","body","formControlName","productLine",3,"ngModel","suggestions","minLength","placeholder","ngModelChange","completeMethod","onFocus","onBlur"],["pInputText","","type","text","placeholder","Order PO","name","orderNumber","id","orderNumber","formControlName","orderNumber",1,"textbox",3,"ngModel","ngModelChange"],["pInputText","","type","text","placeholder","Customer PO","name","customerPo","id","customerPo","formControlName","customerPo",1,"textbox",3,"ngModel","ngModelChange"],["showAnim","slideDown","name","releaseDate","inputStyleClass","textbox","id","releaseDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","Release Date","appendTo","body","formControlName","releaseDate",3,"monthNavigator","yearNavigator","minDate","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Release",1,"primary-btn",3,"disabled","click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["header","Journal Import Program","width","800","showEffect","fade",3,"visible","draggable","modal","blockScroll","visibleChange"],[1,"md-outputfield"],["for","period"],["type","submit","pButton","","label","Submit",1,"primary-btn",3,"click"],["header","Customer Merge Job","width","800","showEffect","fade",3,"visible","draggable","modal","blockScroll","visibleChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Customer Name Type atleast 3 Characters","id","from","field","label",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["id","jobs_concurrent","header","Run Jobs"],[3,"options","ngModel","ngModelChange"],[1,"ui-g-2"],["type","submit","pButton","","label","Run Job",1,"primary-btn",3,"disabled","click"],[1,"pull-right","icons-list"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],[1,"number"],[4,"isAuthorized"],[3,"pSelectableRow"],[3,"title"],[1,"number",3,"title"],["title","Download",4,"isAuthorized"],["title","Download"],["title","Download",1,"download-icon",3,"click"],[1,"fa","fa-download"],[1,"no-data"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(e,t){1&e&&(p.Vb(0,"div",0),p.Vb(1,"div",1),p.Vb(2,"div",2),p.Vb(3,"div",3),p.Vb(4,"div",4),p.Kc(5,L,8,3,"p-panel",5),p.Vb(6,"p-panel",6),p.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),p.Vb(7,"p-header"),p.Kc(8,R,3,0,"div",7),p.Ub(),p.Vb(9,"div",8),p.Vb(10,"p-table",9,10),p.dc("onLazyLoad",(function(e){return t.getAllUploadLogs(e)})),p.Kc(12,T,29,2,"ng-template",11),p.Kc(13,O,24,33,"ng-template",12),p.Kc(14,_,1,1,"ng-template",13),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(15,"p-dialog",14),p.dc("visibleChange",(function(e){return t.displaySearchDialog=e})),p.Vb(16,"form",15),p.Vb(17,"div",16),p.Vb(18,"div",17),p.Vb(19,"div",18),p.Vb(20,"span",19),p.Mc(21," Name "),p.Vb(22,"span",20),p.Mc(23,"*"),p.Ub(),p.Ub(),p.Vb(24,"p-dropdown",21),p.dc("ngModelChange",(function(e){return t.headerId=e})),p.Ub(),p.Kc(25,G,2,1,"div",22),p.Ub(),p.Vb(26,"div",23),p.Vb(27,"span",19),p.Mc(28,"From Date "),p.Vb(29,"span",20),p.Mc(30,"*"),p.Ub(),p.Ub(),p.Vb(31,"p-calendar",24),p.dc("ngModelChange",(function(e){return t.fromDate=e}))("ngModelChange",(function(e){return t.dateCheck(e)})),p.Ub(),p.Kc(32,J,2,1,"div",22),p.Ub(),p.Ub(),p.Vb(33,"div",17),p.Vb(34,"div",18),p.Vb(35,"span",19),p.Mc(36,"To Date"),p.Vb(37,"span",20),p.Mc(38,"*"),p.Ub(),p.Ub(),p.Vb(39,"p-calendar",25),p.dc("ngModelChange",(function(e){return t.toDate=e}))("ngModelChange",(function(e){return t.dateCheck(e)})),p.Ub(),p.Kc(40,k,2,1,"div",22),p.Kc(41,x,3,0,"div",26),p.Ub(),p.Vb(42,"div",23),p.Vb(43,"span",27),p.Vb(44,"span",19),p.Mc(45,"Customer Number"),p.Qb(46,"span",20),p.Ub(),p.Vb(47,"p-autoComplete",28),p.dc("ngModelChange",(function(e){return t.customerNumber=e}))("completeMethod",(function(e){return t.filterCustomerNumber(e)}))("onFocus",(function(){return t.customerNamePlaceHolder="Type atleast 1 character, ex: 1"}))("onBlur",(function(){return t.customerNamePlaceHolder=""})),p.Ub(),p.Kc(48,q,2,1,"div",22),p.Ub(),p.Ub(),p.Ub(),p.Vb(49,"div",17),p.Vb(50,"div",18),p.Vb(51,"span",27),p.Vb(52,"span",19),p.Mc(53,"Product Group"),p.Qb(54,"span",20),p.Ub(),p.Vb(55,"p-autoComplete",29),p.dc("ngModelChange",(function(e){return t.productGroup=e}))("completeMethod",(function(e){return t.filterProductGroup(e)}))("onFocus",(function(){return t.productGroupPlaceHolder="Type atleast 1 character, ex: a"}))("onBlur",(function(){return t.productGroupPlaceHolder=""})),p.Ub(),p.Kc(56,B,2,1,"div",22),p.Ub(),p.Ub(),p.Vb(57,"div",23),p.Vb(58,"span",27),p.Vb(59,"span",19),p.Mc(60,"Product Family"),p.Qb(61,"span",20),p.Ub(),p.Vb(62,"p-autoComplete",30),p.dc("ngModelChange",(function(e){return t.productFamily=e}))("completeMethod",(function(e){return t.filterProductFamily(e)}))("onFocus",(function(){return t.productFamilyPlaceHolder="Type atleast 1 character, ex: a"}))("onBlur",(function(){return t.productFamilyPlaceHolder=""})),p.Ub(),p.Kc(63,j,2,1,"div",22),p.Ub(),p.Ub(),p.Ub(),p.Vb(64,"div",17),p.Vb(65,"div",18),p.Vb(66,"span",27),p.Vb(67,"span",19),p.Mc(68,"Product Line"),p.Qb(69,"span",20),p.Ub(),p.Vb(70,"p-autoComplete",31),p.dc("ngModelChange",(function(e){return t.productLine=e}))("completeMethod",(function(e){return t.filterProductLine(e)}))("onFocus",(function(){return t.productLinePlaceHolder="Type atleast 1 character, ex: a"}))("onBlur",(function(){return t.productLinePlaceHolder=""})),p.Ub(),p.Kc(71,H,2,1,"div",22),p.Ub(),p.Ub(),p.Vb(72,"div",23),p.Vb(73,"span",27),p.Vb(74,"span",19),p.Mc(75,"Order Number"),p.Qb(76,"span",20),p.Ub(),p.Vb(77,"input",32),p.dc("ngModelChange",(function(e){return t.orderNumber=e})),p.Ub(),p.Kc(78,z,2,1,"div",22),p.Ub(),p.Ub(),p.Ub(),p.Vb(79,"div",17),p.Vb(80,"div",18),p.Vb(81,"span",27),p.Vb(82,"span",19),p.Mc(83,"Customer PO"),p.Qb(84,"span",20),p.Ub(),p.Vb(85,"input",33),p.dc("ngModelChange",(function(e){return t.customerPo=e})),p.Ub(),p.Kc(86,K,2,1,"div",22),p.Ub(),p.Ub(),p.Vb(87,"div",23),p.Vb(88,"span",19),p.Mc(89,"Release Date"),p.Vb(90,"span",20),p.Mc(91,"*"),p.Ub(),p.Ub(),p.Vb(92,"p-calendar",34),p.dc("ngModelChange",(function(e){return t.releaseDate=e})),p.Ub(),p.Kc(93,Q,2,1,"div",22),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(94,"p-footer"),p.Vb(95,"div",35),p.Vb(96,"button",36),p.dc("click",(function(){return t.release()})),p.Ub(),p.Vb(97,"button",37),p.dc("click",(function(){return t.cancelSearch()})),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(98,"p-dialog",38),p.dc("visibleChange",(function(e){return t.displayParamsDialog=e})),p.Vb(99,"form",15),p.Vb(100,"div",16),p.Vb(101,"div",17),p.Vb(102,"div",18),p.Vb(103,"span",39),p.Vb(104,"label",40),p.Mc(105),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(106,"p-footer"),p.Vb(107,"div",35),p.Vb(108,"button",41),p.dc("click",(function(){return t.submitJEProgram()})),p.Ub(),p.Vb(109,"button",37),p.dc("click",(function(){return t.cancelSearch()})),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(110,"p-dialog",42),p.dc("visibleChange",(function(e){return t.displayCustomersParamsDialog=e})),p.Vb(111,"form",15),p.Vb(112,"div",16),p.Vb(113,"div",17),p.Vb(114,"div",18),p.Vb(115,"span",19),p.Mc(116,"From Customer"),p.Ub(),p.Vb(117,"p-autoComplete",43),p.dc("completeMethod",(function(e){return t.searchCustomerNames(e)}))("ngModelChange",(function(e){return t.selectedFromCustomer=e})),p.Ub(),p.Ub(),p.Ub(),p.Vb(118,"div",17),p.Vb(119,"div",18),p.Vb(120,"span",19),p.Mc(121,"To Customer"),p.Ub(),p.Vb(122,"p-autoComplete",43),p.dc("completeMethod",(function(e){return t.searchCustomerNames(e)}))("ngModelChange",(function(e){return t.selectedToCustomer=e})),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(123,"p-footer"),p.Vb(124,"div",35),p.Vb(125,"button",41),p.dc("click",(function(){return t.onSubmitCustomersMerge()})),p.Ub(),p.Vb(126,"button",37),p.dc("click",(function(){return t.cancelSearch()})),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&e&&(p.Eb(5),p.oc("isAuthorized",p.rc(78,W)),p.Eb(1),p.Ic(p.rc(79,Y)),p.oc("toggleable",!1),p.Eb(2),p.oc("ngIf",t.collapsed),p.Eb(2),p.oc("value",t.fileLog)("loading",t.loading)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements),p.Eb(5),p.oc("visible",t.displaySearchDialog)("draggable",!0)("modal",!0)("blockScroll",!0),p.Eb(1),p.oc("formGroup",t.contReleaseForm),p.Eb(8),p.oc("options",t.rmanContHeaderV)("ngModel",t.headerId)("filter",!0),p.Eb(1),p.oc("ngIf",t.formErrors.sspGrule),p.Eb(6),p.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",t.fromDate),p.Eb(1),p.oc("ngIf",t.formErrors.FromDate),p.Eb(7),p.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",t.toDate),p.Eb(1),p.oc("ngIf",t.formErrors.ToDate),p.Eb(1),p.oc("ngIf",t.dateFlag),p.Eb(6),p.pc("placeholder",t.customerNamePlaceHolder),p.oc("ngModel",t.customerNumber)("suggestions",t.filteredCustomerNumberList)("minLength",1),p.Eb(1),p.oc("ngIf",t.formErrors.customerNumber),p.Eb(7),p.pc("placeholder",t.productGroupPlaceHolder),p.oc("ngModel",t.productGroup)("suggestions",t.filteredProductGroupList)("minLength",1),p.Eb(1),p.oc("ngIf",t.formErrors.productGroup),p.Eb(6),p.pc("placeholder",t.productFamilyPlaceHolder),p.oc("ngModel",t.productFamily)("suggestions",t.filteredProductFamilyList)("minLength",1),p.Eb(1),p.oc("ngIf",t.formErrors.productFamily),p.Eb(7),p.pc("placeholder",t.productLinePlaceHolder),p.oc("ngModel",t.productLine)("suggestions",t.filteredProductLineList)("minLength",1),p.Eb(1),p.oc("ngIf",t.formErrors.productLine),p.Eb(6),p.oc("ngModel",t.orderNumber),p.Eb(1),p.oc("ngIf",t.formErrors.orderNumber),p.Eb(7),p.oc("ngModel",t.customerPo),p.Eb(1),p.oc("ngIf",t.formErrors.customerPo),p.Eb(6),p.oc("monthNavigator",!0)("yearNavigator",!0)("minDate",t.minimumDate)("ngModel",t.releaseDate),p.Eb(1),p.oc("ngIf",t.formErrors.releaseDate),p.Eb(3),p.oc("disabled",!t.contReleaseForm.valid),p.Eb(2),p.oc("visible",t.displayParamsDialog)("draggable",!0)("modal",!0)("blockScroll",!0),p.Eb(1),p.oc("formGroup",t.journalForm),p.Eb(6),p.Oc("**Jounral Export Job Submit for the Current Period of ",t.currentPeriod.periodName,""),p.Eb(5),p.oc("visible",t.displayCustomersParamsDialog)("draggable",!0)("modal",!0)("blockScroll",!0),p.Eb(1),p.oc("formGroup",t.customerMergeForm),p.Eb(6),p.oc("suggestions",t.customers)("minLength",3)("ngModelOptions",p.rc(80,X))("ngModel",t.selectedFromCustomer),p.Eb(5),p.oc("suggestions",t.customers)("minLength",3)("ngModelOptions",p.rc(81,X))("ngModel",t.selectedToCustomer))},directives:[y.a,v.a,P.c,o.o,E.j,P.f,C.a,n.v,n.l,n.g,V.a,n.k,n.e,N.a,M.a,n.b,S.a,P.b,D.b,n.n,E.i],pipes:[o.f],encapsulation:2}),e})();var te=r("PCNd"),re=r("uwUq");const oe=[{path:"",component:ee}];let ie=(()=>{class e{}return e.\u0275mod=p.Nb({type:e}),e.\u0275inj=p.Mb({factory:function(t){return new(t||e)},providers:[{provide:i.a,useClass:re.a,multi:!0}],imports:[[o.c,te.a,i.c,a.k.forChild(oe),i.d.withOptions({cookieName:"CSRF-TOKEN",headerName:"X-CSRF-TOKEN"})]]}),e})()}}]);