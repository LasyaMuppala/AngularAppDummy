!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"7/CQ":function(t,o,n){"use strict";n.d(o,"a",(function(){return u}));var a=n("tk/3"),i=n("fXoL"),c=n("+yMW"),s={headers:new a.f({"Content-Type":"application/json"})},u=function(){var t=function(){function t(r){e(this,t),this.http=r}return r(t,[{key:"getAllRmanEntityParametersV",value:function(e,t,r){var o=c.apiUrl+"/rmanEntityParametersVSearch?",n="";return null!=t.entityId&&""!=t.entityId&&(n=n+"entityId:"+t.entityId+","),null!=t.entityName&&""!=t.entityName&&(n=n+"entityName:"+t.entityName+","),null!=t.entityCategory&&""!=t.entityCategory&&(n=n+"entityCategory:"+t.entityCategory+","),null!=t.entityDescription&&""!=t.entityDescription&&(n=n+"entityDescription:"+t.entityDescription+","),null!=t.tableName&&""!=t.tableName&&(n=n+"tableName:"+t.tableName+","),null!=t.startDateActive&&""!=t.startDateActive&&(n=n+"startDateActive:"+t.startDateActive+","),null!=t.endDateActive&&""!=t.endDateActive&&(n=n+"endDateActive:"+t.endDateActive+","),null!=t.entityParameterId&&""!=t.entityParameterId&&(n=n+"entityParameterId:"+t.entityParameterId+","),null!=t.parameterName&&""!=t.parameterName&&(n=n+"parameterName:"+t.parameterName+","),null!=t.parameterDescription&&""!=t.parameterDescription&&(n=n+"parameterDescription:"+t.parameterDescription+","),null!=t.columnName&&""!=t.columnName&&(n=n+"columnName:"+t.columnName+","),null!=t.columnType&&""!=t.columnType&&(n=n+"columnType:"+t.columnType+","),null!=t.columnSize&&""!=t.columnSize&&(n=n+"columnSize:"+t.columnSize+","),null!=t.columnSequence&&""!=t.columnSequence&&(n=n+"columnSequence:"+t.columnSequence+","),null!=t.enabledFlag&&""!=t.enabledFlag&&(n=n+"enabledFlag:"+t.enabledFlag),""==n?o+="search=%25":o=o+"search="+n,"Y"==r&&(o+="&fetchAll=Y"),null==e.pageNumber||""==e.pageNumber||isNaN(e.pageNumber)||0==e.pageNumber||(o=o+"&page="+e.pageNumber+"&size="+e.pageSize),this.http.get(o).toPromise().then((function(e){return e}))}},{key:"saveRmanEntityParametersV",value:function(e){var t=JSON.stringify(e);return this.http.post(c.apiUrl+"/RMAN_ENTITY_PARAMETERS_V",t,s).toPromise().then((function(e){return e}))}},{key:"updateRmanEntityParametersV",value:function(e){delete e._links,delete e.interests;var t=JSON.stringify(e);return this.http.put(c.apiUrl+"/RMAN_ENTITY_PARAMETERS_V/"+e.entityParameterId,t,s).toPromise().then((function(e){return e}))}},{key:"deleteRmanEntityParametersV",value:function(e){return this.http.delete(c.apiUrl+"/RMAN_ENTITY_PARAMETERS_V/"+e.entityParameterId,s).toPromise().then((function(e){return e}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Zb(a.b))},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t}()},vTna:function(t,o,n){"use strict";n.r(o),n.d(o,"JobsModule",(function(){return ue}));var a,i=n("ofXK"),c=n("tk/3"),s=n("tyNb"),u=n("3Pt+"),l=n("7wYa"),d=n("5WLJ"),b=n("ElGL"),m=n("n75i"),p=n("6UWk"),h=n("J7oY"),f=n("lvWh"),g=n("fXoL"),v=n("+yMW"),y=((a=function(){function t(r){e(this,t),this.http=r}return r(t,[{key:"executeConcurrentprogram",value:function(e){var t;return"PROCESS_DEALS"==e?t=v.apiUrl+"/revmantra/processcontracts":"PROCESS_BILLINGS"==e?t=v.apiUrl+"/revmantra/processbillings":"IMPORT_BOOKINGS"==e?t=v.apiUrl+"/revmantra/importbookings":"IMPORT_DISTRIBUTIONS"==e?t=v.apiUrl+"/revmantra/importdistributions":"PROCESS_CONT_RELEASE"==e?t=v.apiUrl+"/revmantra/contrelease":"PROCESS_FMV_DEALS"==e?t=v.apiUrl+"/revmantra/dealFMVSubmitProcess":"PROCESS_VC_UPDATE"==e?t=v.apiUrl+"/revmantra/dealVCUpdateProcess?arrangementId=0":"PROCESS_DEAL_ALLOCATIONS"==e?t=v.apiUrl+"/revmantra/dealAllocationProcess?arrangementId=0":"PROCESS_UPDATE_POB"==e?t=v.apiUrl+"/revmantra/dealPOBUpdateProcess":"IMPORT_ORDER_EVENTS"==e?t=v.apiUrl+"/revmantra/processEvents":"LT_ST_REVERSE_ENTRY"==e?t=v.apiUrl+"/revmantra/reverseLTandSTAccountEntry":"CL_ACCOUNT_ADJ_PROG"==e?t=v.apiUrl+"/revmantra/clAccountAdjustmentsJob":"CL_REVERSAL_ACCOUNT_ADJ_PROG"==e?t=v.apiUrl+"/revmantra/clRevrsalAccountAdjustmentsJob":"GL_JE_IMPORT_PROG"==e?t=v.apiUrl+"/journalImport":"USAGES_CONGA_BILLING_SCHEDULES_JOB"==e?t=v.apiUrl+"/usages/processBillingSchedules":"AYARA_ANALITICAL_DATA_UPDATE"==e&&(t=v.apiUrl+"/revmantra/analyticalDataUpdateProcess"),this.http.post(t,null).toPromise().then((function(e){return e}))}},{key:"runJournalImport",value:function(e,t){var r=v.apiUrl+"/journalImport?";return r=r+"account="+e+"&rcNumber="+t,this.http.post(r,null).toPromise().then((function(e){return e}))}},{key:"releaseContingency",value:function(e,t,r,o,n,a,i,c,s,u){var l=v.apiUrl+"/revmantra/releaseContingency?";return l=l+"headerId="+e+"&fromDate="+t+"&toDate="+r+"&customerNumber="+o+"&productGroup="+n+"&productFamily="+a+"&productLine="+i+"&orderNumber="+c+"&customerPo="+s+"&releaseDate="+u,this.http.post(l,null).toPromise().then((function(e){return e}))}},{key:"customersMerge",value:function(e,t){var r=v.apiUrl+"/customerMergeProcess?";return r=r+"fromCustomer="+e+"&toCustomer="+t,this.http.post(r,null)}},{key:"exportArchiveFiles",value:function(e,t,r){return v.apiUrl+"/rmanArchiveFileExport?fileType="+e+"&groupId="+t+"&fileName="+r}},{key:"downloadUploadedFile",value:function(e){return v.apiUrl+"/downloadFile/"+e}},{key:"fetchUploadLogs",value:function(e){var t;return t=v.apiUrl+"/rmanFileUploadJobsSearch?",null==e.pageNumber||null==e.pageNumber||isNaN(e.pageNumber)?t+="search=%25":t=t+"search=&page="+e.pageNumber+"&size="+e.pageSize,this.http.get(t).toPromise().then((function(e){return e}))}},{key:"fetchRCNumbers",value:function(e){return this.http.get(v.apiUrl+"/fetchUnPostedRC?rc="+e).toPromise().then((function(e){return e}))}}]),t}()).\u0275fac=function(e){return new(e||a)(g.Zb(c.b))},a.\u0275prov=g.Lb({token:a,factory:a.\u0275fac}),a),U=n("qfV7"),P=n("/8oK"),E=n("jGlT"),C=n("7CaW"),V=n("7zfz"),N=n("rEr+"),M=n("/RsI"),S=n("arFO"),D=n("eO1q"),L=n("V5BG"),R=n("7kUa"),F=n("jIHw");function T(e,t){if(1&e){var r=g.Wb();g.Vb(0,"p-panel",44),g.Vb(1,"div",16),g.Vb(2,"div",17),g.Vb(3,"div",18),g.Qb(4,"span",19),g.Vb(5,"p-dropdown",45),g.dc("ngModelChange",(function(e){return g.Dc(r),g.gc().selectedProgram=e})),g.Ub(),g.Ub(),g.Vb(6,"div",46),g.Vb(7,"button",47),g.dc("click",(function(){return g.Dc(r),g.gc().submitConcurrentProgram()})),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&e){var o=g.gc();g.Eb(5),g.oc("options",o.programs)("ngModel",o.selectedProgram),g.Eb(2),g.oc("disabled",!o.selectedProgram)}}function A(e,t){if(1&e){var r=g.Wb();g.Vb(0,"div",48),g.Vb(1,"a",49),g.dc("click",(function(){g.Dc(r);var e=g.gc(),t=g.Bc(11);return e.reset(t)})),g.Qb(2,"em",50),g.Ub(),g.Ub()}}function I(e,t){1&e&&(g.Vb(0,"th"),g.Vb(1,"a"),g.Mc(2,"Uploaded File"),g.Ub(),g.Ub())}var O=function(){return["write","FUL"]};function k(e,t){1&e&&(g.Vb(0,"tr"),g.Vb(1,"th"),g.Vb(2,"a"),g.Mc(3,"Job Id"),g.Ub(),g.Ub(),g.Vb(4,"th"),g.Vb(5,"a"),g.Mc(6,"Job Name"),g.Ub(),g.Ub(),g.Vb(7,"th"),g.Vb(8,"a",51),g.Mc(9,"Total Processed Records"),g.Ub(),g.Ub(),g.Vb(10,"th"),g.Vb(11,"a",51),g.Mc(12,"Total Success Records"),g.Ub(),g.Ub(),g.Vb(13,"th"),g.Vb(14,"a",51),g.Mc(15,"Total Failed Records"),g.Ub(),g.Ub(),g.Vb(16,"th"),g.Vb(17,"a"),g.Mc(18,"Start Date"),g.Ub(),g.Ub(),g.Vb(19,"th"),g.Vb(20,"a"),g.Mc(21,"End Date"),g.Ub(),g.Ub(),g.Vb(22,"th"),g.Vb(23,"a"),g.Mc(24,"Uploaded By"),g.Ub(),g.Ub(),g.Vb(25,"th"),g.Vb(26,"a"),g.Mc(27,"Job Status"),g.Ub(),g.Ub(),g.Kc(28,I,3,0,"th",52),g.Ub()),2&e&&(g.Eb(28),g.oc("isAuthorized",g.rc(1,O)))}function w(e,t){if(1&e){var r=g.Wb();g.Vb(0,"td",57),g.Vb(1,"a",58),g.dc("click",(function(){g.Dc(r);var e=g.gc().$implicit;return g.gc().downloadFile(e)})),g.Qb(2,"em",59),g.Ub(),g.Ub()}}function _(e,t){if(1&e&&(g.Vb(0,"tr",53),g.Vb(1,"td",54),g.Mc(2),g.Ub(),g.Vb(3,"td",54),g.Mc(4),g.Ub(),g.Vb(5,"td",55),g.Mc(6),g.Ub(),g.Vb(7,"td",55),g.Mc(8),g.Ub(),g.Vb(9,"td",55),g.Mc(10),g.Ub(),g.Vb(11,"td",54),g.hc(12,"date"),g.Mc(13),g.hc(14,"date"),g.Ub(),g.Vb(15,"td",54),g.hc(16,"date"),g.Mc(17),g.hc(18,"date"),g.Ub(),g.Vb(19,"td",54),g.Mc(20),g.Ub(),g.Vb(21,"td",54),g.Mc(22),g.Ub(),g.Kc(23,w,3,0,"td",56),g.Ub()),2&e){var r=t.$implicit;g.oc("pSelectableRow",t.$implicit),g.Eb(1),g.pc("title",r.jobId),g.Eb(1),g.Nc(r.jobId),g.Eb(1),g.pc("title",r.jobName),g.Eb(1),g.Oc(" ",r.jobName," "),g.Eb(1),g.pc("title",r.totalProcessRecords),g.Eb(1),g.Oc(" ",r.totalProcessRecords," "),g.Eb(1),g.pc("title",r.totalSuccessRecords),g.Eb(1),g.Oc(" ",r.totalSuccessRecords," "),g.Eb(1),g.pc("title",r.totalFailedRecords),g.Eb(1),g.Oc(" ",r.totalFailedRecords," "),g.Eb(1),g.pc("title",g.jc(12,20,r.startDate,"MM/dd/yyyy h:mm:ss a")),g.Eb(2),g.Nc(g.jc(14,23,r.startDate,"MM/dd/yyyy h:mm:ss a")),g.Eb(2),g.pc("title",g.jc(16,26,r.finishedDate,"MM/dd/yyyy h:mm:ss a")),g.Eb(2),g.Nc(g.jc(18,29,r.finishedDate,"MM/dd/yyyy h:mm:ss a")),g.Eb(2),g.pc("title",r.attribute2),g.Eb(1),g.Nc(r.attribute2),g.Eb(1),g.pc("title",r.jobStatus),g.Eb(1),g.Nc(r.jobStatus),g.Eb(1),g.oc("isAuthorized",g.rc(32,O))}}function G(e,t){if(1&e&&(g.Vb(0,"tr"),g.Vb(1,"td",60),g.Mc(2),g.Ub(),g.Ub()),2&e){var r=g.gc(2);g.Eb(2),g.Nc(r.noData)}}function J(e,t){1&e&&g.Kc(0,G,3,1,"tr",26),2&e&&g.oc("ngIf",!t.$implicit)}function x(e,t){if(1&e&&(g.Vb(0,"div",61),g.Mc(1),g.Ub()),2&e){var r=g.gc();g.Eb(1),g.Oc(" ",r.formErrors.sspGrule," ")}}function q(e,t){if(1&e&&(g.Vb(0,"div",61),g.Mc(1),g.Ub()),2&e){var r=g.gc();g.Eb(1),g.Oc(" ",r.formErrors.FromDate," ")}}function B(e,t){if(1&e&&(g.Vb(0,"div",61),g.Mc(1),g.Ub()),2&e){var r=g.gc();g.Eb(1),g.Oc(" ",r.formErrors.ToDate," ")}}function j(e,t){1&e&&(g.Vb(0,"div"),g.Vb(1,"span",20),g.Mc(2,"To date should be greater then From date"),g.Ub(),g.Ub())}function H(e,t){if(1&e&&(g.Vb(0,"div",61),g.Mc(1),g.Ub()),2&e){var r=g.gc();g.Eb(1),g.Oc(" ",r.formErrors.customerNumber," ")}}function z(e,t){if(1&e&&(g.Vb(0,"div",61),g.Mc(1),g.Ub()),2&e){var r=g.gc();g.Eb(1),g.Oc(" ",r.formErrors.productGroup," ")}}function K(e,t){if(1&e&&(g.Vb(0,"div",61),g.Mc(1),g.Ub()),2&e){var r=g.gc();g.Eb(1),g.Oc(" ",r.formErrors.productFamily," ")}}function Q(e,t){if(1&e&&(g.Vb(0,"div",61),g.Mc(1),g.Ub()),2&e){var r=g.gc();g.Eb(1),g.Oc(" ",r.formErrors.productLine," ")}}function W(e,t){if(1&e&&(g.Vb(0,"div",61),g.Mc(1),g.Ub()),2&e){var r=g.gc();g.Eb(1),g.Oc(" ",r.formErrors.orderNumber," ")}}function Y(e,t){if(1&e&&(g.Vb(0,"div",61),g.Mc(1),g.Ub()),2&e){var r=g.gc();g.Eb(1),g.Oc(" ",r.formErrors.customerPo," ")}}function X(e,t){if(1&e&&(g.Vb(0,"div",61),g.Mc(1),g.Ub()),2&e){var r=g.gc();g.Eb(1),g.Oc(" ",r.formErrors.releaseDate," ")}}var Z,ee,te=function(){return["write","RUNJOB"]},re=function(){return{"margin-bottom":"20px"}},oe=function(){return{standalone:!0}},ne=n("+yMW"),ae=((Z=function(){function t(r,o,n,a,i,c,s,u){var l=this;e(this,t),this.conurrentProgramsService=r,this.notificationService=o,this.rmanContHeaderService=n,this.formBuilder=a,this.customersService=i,this.productsService=c,this.rmanDealArrangementsService=s,this.rmanFiscalPeriodsService=u,this.collapsed=!0,this.noData=ne.noData,this.fileLog=[],this.sspGroupingRules=new f.b,this.rmanContHeaderVList=[],this.minimumDate=new Date,this.selectedFromCustomer={},this.selectedToCustomer={},this.customers=[],this.displayCustomersParamsDialog=!1,this.dealArrangementNumbers=[],this.currentPeriod={},this.rmanCustomers=new d.b,this.rmanProducts=new m.b,this.formErrors={sspGrule:"",FromDate:"",ToDate:"",customerNumber:"",productGroup:"",productFamily:"",productLine:"",orderNumber:"",customerPo:"",releaseDate:""},this.validationMessages={sspGrule:{required:"Rule Name is required"},FromDate:{required:"From Date is required"},ToDate:{required:"To Date is required"},customerNumber:{required:"Customer Number is required"},productGroup:{required:"Product Group is required"},productFamily:{required:"Product Family is required"},productLine:{required:"Product Line is required"},orderNumber:{required:"Order Number is required"},customerPo:{required:"Customer Po is required"},releaseDate:{required:"Release Date is required"}},this.paginationOptions={pageNumber:0,pageSize:"10000"},this.programs=[],this.programs.push({label:"Select Job",value:null}),this.programs.push({label:"Journal Export Program",value:"GL_JE_IMPORT_PROG"}),this.programs.push({label:"Billing Schedules Job",value:"USAGES_CONGA_BILLING_SCHEDULES_JOB"}),this.programs.push({label:"Customers Merge Job",value:"CUSTOMERS_MERGE_JOB"}),this.programs.push({label:"Analytical Data Update for Dashboard Job",value:"AYARA_ANALITICAL_DATA_UPDATE"}),this.rmanContHeaderService.getAllRmanContHeader(this.paginationOptions,{lookupTypeName:"APPLICATION_LEVEL"}).then((function(e){l.rmanContHeaderVList=e.content,l.prepareRmanContHeaderVObject()})).catch((function(e){l.notificationService.showError('Error occured while getting "Rule Category" data'),l.loading=!1})),this.rmanFiscalPeriodsService.getCurrentfiscalperiod().then((function(e){l.currentPeriod=e}))}return r(t,[{key:"ngOnInit",value:function(){this.buildForm()}},{key:"filterCustomerNumber",value:function(e){var t=this;this.rmanCustomers.customerNumber=e.query,this.customersService.getAllRmanCustomers(this.paginationOptions,this.rmanCustomers,!1).then((function(e){t.filteredCustomerNumberList=e.content.map((function(e){return e.customerNumber}))})).catch((function(e){t.filteredCustomerNumberList=[]}))}},{key:"filterProductGroup",value:function(e){var t=this,r=e.query;this.rmanProducts=new m.b,this.rmanProducts.attribute1=r,this.productsService.getAllRmanProducts(this.paginationOptions,this.rmanProducts,!1).then((function(e){t.filteredProductGroupList=e.content.map((function(e){return e.attribute1})),t.filteredProductGroupList=t.filteredProductGroupList.filter((function(e,r){return r===t.filteredProductGroupList.indexOf(e)}))})).catch((function(e){t.filteredProductGroupList=[]}))}},{key:"filterProductFamily",value:function(e){var t=this,r=e.query;this.rmanProducts=new m.b,this.rmanProducts.attribute2=r,this.productsService.getAllRmanProducts(this.paginationOptions,this.rmanProducts,!1).then((function(e){t.filteredProductFamilyList=e.content.map((function(e){return e.attribute2})),t.filteredProductFamilyList=t.filteredProductFamilyList.filter((function(e,r){return r===t.filteredProductFamilyList.indexOf(e)}))})).catch((function(e){t.filteredProductFamilyList=[]}))}},{key:"filterProductLine",value:function(e){var t=this,r=e.query;this.rmanProducts=new m.b,this.rmanProducts.attribute3=r,this.productsService.getAllRmanProducts(this.paginationOptions,this.rmanProducts,!1).then((function(e){t.filteredProductLineList=e.content.map((function(e){return e.attribute3})),t.filteredProductLineList=t.filteredProductLineList.filter((function(e,r){return r===t.filteredProductLineList.indexOf(e)}))})).catch((function(e){t.filteredProductLineList=[]}))}},{key:"dateCheck",value:function(e){this.fromDate&&this.toDate&&(this.dateFlag=this.fromDate>this.toDate)}},{key:"prepareRmanContHeaderVObject",value:function(){var e=[];e.push({label:"Select Contingency Name(*)",value:""}),this.rmanContHeaderVList.forEach((function(t){e.push({label:t.ruleName,value:t.ruleHeaderId})})),this.rmanContHeaderV=e}},{key:"submitConcurrentProgram",value:function(){var e=this;"CONT_RELEASE_PROG"===this.selectedProgram?this.displaySearchDialog=!0:"GL_JE_IMPORT_PROG"===this.selectedProgram?this.displayParamsDialog=!0:"CUSTOMERS_MERGE_JOB"===this.selectedProgram?this.displayCustomersParamsDialog=!0:(this.notificationService.showInfo("Job submitted and Running"),$.blockUI(),this.conurrentProgramsService.executeConcurrentprogram(this.selectedProgram).then((function(t){$.unblockUI(),t?e.notificationService.showSuccess("Job successfully completed"):e.notificationService.showError("Job execution failed")})).catch((function(t){$.unblockUI(),e.notificationService.showError("Job execution has been terminated")})))}},{key:"searchRCNumbers",value:function(e){var t=this;this.rmanDealArrangementsService.getAllRmanDealArrangements(this.paginationOptions,{dealArrangementNumber:e.query}).then((function(e){t.dealArrangementNumbers=e.content.map((function(e){return e.dealArrangementNumber}))})).catch((function(e){t.dealArrangementNumbers=[]}))}},{key:"searchUnpostedRCList",value:function(e){var t=this;this.conurrentProgramsService.fetchRCNumbers(e.query).then((function(e){t.dealArrangementNumbers=e.map((function(e){return e}))})).catch((function(e){t.dealArrangementNumbers=[]}))}},{key:"submitJEProgram",value:function(){var e=this;this.notificationService.showInfo("Job submitted and Running"),$.blockUI(),void 0===this.rcNumber&&(this.rcNumber=""),void 0===this.account&&(this.account=""),this.conurrentProgramsService.runJournalImport(this.account,this.rcNumber).then((function(t){$.unblockUI(),e.displayParamsDialog=!1,t?e.notificationService.showSuccess("Job Submitted successfully and Refresh the Jobs to Check Status"):e.notificationService.showError("Job execution failed")})).catch((function(t){$.unblockUI(),e.displayParamsDialog=!1,e.notificationService.showError("Job execution has been terminated")}))}},{key:"release",value:function(){var e=this;this.notificationService.showInfo("Job submitted and Running"),$.blockUI(),void 0===this.customerNumber&&(this.customerNumber=""),void 0===this.productGroup&&(this.productGroup=""),void 0===this.productFamily&&(this.productFamily=""),void 0===this.productLine&&(this.productLine=""),void 0===this.orderNumber&&(this.orderNumber=""),void 0===this.customerPo&&(this.customerPo=""),void 0===this.releaseDate&&(this.releaseDate=""),this.conurrentProgramsService.releaseContingency(this.headerId,new i.f("en-US").transform(this.fromDate,"yyyy-MM-dd"),new i.f("en-US").transform(this.toDate,"yyyy-MM-dd"),this.customerNumber,this.productGroup,this.productFamily,this.productLine,this.orderNumber,this.customerPo,new i.f("en-US").transform(this.releaseDate,"yyyy-MM-dd")).then((function(t){$.unblockUI(),e.displaySearchDialog=!1,t?e.notificationService.showSuccess("Job successfully completed"):e.notificationService.showError("Job execution failed")})).catch((function(t){$.unblockUI(),e.displaySearchDialog=!1,e.notificationService.showError("Job execution has been terminated")}))}},{key:"cancelSearch",value:function(){this.displaySearchDialog=!1,this.displayParamsDialog=!1,this.displayCustomersParamsDialog=!1}},{key:"onBeforeToggle",value:function(e){this.collapsed=e.collapsed}},{key:"getAllUploadLogsList",value:function(){this.__getData(this.paginationOptions)}},{key:"getAllUploadLogs",value:function(e){this.paginationOptions={pageNumber:e.first/e.rows,pageSize:this.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},this.loading=!0,this.__getData(this.paginationOptions)}},{key:"__getData",value:function(e){var t=this;this.conurrentProgramsService.fetchUploadLogs(e).then((function(e){t.loading=!1,t.fileLog=e.content,t.totalElements=e.totalElements,t.pageSize=e.size}))}},{key:"exportExcel",value:function(e){var t=this.conurrentProgramsService.exportArchiveFiles(e.attribute1,e.jobId,e.attribute3);window.location.href=t}},{key:"downloadFile",value:function(e){var t=this.conurrentProgramsService.downloadUploadedFile(e.jobId);window.location.href=t}},{key:"reset",value:function(e){this.paginationOptions={},e.reset()}},{key:"onSubmitCustomersMerge",value:function(){var e=this;this.notificationService.showInfo("Job submitted and Running"),$.blockUI(),this.conurrentProgramsService.customersMerge(this.selectedFromCustomer.customerNumber,this.selectedToCustomer.customerNumber).subscribe((function(t){e.notificationService.showSuccess("Job Submitted Successfully and Job ID is "+t),$.unblockUI()}),(function(t){e.notificationService.showError(t.error.message),$.unblockUI()})),this.displayCustomersParamsDialog=!1}},{key:"buildForm",value:function(){var e=this;this.contReleaseForm=this.formBuilder.group({sspGrule:["",[u.t.required]],FromDate:["",[u.t.required]],ToDate:["",[u.t.required]],customerNumber:["",[]],productGroup:["",[]],productFamily:["",[]],productLine:["",[]],orderNumber:["",[]],customerPo:["",[]],releaseDate:["",[u.t.required]]}),this.journalForm=this.formBuilder.group({account:["",[]],rcNumber:["",[]]}),this.customerMergeForm=this.formBuilder.group({selectedFromCustomer:["",[]],selectedToCustomer:["",[]]}),this.contReleaseForm.valueChanges.subscribe((function(t){return e.onValueChanged(t)})),this.onValueChanged()}},{key:"searchCustomerNames",value:function(e){var t=this;this.customersService.getAllRmanCustomers(this.paginationOptions,{customerName:e.query},!0).then((function(e){t.customers=e.content,t.customers.forEach((function(e){return e.label=e.customerName+" "+e.customerNumber}))})).catch((function(e){t.customers=[]}))}},{key:"onValueChanged",value:function(e){if(this.contReleaseForm){var t=this.contReleaseForm;for(var r in this.formErrors){this.formErrors[r]="";var o=t.get(r);if(o&&o.dirty&&!o.valid){var n=this.validationMessages[r];for(var a in o.errors)this.formErrors[r]+=n[a]+" "}}}}}]),t}()).\u0275fac=function(e){return new(e||Z)(g.Pb(y),g.Pb(h.a),g.Pb(l.a),g.Pb(u.c),g.Pb(b.a),g.Pb(p.a),g.Pb(U.a),g.Pb(P.a))},Z.\u0275cmp=g.Jb({type:Z,selectors:[["conurrentPrograms-data"]],features:[g.Db([y,l.a,b.a,p.a,U.a,P.a])],decls:127,vars:82,consts:[[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],["id","jobs_concurrent","header","Run Jobs",4,"isAuthorized"],["header","File Upload Log Info",3,"toggleable","onBeforeToggle"],["class","pull-right icons-list",4,"ngIf"],[1,"x-scroll"],["scrollable","true",1,"ui-datatable","arrangementMgrTbl",3,"value","loading","lazy","paginator","rows","totalRecords","onLazyLoad"],["dt",""],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Contingency Release Program","width","800","showEffect","fade",3,"visible","draggable","modal","blockScroll","visibleChange"],["invalidate","",3,"formGroup"],[1,"ui-grid","ui-grid-responsive","ui-fluid"],[1,"ui-g-12"],[1,"ui-g-6"],[1,"selectSpan"],[1,"red-color"],["name","sspGrule","id","sspGrule","formControlName","sspGrule","appendTo","body",1,"ml-auto",3,"options","ngModel","filter","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-g-6","pull-right"],["showAnim","slideDown","name","FromDate","inputStyleClass","textbox","id","FromDate","yearRange","1950:2030","appendTo","body","dateFormat","yy-mm-dd","placeholder","From Date","formControlName","FromDate",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],["showAnim","slideDown","name","ToDate","inputStyleClass","textbox","id","ToDate","yearRange","1950:2030","formControlName","ToDate","appendTo","body","dateFormat","yy-mm-dd","placeholder","To Date",3,"monthNavigator","yearNavigator","ngModel","ngModelChange"],[4,"ngIf"],[1,"md-inputfield"],["inputStyleClass","textbox","styleClass","wid100","id","customerNumber","appendTo","body","formControlName","customerNumber",3,"ngModel","suggestions","minLength","placeholder","ngModelChange","completeMethod","onFocus","onBlur"],["inputStyleClass","textbox","styleClass","wid100","id","productGroup","appendTo","body","formControlName","productGroup",3,"ngModel","suggestions","minLength","placeholder","ngModelChange","completeMethod","onFocus","onBlur"],["inputStyleClass","textbox","styleClass","wid100","id","productFamily","appendTo","body","formControlName","productFamily",3,"ngModel","suggestions","minLength","placeholder","ngModelChange","completeMethod","onFocus","onBlur"],["inputStyleClass","textbox","styleClass","wid100","id","productLine","appendTo","body","formControlName","productLine",3,"ngModel","suggestions","minLength","placeholder","ngModelChange","completeMethod","onFocus","onBlur"],["pInputText","","type","text","placeholder","Order PO","name","orderNumber","id","orderNumber","formControlName","orderNumber",1,"textbox",3,"ngModel","ngModelChange"],["pInputText","","type","text","placeholder","Customer PO","name","customerPo","id","customerPo","formControlName","customerPo",1,"textbox",3,"ngModel","ngModelChange"],["showAnim","slideDown","name","releaseDate","inputStyleClass","textbox","id","releaseDate","yearRange","1950:2030","dateFormat","yy-mm-dd","placeholder","Release Date","appendTo","body","formControlName","releaseDate",3,"monthNavigator","yearNavigator","minDate","ngModel","ngModelChange"],[1,"ui-dialog-buttonpane","ui-widget-content","ui-helper-clearfix"],["type","submit","pButton","","label","Release",1,"primary-btn",3,"disabled","click"],["type","button","pButton","","label","Cancel",1,"secondary-btn",3,"click"],["header","Journal Import Program","width","800","showEffect","fade",3,"visible","draggable","modal","blockScroll","visibleChange"],[1,"md-outputfield"],["for","period"],["type","submit","pButton","","label","Submit",1,"primary-btn",3,"click"],["header","Customer Merge Job","width","800","showEffect","fade",3,"visible","draggable","modal","blockScroll","visibleChange"],["inputStyleClass","textbox","styleClass","wid100","appendTo","body","placeholder","Customer Name Type atleast 3 Characters","id","from","field","label",3,"suggestions","minLength","ngModelOptions","ngModel","completeMethod","ngModelChange"],["id","jobs_concurrent","header","Run Jobs"],[3,"options","ngModel","ngModelChange"],[1,"ui-g-2"],["type","submit","pButton","","label","Run Job",1,"primary-btn",3,"disabled","click"],[1,"pull-right","icons-list"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],[1,"number"],[4,"isAuthorized"],[3,"pSelectableRow"],[3,"title"],[1,"number",3,"title"],["title","Download",4,"isAuthorized"],["title","Download"],["title","Download",1,"download-icon",3,"click"],[1,"fa","fa-download"],[1,"no-data"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(e,t){1&e&&(g.Vb(0,"div",0),g.Vb(1,"div",1),g.Vb(2,"div",2),g.Vb(3,"div",3),g.Vb(4,"div",4),g.Kc(5,T,8,3,"p-panel",5),g.Vb(6,"p-panel",6),g.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),g.Vb(7,"p-header"),g.Kc(8,A,3,0,"div",7),g.Ub(),g.Vb(9,"div",8),g.Vb(10,"p-table",9,10),g.dc("onLazyLoad",(function(e){return t.getAllUploadLogs(e)})),g.Kc(12,k,29,2,"ng-template",11),g.Kc(13,_,24,33,"ng-template",12),g.Kc(14,J,1,1,"ng-template",13),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(15,"p-dialog",14),g.dc("visibleChange",(function(e){return t.displaySearchDialog=e})),g.Vb(16,"form",15),g.Vb(17,"div",16),g.Vb(18,"div",17),g.Vb(19,"div",18),g.Vb(20,"span",19),g.Mc(21," Name "),g.Vb(22,"span",20),g.Mc(23,"*"),g.Ub(),g.Ub(),g.Vb(24,"p-dropdown",21),g.dc("ngModelChange",(function(e){return t.headerId=e})),g.Ub(),g.Kc(25,x,2,1,"div",22),g.Ub(),g.Vb(26,"div",23),g.Vb(27,"span",19),g.Mc(28,"From Date "),g.Vb(29,"span",20),g.Mc(30,"*"),g.Ub(),g.Ub(),g.Vb(31,"p-calendar",24),g.dc("ngModelChange",(function(e){return t.fromDate=e}))("ngModelChange",(function(e){return t.dateCheck(e)})),g.Ub(),g.Kc(32,q,2,1,"div",22),g.Ub(),g.Ub(),g.Vb(33,"div",17),g.Vb(34,"div",18),g.Vb(35,"span",19),g.Mc(36,"To Date"),g.Vb(37,"span",20),g.Mc(38,"*"),g.Ub(),g.Ub(),g.Vb(39,"p-calendar",25),g.dc("ngModelChange",(function(e){return t.toDate=e}))("ngModelChange",(function(e){return t.dateCheck(e)})),g.Ub(),g.Kc(40,B,2,1,"div",22),g.Kc(41,j,3,0,"div",26),g.Ub(),g.Vb(42,"div",23),g.Vb(43,"span",27),g.Vb(44,"span",19),g.Mc(45,"Customer Number"),g.Qb(46,"span",20),g.Ub(),g.Vb(47,"p-autoComplete",28),g.dc("ngModelChange",(function(e){return t.customerNumber=e}))("completeMethod",(function(e){return t.filterCustomerNumber(e)}))("onFocus",(function(){return t.customerNamePlaceHolder="Type atleast 1 character, ex: 1"}))("onBlur",(function(){return t.customerNamePlaceHolder=""})),g.Ub(),g.Kc(48,H,2,1,"div",22),g.Ub(),g.Ub(),g.Ub(),g.Vb(49,"div",17),g.Vb(50,"div",18),g.Vb(51,"span",27),g.Vb(52,"span",19),g.Mc(53,"Product Group"),g.Qb(54,"span",20),g.Ub(),g.Vb(55,"p-autoComplete",29),g.dc("ngModelChange",(function(e){return t.productGroup=e}))("completeMethod",(function(e){return t.filterProductGroup(e)}))("onFocus",(function(){return t.productGroupPlaceHolder="Type atleast 1 character, ex: a"}))("onBlur",(function(){return t.productGroupPlaceHolder=""})),g.Ub(),g.Kc(56,z,2,1,"div",22),g.Ub(),g.Ub(),g.Vb(57,"div",23),g.Vb(58,"span",27),g.Vb(59,"span",19),g.Mc(60,"Product Family"),g.Qb(61,"span",20),g.Ub(),g.Vb(62,"p-autoComplete",30),g.dc("ngModelChange",(function(e){return t.productFamily=e}))("completeMethod",(function(e){return t.filterProductFamily(e)}))("onFocus",(function(){return t.productFamilyPlaceHolder="Type atleast 1 character, ex: a"}))("onBlur",(function(){return t.productFamilyPlaceHolder=""})),g.Ub(),g.Kc(63,K,2,1,"div",22),g.Ub(),g.Ub(),g.Ub(),g.Vb(64,"div",17),g.Vb(65,"div",18),g.Vb(66,"span",27),g.Vb(67,"span",19),g.Mc(68,"Product Line"),g.Qb(69,"span",20),g.Ub(),g.Vb(70,"p-autoComplete",31),g.dc("ngModelChange",(function(e){return t.productLine=e}))("completeMethod",(function(e){return t.filterProductLine(e)}))("onFocus",(function(){return t.productLinePlaceHolder="Type atleast 1 character, ex: a"}))("onBlur",(function(){return t.productLinePlaceHolder=""})),g.Ub(),g.Kc(71,Q,2,1,"div",22),g.Ub(),g.Ub(),g.Vb(72,"div",23),g.Vb(73,"span",27),g.Vb(74,"span",19),g.Mc(75,"Order Number"),g.Qb(76,"span",20),g.Ub(),g.Vb(77,"input",32),g.dc("ngModelChange",(function(e){return t.orderNumber=e})),g.Ub(),g.Kc(78,W,2,1,"div",22),g.Ub(),g.Ub(),g.Ub(),g.Vb(79,"div",17),g.Vb(80,"div",18),g.Vb(81,"span",27),g.Vb(82,"span",19),g.Mc(83,"Customer PO"),g.Qb(84,"span",20),g.Ub(),g.Vb(85,"input",33),g.dc("ngModelChange",(function(e){return t.customerPo=e})),g.Ub(),g.Kc(86,Y,2,1,"div",22),g.Ub(),g.Ub(),g.Vb(87,"div",23),g.Vb(88,"span",19),g.Mc(89,"Release Date"),g.Vb(90,"span",20),g.Mc(91,"*"),g.Ub(),g.Ub(),g.Vb(92,"p-calendar",34),g.dc("ngModelChange",(function(e){return t.releaseDate=e})),g.Ub(),g.Kc(93,X,2,1,"div",22),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(94,"p-footer"),g.Vb(95,"div",35),g.Vb(96,"button",36),g.dc("click",(function(){return t.release()})),g.Ub(),g.Vb(97,"button",37),g.dc("click",(function(){return t.cancelSearch()})),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(98,"p-dialog",38),g.dc("visibleChange",(function(e){return t.displayParamsDialog=e})),g.Vb(99,"form",15),g.Vb(100,"div",16),g.Vb(101,"div",17),g.Vb(102,"div",18),g.Vb(103,"span",39),g.Vb(104,"label",40),g.Mc(105),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(106,"p-footer"),g.Vb(107,"div",35),g.Vb(108,"button",41),g.dc("click",(function(){return t.submitJEProgram()})),g.Ub(),g.Vb(109,"button",37),g.dc("click",(function(){return t.cancelSearch()})),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(110,"p-dialog",42),g.dc("visibleChange",(function(e){return t.displayCustomersParamsDialog=e})),g.Vb(111,"form",15),g.Vb(112,"div",16),g.Vb(113,"div",17),g.Vb(114,"div",18),g.Vb(115,"span",19),g.Mc(116,"From Customer"),g.Ub(),g.Vb(117,"p-autoComplete",43),g.dc("completeMethod",(function(e){return t.searchCustomerNames(e)}))("ngModelChange",(function(e){return t.selectedFromCustomer=e})),g.Ub(),g.Ub(),g.Ub(),g.Vb(118,"div",17),g.Vb(119,"div",18),g.Vb(120,"span",19),g.Mc(121,"To Customer"),g.Ub(),g.Vb(122,"p-autoComplete",43),g.dc("completeMethod",(function(e){return t.searchCustomerNames(e)}))("ngModelChange",(function(e){return t.selectedToCustomer=e})),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(123,"p-footer"),g.Vb(124,"div",35),g.Vb(125,"button",41),g.dc("click",(function(){return t.onSubmitCustomersMerge()})),g.Ub(),g.Vb(126,"button",37),g.dc("click",(function(){return t.cancelSearch()})),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&e&&(g.Eb(5),g.oc("isAuthorized",g.rc(78,te)),g.Eb(1),g.Ic(g.rc(79,re)),g.oc("toggleable",!1),g.Eb(2),g.oc("ngIf",t.collapsed),g.Eb(2),g.oc("value",t.fileLog)("loading",t.loading)("lazy",!0)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalElements),g.Eb(5),g.oc("visible",t.displaySearchDialog)("draggable",!0)("modal",!0)("blockScroll",!0),g.Eb(1),g.oc("formGroup",t.contReleaseForm),g.Eb(8),g.oc("options",t.rmanContHeaderV)("ngModel",t.headerId)("filter",!0),g.Eb(1),g.oc("ngIf",t.formErrors.sspGrule),g.Eb(6),g.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",t.fromDate),g.Eb(1),g.oc("ngIf",t.formErrors.FromDate),g.Eb(7),g.oc("monthNavigator",!0)("yearNavigator",!0)("ngModel",t.toDate),g.Eb(1),g.oc("ngIf",t.formErrors.ToDate),g.Eb(1),g.oc("ngIf",t.dateFlag),g.Eb(6),g.pc("placeholder",t.customerNamePlaceHolder),g.oc("ngModel",t.customerNumber)("suggestions",t.filteredCustomerNumberList)("minLength",1),g.Eb(1),g.oc("ngIf",t.formErrors.customerNumber),g.Eb(7),g.pc("placeholder",t.productGroupPlaceHolder),g.oc("ngModel",t.productGroup)("suggestions",t.filteredProductGroupList)("minLength",1),g.Eb(1),g.oc("ngIf",t.formErrors.productGroup),g.Eb(6),g.pc("placeholder",t.productFamilyPlaceHolder),g.oc("ngModel",t.productFamily)("suggestions",t.filteredProductFamilyList)("minLength",1),g.Eb(1),g.oc("ngIf",t.formErrors.productFamily),g.Eb(7),g.pc("placeholder",t.productLinePlaceHolder),g.oc("ngModel",t.productLine)("suggestions",t.filteredProductLineList)("minLength",1),g.Eb(1),g.oc("ngIf",t.formErrors.productLine),g.Eb(6),g.oc("ngModel",t.orderNumber),g.Eb(1),g.oc("ngIf",t.formErrors.orderNumber),g.Eb(7),g.oc("ngModel",t.customerPo),g.Eb(1),g.oc("ngIf",t.formErrors.customerPo),g.Eb(6),g.oc("monthNavigator",!0)("yearNavigator",!0)("minDate",t.minimumDate)("ngModel",t.releaseDate),g.Eb(1),g.oc("ngIf",t.formErrors.releaseDate),g.Eb(3),g.oc("disabled",!t.contReleaseForm.valid),g.Eb(2),g.oc("visible",t.displayParamsDialog)("draggable",!0)("modal",!0)("blockScroll",!0),g.Eb(1),g.oc("formGroup",t.journalForm),g.Eb(6),g.Oc("**Jounral Export Job Submit for the Current Period of ",t.currentPeriod.periodName,""),g.Eb(5),g.oc("visible",t.displayCustomersParamsDialog)("draggable",!0)("modal",!0)("blockScroll",!0),g.Eb(1),g.oc("formGroup",t.customerMergeForm),g.Eb(6),g.oc("suggestions",t.customers)("minLength",3)("ngModelOptions",g.rc(80,oe))("ngModel",t.selectedFromCustomer),g.Eb(5),g.oc("suggestions",t.customers)("minLength",3)("ngModelOptions",g.rc(81,oe))("ngModel",t.selectedToCustomer))},directives:[E.a,C.a,V.c,i.o,N.j,V.f,M.a,u.v,u.l,u.g,S.a,u.k,u.e,D.a,L.a,u.b,R.a,V.b,F.b,u.n,N.i],pipes:[i.f],encapsulation:2}),Z),ie=n("PCNd"),ce=n("uwUq"),se=[{path:"",component:ae}],ue=((ee=function t(){e(this,t)}).\u0275mod=g.Nb({type:ee}),ee.\u0275inj=g.Mb({factory:function(e){return new(e||ee)},providers:[{provide:c.a,useClass:ce.a,multi:!0}],imports:[[i.c,ie.a,c.c,s.k.forChild(se),c.d.withOptions({cookieName:"CSRF-TOKEN",headerName:"X-CSRF-TOKEN"})]]}),ee)}}])}();