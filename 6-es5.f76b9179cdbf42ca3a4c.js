!function(){function t(t,a){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=r(t))||a&&t&&"number"==typeof t.length){i&&(t=i);var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,h=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){h=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(h)throw o}}}}function a(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,a){if(t){if("string"==typeof t)return i(t,a);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,a):void 0}}function i(t,a){(null==a||a>t.length)&&(a=t.length);for(var r=0,i=new Array(a);r<a;r++)i[r]=t[r];return i}function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function n(t,a){for(var r=0;r<a.length;r++){var i=a[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,a,r){return a&&n(t.prototype,a),r&&n(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{gJyg:function(r,i,n){"use strict";n.d(i,"a",(function(){return v}));var s=n("cBSm"),h=n("1adA"),l=n("JSOo"),u=n("fXoL"),c=n("ofXK"),d=n("LPYB"),f=["chart"];function p(t,a){if(1&t){var r=u.Wb();u.Vb(0,"canvas",1),u.dc("chartClick",(function(t){return u.Dc(r),u.gc().onBarClick(t)})),u.Ub()}if(2&t){var i=u.gc();u.oc("datasets",i.barChartData)("labels",i.barChartLabels)("options",i.barChartOptions)("plugins",i.barChartPlugins)("legend",i.barChartLegend)("chartType",i.barChartType)}}var v=function(){var r=function(){function r(t,a){e(this,r),this.drillDownService=t,this.commonSharedService=a,this.chartData=[],this.currentUrl="",this.isDrillDown=null,this.month="month",this.quarter="quarter",this.year="year",this.ShowHideChart=!0,this.values=[],this.legends=[],this.barChartLabels=[],this.barChartData=[],this.barChartOptions={responsive:!0,legend:{position:"bottom"}},this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[],this.chartReady=!1,this.clicksCount=0,this.reachedYear=!1,this.type="",this.orientation="",this.flipChart=!1,this.showLegend=!0,this.caption="",this.description="",this.padding={left:10,top:5,right:25,bottom:0},this.titlePadding={left:90,top:0,right:0,bottom:10},this.dataSource=this.chartData,this.colorScheme="scheme29",this.animationDuration=400,this.xAxis={dataField:"",unitInterval:1,textRotationAngle:0,valuesOnTicks:!0,tickMarks:{visible:!0,unitInterval:1,color:"#888888"},gridLines:{visible:!1,unitInterval:1,color:"#888888"}},this.valueAxis={unitInterval:10,minValue:0,maxValue:1e10,visible:!0,axisSize:"auto",flip:!1,textRotationAngle:0,tickMarks:{color:"#888888"},gridLines:{color:"#888888"},formatSettings:{decimalPlaces:0}},this.seriesGroups=[]}return o(r,[{key:"ngOnInit",value:function(){this.getChartData()}},{key:"onBarClick",value:function(t){t.active.length>0&&null==t.detail&&(this.columnData.rowGroup[0]==this.year?(this.isDrillDown=!0,localStorage.setItem("reachedYear","true"),this.getChartData()):this.columnData.rowGroup[0]==this.quarter?("true"==localStorage.getItem("reachedYear")?(this.isDrillDown=!0,localStorage.setItem("reachedYear","false")):this.isDrillDown=!1,this.getChartData()):(this.isDrillDown=!1,this.getChartData()))}},{key:"getChartData",value:function(){var r=this;this.legends=[],this.barChartData=[],this.caption=this.title?this.title.dataset.value:"",this.desc=this.desc?this.desc.dataset.value:"","/"==this.routeUrl||"/dashboard"==this.routeUrl?(this.chartdynamicWidth="385px",this.chartDynamicHeight="350px",this.leftPadding="-15px"):(this.chartdynamicWidth="1350px",this.chartDynamicHeight="500px");var i=[];this.columnData.rowGroup&&(this.isDrillDown?this.columnData.rowGroup[0]==this.year?this.columnData.rowGroup[0]=this.quarter:this.columnData.rowGroup[0]==this.quarter&&(this.columnData.rowGroup[0]=this.month):!1===this.isDrillDown&&(this.columnData.rowGroup[0]==this.month?this.columnData.rowGroup[0]=this.quarter:this.columnData.rowGroup[0]==this.quarter&&(this.columnData.rowGroup[0]=this.year)),i.push.apply(i,a(this.columnData.rowGroup))),this.columnData.pivot&&i.push.apply(i,a(this.columnData.pivot));for(var e=["year","quarter","month","customer"],n=null,o=[],s=0;s<i.length;s++)if(-1!=e.indexOf(i[s])){n=i[s],o=this.columnData.rowGroup||s<this.columnData.rowGroup.length-1?this.columnData.pivot:this.columnData.rowGroup;break}var h={};if(("/"==this.routeUrl||"/dashboard"==this.routeUrl)&&this.drillDownService.reportsArrangementData.length>0){var l=this.drillDownService.reportsArrangementData.filter((function(t){return t.id===r.reportId}));this.drillDownService.arrangementsData=null==l[0].data?[]:l[0].data}this.drillDownService.arrangementsData.forEach((function(a){h[a[n]]||(h[a[n]]={});var i,e=h[a[n]],s=t(r.columnData.summary);try{for(s.s();!(i=s.n()).done;){var l=i.value;e[l.label]||(e[l.label]={});var u=e[l.label];o&&o.length||(o=["All"]);var c,d=t(o);try{for(d.s();!(c=d.n()).done;){var f=a[c.value];u[f]||(u[f]=0),u[f]+=a[l.name]}}catch(p){d.e(p)}finally{d.f()}}}catch(p){s.e(p)}finally{s.f()}}));var u=0,c=[],d=[];if("/"==this.routeUrl||"/dashboard"==this.routeUrl){var f=0,p=0,v=0;for(var m in h){var g=3;if("customer"==n&&(g=4),f<=g){var b={};for(var D in b[n]=m,v=0,h[m]){if(0==v)for(var y in p=0,h[m][D]){if(p<=1){var w=h[m][D][y];b[D+y]=w,w>u&&(u=w),d[D]||(d[D]={}),d[D][y]=""}p++}v++}c.push(b)}f++}}else for(var x in h){var C={};for(var S in C[n]=x,h[x])for(var A in h[x][S]){var I=h[x][S][A];C[S+A]=I,I>u&&(u=I),d[S]||(d[S]={}),d[S][A]=""}c.push(C)}if("/"!=this.routeUrl&&"/dashboard"!=this.routeUrl&&"customer"==n&&c){var k=c.length;if(k>10){var G=30*k;G>500&&(this.chartDynamicHeight=G+"px")}}for(var M in d){"customer"==n&&(this.orientation="horizontal");var L=!1;this.columnData.pivot||(L=!1);var U={type:"stackedcolumn",orientation:this.orientation,columnsMinWidth:15,columnsMaxWidth:15,columnsGapPercent:50,seriesGapPercent:1e3,series:[],showLabels:L};for(var P in d[M]){var O=void 0,T=void 0;this.columnData.pivot||(O="customer"==n?{visible:!0,horizontalAlignment:"right",offset:{x:50,y:0}}:{visible:!0,verticalAlignment:"top",offset:{x:0,y:-20}},T=function(t){var a;return Number.isNaN(t)?null:0==t?0:t<1e3?Math.floor(t).toFixed(2):(a=Math.floor(Math.log(t)/Math.log(1e3)),(t/Math.pow(1e3,a)).toFixed(2)+["K","M","G","T","P","E"][a-1])}),U.series.push({dataField:M+P,displayText:("undefined"!=P?P:"")+" "+M,labels:O,formatFunction:T}),this.legends.push(M+P)}this.seriesGroups.push(U)}this.xAxis.dataField=n,this.dataSource=c,this.valueAxis.minValue=0,this.valueAxis.maxValue=u,this.valueAxis.axisSize="auto","customer"==n?(this.valueAxis.flip=!0,this.xAxis.textRotationAngle=90,this.valueAxis.textRotationAngle=-75):this.valueAxis.flip=!1;var R=Math.ceil(u)/10;this.valueAxis.unitInterval=Math.ceil(u+(R+R/2))/10,(this.isDrillDown||!1===this.isDrillDown)&&(this.drillDownService.showChart=!1,setTimeout((function(){r.drillDownService.showChart=!0}),0));for(var F=[],q=n,E=0;E<this.dataSource.length;E++)F.push(this.dataSource[E][q]);this.barChartLabels=F;for(var J={},V=0;V<this.legends.length;V++){this.values=[];for(var W=0;W<c.length;)this.values.push(null!=c[W][this.legends[V]]?c[W][this.legends[V]]:0),W++;J[V]={data:this.values,label:this.legends[V]},this.barChartData.push(J[V])}this.chartReady=!0}}]),r}();return r.\u0275fac=function(t){return new(t||r)(u.Pb(h.a),u.Pb(l.a))},r.\u0275cmp=u.Jb({type:r,selectors:[["data-chart"]],viewQuery:function(t,a){var r;1&t&&u.Qc(f,!0,s.a),2&t&&u.Ac(r=u.ec())&&(a.chart=r.first)},inputs:{columnData:"columnData",title:"title",desc:"desc",routeUrl:"routeUrl",reportId:"reportId"},features:[u.Db([l.a])],decls:1,vars:1,consts:[["id","barchart","baseChart","","height","200",3,"datasets","labels","options","plugins","legend","chartType","chartClick",4,"ngIf"],["id","barchart","baseChart","","height","200",3,"datasets","labels","options","plugins","legend","chartType","chartClick"]],template:function(t,a){1&t&&u.Kc(0,p,1,6,"canvas",0),2&t&&u.oc("ngIf",a.chartReady&&0!=a.barChartLabels.length)},directives:[c.o,d.a],encapsulation:2}),r}()},puOX:function(r,i,n){"use strict";n.d(i,"a",(function(){return v}));var s=n("cBSm"),h=n("1adA"),l=n("JSOo"),u=n("fXoL"),c=n("ofXK"),d=n("LPYB"),f=["chart"];function p(t,a){if(1&t&&u.Qb(0,"canvas",1),2&t){var r=u.gc();u.oc("data",r.doughnutChartData)("labels",r.doughnutChartLabels)("chartType","doughnut")("options",r.doughnutChartOptions)}}var v=function(){var r=function(){function r(t,a){e(this,r),this.drillDownService=t,this.commonSharedService=a,this.chartData=[],this.currentUrl="",this.doughnutChartType="doughnut",this.chartReady=!1,this.doughnutChartOptions={responsive:!0,legend:{position:"bottom"}},this.formartFunction=function(t){var a;return Number.isNaN(t)?null:0==t?0:t<1e3?Math.floor(t).toFixed(2):(a=Math.floor(Math.log(t)/Math.log(1e3)),(t/Math.pow(1e3,a)).toFixed(2)+["K","M","G","T","P","E"][a-1])},this.type="",this.orientation="",this.flipChart=!1,this.showLegend=!0,this.caption="",this.description="",this.legendPosition={left:520,top:140,width:100,height:100},this.padding={left:5,top:5,right:5,bottom:0},this.titlePadding={left:90,top:0,right:0,bottom:10},this.dataSource=this.chartData,this.colorScheme="scheme29",this.xAxis={dataField:"",unitInterval:1,textRotationAngle:0,valuesOnTicks:!0,tickMarks:{visible:!0,unitInterval:1,color:"#888888"},gridLines:{visible:!1,unitInterval:1,color:"#888888"}},this.valueAxis={unitInterval:1,minValue:0,maxValue:0,visible:!0,axisSize:"auto",flip:!1,textRotationAngle:0,tickMarks:{color:"#888888"},gridLines:{color:"#888888"},formatSettings:{decimalPlaces:0}},this.seriesGroups=[]}return o(r,[{key:"ngOnInit",value:function(){this.getChartData()}},{key:"getChartData",value:function(){var r=this;this.caption=this.title?this.title.dataset.value:"",this.description=this.desc?this.desc.dataset.value:"","/"==this.routeUrl||"/dashboard"==this.routeUrl?(this.chartdynamicWidth="350px",this.chartDynamicHeight="350px",this.labelRadius=110,this.initialAngle=15,this.radius=100,this.centerOffset=0):(this.chartdynamicWidth="1350px",this.chartDynamicHeight="500px",this.labelRadius=200,this.initialAngle=15,this.radius=170,this.centerOffset=0);var i=[];this.columnData.rowGroup&&i.push.apply(i,a(this.columnData.rowGroup)),this.columnData.pivot&&i.push.apply(i,a(this.columnData.pivot));for(var e=["year","quarter","month","customer"],n=null,o=[],s=0;s<i.length;s++)if(-1!=e.indexOf(i[s])){n=i[s],this.columnData.rowGroup||s<this.columnData.rowGroup.length-1||(o=this.columnData.rowGroup);break}var h={};if(("/"==this.routeUrl||"/dashboard"==this.routeUrl)&&this.drillDownService.reportsArrangementData.length>0){var l=this.drillDownService.reportsArrangementData.filter((function(t){return t.id===r.reportId}));this.drillDownService.arrangementsData=null==l[0].data?[]:l[0].data}this.drillDownService.arrangementsData.forEach((function(a){h[a[n]]||(h[a[n]]={});var i,e=h[a[n]],s=t(r.columnData.summary);try{for(s.s();!(i=s.n()).done;){var l=i.value;e[l.label]||(e[l.label]={});var u=e[l.label];o&&o.length||(o=["All"]);var c,d=t(o);try{for(d.s();!(c=d.n()).done;){var f=a[c.value];u[f]||(u[f]=0),u[f]+=a[l.name]}}catch(p){d.e(p)}finally{d.f()}}}catch(p){s.e(p)}finally{s.f()}}));var u,c=[],d=[],f=[];for(var p in h){var v={};for(var m in v[n]=p,h[p])for(var g in h[p][m]){var b="'"+m+"'";v[b]=h[p][m][g],u=b}c.push(v)}"customer"==n&&c.length>10&&c.splice(10,c.length-1-10),this.dataSource=c;for(var D=n,y=0;y<this.dataSource.length;y++)d.push(this.dataSource[y][D]),f.push(this.dataSource[y][u]);this.doughnutChartLabels=d,this.doughnutChartData=f,this.chartReady=!0}}]),r}();return r.\u0275fac=function(t){return new(t||r)(u.Pb(h.a),u.Pb(l.a))},r.\u0275cmp=u.Jb({type:r,selectors:[["pie-data-chart"]],viewQuery:function(t,a){var r;1&t&&u.Qc(f,!0,s.a),2&t&&u.Ac(r=u.ec())&&(a.chart=r.first)},inputs:{columnData:"columnData",title:"title",desc:"desc",routeUrl:"routeUrl",reportId:"reportId"},features:[u.Db([l.a])],decls:1,vars:1,consts:[["baseChart","","height","200",3,"data","labels","chartType","options",4,"ngIf"],["baseChart","","height","200",3,"data","labels","chartType","options"]],template:function(t,a){1&t&&u.Kc(0,p,1,4,"canvas",0),2&t&&u.oc("ngIf",a.chartReady&&0!=a.doughnutChartLabels.length)},directives:[c.o,d.a],encapsulation:2}),r}()}}])}();