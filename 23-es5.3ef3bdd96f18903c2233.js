!function(){function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"Tva+":function(i,o,a){"use strict";a.r(o),a.d(o,"DealManagerModule",(function(){return Cn}));var c,r=a("ofXK"),s=a("FpCA"),d=a("J7oY"),u=a("JSOo"),g=a("+yMW"),f=a("fXoL"),h=a("tk/3"),b=((c=function(){function e(t){n(this,e),this.http=t}return l(e,[{key:"getDealsSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:0,size:10},i=e.revenueGuidance,n=e.dealStatus,o=e.globalSearch,l=t.page,a=t.size;return this.http.get(i||n?"".concat(g.apiUrl,"/fetchDealSummaryDataGlobalSearch?search=").concat(i?"revenueGuidance:".concat(i,","):"").concat(n?"dealStatus:"+n:"","&globalSearch=").concat(o,"&page=").concat(l,"&size=").concat(a):"".concat(g.apiUrl,"/fetchDealSummaryDataGlobalSearch?search=%25&globalSearch=").concat(o,"&page=").concat(l,"&size=").concat(a))}},{key:"getDealRollUpSummaryData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"D",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.http.get(i?"".concat(g.apiUrl,"/fetchDealRollupSummaryData?dealArrgId=").concat(e,"&dealQuoteFlag=").concat(t,"&currencyType=USD&page=").concat(n,"&size=10"):"".concat(g.apiUrl,"/fetchDealRollupSummaryData?dealArrgId=").concat(e,"&dealQuoteFlag=").concat(t,"&page=").concat(n,"&size=10"))}},{key:"getSummaryDataTotals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"D",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.http.get(i?"".concat(g.apiUrl,"/fetchDealRollupSummaryDataTotals?dealArrgId=").concat(e,"&dealQuoteFlag=").concat(t,"&currencyType=USD"):"".concat(g.apiUrl,"/fetchDealRollupSummaryDataTotals?dealArrgId=").concat(e,"&dealQuoteFlag=").concat(t))}},{key:"getSummaryExportUrl",value:function(e,t){var i=e.revenueGuidance,n=e.dealStatus,o=e.globalSearch;return g.apiUrl+"/dealSummaryDataExport?search=".concat(i?"revenueGuidance:".concat(i,","):"").concat(n?"dealStatus:"+n:"","&globalSearch=").concat(o,"&exportCols=").concat(t.join(","))}},{key:"getRollUpExportUrl",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return i?g.apiUrl+"/dealRollupViewExport?dealArrgId=".concat(e,"&dealQuoteFlag=").concat(t,"&currencyType=USD&exportCols=").concat(n.join(",")):g.apiUrl+"/dealRollupViewExport?dealArrgId=".concat(e,"&dealQuoteFlag=").concat(t,"&exportCols=").concat(n.join(","))}},{key:"getDealComments",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.http.get("".concat(g.apiUrl,"/fetchDealUserComments?search=dealArrangementId:").concat(e,"&page=").concat(t,"&size=5"))}},{key:"addDealComment",value:function(e){return this.http.post(g.apiUrl+"/AYARA_DEAL_USER_COMMENTS",e)}}]),e}()).\u0275fac=function(e){return new(e||c)(f.Zb(h.b))},c.\u0275prov=f.Lb({token:c,factory:c.\u0275fac}),c),p=a("vkgz"),m=[{field:"dealQuoteNum",header:"Deal Number",showField:!0,drag:!0,alignment:"left",display:"table-cell",type:"text",footer:"totals"},{field:"productCatgeory",header:"Product Category",showField:!0,drag:!0,alignment:"left",display:"table-cell",type:"text",footer:"empty"},{field:"extendedListAmount",header:"Ext List Amount",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"totalExtendedListAmt"},{field:"lineAmount",header:"Bookings Value",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"totalLineAmt"},{field:"discount",header:"Discount",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"percent",footer:"totalDiscount"},{field:"revenueAmount",header:"Revenue Amount",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"totalAllocationAmt"},{field:"carveInOut",header:"Carve In/ Out",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"totalCarveInOut"},{field:"grossMarginPercentage",header:"Gross Margin%",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"percent",footer:"totalGrossMarginPercent"},{field:"allocationMarginPercentage",header:"Allocated Margin%",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"percent",footer:"totalAllocatedMarginPercent"},{field:"revenueAdjustment",header:"Adjusted Revenue",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"totalRevenueAdjustment"},{field:"lineCost",header:"Standard Cost",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"parentheses",footer:"totalStandardCost"},{field:"adjLineCost",header:"Adjusted Cost",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"parentheses",footer:"totalAdjustedCost"},{field:"grossMargin",header:"Gross Margin",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"round",footer:"totalGrossMargin"},{field:"allocatedMarginAmount",header:"Allocated Margin",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"round",footer:"totalAllocatedMarginAmount"}],v=[{field:"dealNumber",header:"Deal Number",showField:!0,drag:!0,display:"table-cell",type:"link"},{field:"customerName",header:"Account",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"trxCurrency",header:"Currency",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"amount",header:"Amount",showField:!0,drag:!0,display:"table-cell",type:"round"},{field:"legalEntityName",header:"Legal Entity",showField:!0,drag:!0,display:"table-cell",type:"text"},{field:"dealDate",header:"Deal Date",showField:!0,drag:!0,display:"table-cell",type:"date"},{field:"revenueGuidance",header:"Guidance",showField:!0,drag:!0,display:"table-cell",type:"symbol"},{field:"dealStatus",header:"Status",drag:!0,showField:!0,display:"table-cell",type:"text"}],y=[{field:"pobGrouping",header:"POB ID",showField:!0,drag:!0,alignment:"left",display:"table-cell",type:"text",footer:"empty",isFrozen:!1},{field:"arrgLineNumber",header:"Revenue Contract Line#",showField:!0,drag:!0,alignment:"left",display:"table-cell",type:"number",footer:"empty",isFrozen:!1},{field:"customerPoNum",header:"PO",showField:!0,drag:!0,display:"table-cell",type:"number",footer:"empty"},{field:"orderNumber",header:"SO#",showField:!0,drag:!0,alignment:"left",display:"table-cell",type:"number",footer:"empty",isFrozen:!1},{field:"sourceLineNumber",header:"SO Line#",showField:!0,drag:!0,alignment:"left",display:"table-cell",type:"number",footer:"empty",isFrozen:!1},{field:"dealNumber",header:"Contract/Deal#",showField:!0,drag:!0,alignment:"left",display:"table-cell",type:"number",footer:"empty",isFrozen:!1},{field:"dealLineNumber",header:"Line#",showField:!0,drag:!0,alignment:"left",display:"table-cell",type:"number",footer:"empty",isFrozen:!1},{field:"productName",header:"Product Name",drag:!0,showField:!0,alignment:"left",display:"table-cell",type:"text",footer:"empty",isFrozen:!1},{field:"productDescription",header:"Product Description",drag:!0,showField:!0,alignment:"left",display:"table-cell",type:"text",footer:"empty",isFrozen:!1},{field:"uomCode",header:"UOM",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"text",footer:"empty",isFrozen:!1},{field:"quantity",header:"Quantity",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"number",footer:"empty",isFrozen:!1},{field:"dealCurrencyCode",header:"Currency",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"text",footer:"empty",isFrozen:!1},{field:"unitListPrice",header:"Unit List Price",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"round",footer:"empty",isFrozen:!1},{field:"unitSellingPrice",header:"Unit Selling Price",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"round",footer:"empty",isFrozen:!1},{field:"netPriceDiscount",header:"Net Price Discount%",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"percent",footer:"totals",isFrozen:!1},{field:"extendedListAmount",header:"Extended List Amount",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"round",footer:"totalListAmount",isFrozen:!1},{field:"lineAmount",header:"Bookings Value",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"lineAmountTotal",isFrozen:!1},{field:"vc",header:"Variable Consideration",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"vcTotal",isFrozen:!1},{field:"allocableAmount",header:"Allocable Net Price",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"allocableNetTotal",isFrozen:!1},{field:"elementType",header:"Element Type",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"text",footer:"empty",isFrozen:!1},{field:"bundleFlag",header:"Bundle Flag",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"text",footer:"empty",isFrozen:!1},{field:"parentLineId",header:"Parent Product",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"number",footer:"empty",isFrozen:!1},{field:"productGroup",header:"Product Family",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"text",footer:"empty",isFrozen:!1},{field:"productType",header:"Product Line",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"text",footer:"empty",isFrozen:!1},{field:"fmvRuleName",header:"SSP Rule Name",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"text",footer:"empty",isFrozen:!1},{field:"fmvCategory",header:"SSP Category",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"text",footer:"empty",isFrozen:!1},{field:"fmvType",header:"SSP Type",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"text",footer:"empty",isFrozen:!1},{field:"fmvMin",header:"SSP Min",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"round",footer:"empty",isFrozen:!1},{field:"fmvMean",header:"SSP Trx",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"round",footer:"empty",isFrozen:!1},{field:"fmvMax",header:"SSP Max",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"round",footer:"empty",isFrozen:!1},{field:"bundleAttributionList",header:"Bundle Attribution List",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"bround",footer:"empty",isFrozen:!1},{field:"bundleAttributionNet",header:"Bundle Attribution Net",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"bround",footer:"empty",isFrozen:!1},{field:"sspLow",header:"SSP Low",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"empty",isFrozen:!1},{field:"sspHigh",header:"SSP High",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"empty",isFrozen:!1},{field:"ssp",header:"SSP",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"empty",isFrozen:!1},{field:"fmvAmount",header:"Extended SSP",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"fvTotal",isFrozen:!1},{field:"allocationAmount",header:"Allocation Amount",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"allocationTotal",isFrozen:!1},{field:"cvInOutAmount",header:"Carve In/Carve Out ",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"cvInOutAmountTotal",isFrozen:!1},{field:"allocationFlag",header:"Allocation Flag",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"text",footer:"empty",isFrozen:!1},{field:"allocationInclusive",header:"Allocation Inclusive",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"text",footer:"empty",isFrozen:!1},{field:"totalCost",header:"Total Cost",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"parentheses",footer:"empty",isFrozen:!1},{field:"fxRate",header:"Fx Rate",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"round",footer:"empty",isFrozen:!1},{field:"fxCurrency",header:"Fx Currency",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"number",footer:"empty",isFrozen:!1},{field:"fxDate",header:"Fx Date",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"date",footer:"empty",isFrozen:!1},{field:"allocationAmountFc",header:"Allocation Amount(FC)",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"round",footer:"allocationFcTotal",isFrozen:!1},{field:"allocationMarginPercentage",header:"Line to Revenue%",showField:!0,drag:!0,alignment:"right",display:"table-cell",type:"percent",footer:"empty",isFrozen:!1},{field:"grossMarginPercentage",header:"Allocated Margin%",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"percent",footer:"empty",isFrozen:!1},{field:"allocationGuidance",header:"Revenue Guidance",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"symbol",footer:"allocStatusTotal",isFrozen:!1},{field:"allocationMarginGuidance",header:"Margin Guidance",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"symbol",footer:"allocMarginStatusTotal",isFrozen:!1},{field:"discountGuidance",header:"Discount Guidance",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"symbol",footer:"discountStatusTotal",isFrozen:!1},{field:"revenueGuidance",header:"Deal Guidance",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"symbol",footer:"statusTotal",isFrozen:!1},{field:"comments",header:"Guidance Comments",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"text",footer:"commentsTotal",isFrozen:!1},{field:"adjDealLineCost",header:"Adjusted Cost",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"parentheses",footer:"empty",isFrozen:!1},{field:"adjRevenue",header:"Adjusted Revenue",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"round",footer:"empty",isFrozen:!1},{field:"grossMargin",header:"Gross Margin",drag:!0,showField:!0,alignment:"right",display:"table-cell",type:"round",footer:"totalGrossMargin",isFrozen:!1}],C=a("tyNb"),S=a("3Pt+"),w=a("7kUa"),E=a("jGlT"),A=a("/RsI"),V=a("LuMj"),F=a("NCSE"),D=a("azuL"),U=a("+07z"),k=a("7zfz"),M=a("TjhJ"),I=a("rEr+"),z=a("pqzn"),T=["dt"];function x(e,t){if(1&e){var i=f.Wb();f.Vb(0,"a",33),f.dc("click",(function(){return f.Dc(i),f.gc().onResetGlobalSearch()})),f.Qb(1,"em",34),f.Ub()}}function O(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"em",35),f.Mc(2,"Enable Filters"),f.Ub())}function P(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"em",36),f.Mc(2,"Clear Filters"),f.Ub())}function K(e,t){if(1&e){var i=f.Wb();f.Vb(0,"a",37),f.dc("click",(function(){return f.Dc(i),f.gc().importFile()})),f.Qb(1,"em",38),f.Ub()}}function L(e,t){if(1&e){var i=f.Wb();f.Vb(0,"div"),f.Vb(1,"div",50),f.dc("onDragStart",(function(){f.Dc(i);var e=f.gc().index;return f.gc(2).onDragStart(e)}))("onDrop",(function(){f.Dc(i);var e=f.gc().index;return f.gc(2).onDrop(e)})),f.Vb(2,"div",51),f.Vb(3,"input",52),f.dc("ngModelChange",(function(e){return f.Dc(i),f.gc().$implicit.showField=e}))("change",(function(){f.Dc(i);var e=f.gc().$implicit;return f.gc(2).selectColumns(e)})),f.Ub(),f.Vb(4,"label"),f.Mc(5),f.Ub(),f.Ub(),f.Ub(),f.Ub()}if(2&e){var n=f.gc().$implicit;f.Eb(3),f.oc("checked",n.showField)("ngModel",n.showField),f.Eb(2),f.Nc(n.header)}}var N=function(){return{color:"grey"}};function $(e,t){if(1&e){var i=f.Wb();f.Vb(0,"div"),f.Vb(1,"div",53),f.Vb(2,"div"),f.Vb(3,"input",54),f.dc("ngModelChange",(function(e){return f.Dc(i),f.gc().$implicit.showField=e}))("change",(function(){f.Dc(i);var e=f.gc().$implicit;return f.gc(2).selectColumns(e)})),f.Ub(),f.Vb(4,"label",55),f.Mc(5),f.Ub(),f.Ub(),f.Ub(),f.Ub()}if(2&e){var n=f.gc().$implicit;f.Eb(3),f.oc("checked",n.showField)("ngModel",n.showField)("disabled",!n.drag),f.Eb(1),f.oc("ngStyle",f.rc(5,N)),f.Eb(1),f.Nc(n.header)}}function R(e,t){if(1&e&&(f.Kc(0,L,6,3,"div",12),f.Kc(1,$,6,6,"div",12)),2&e){var i=t.$implicit;f.oc("ngIf",i.drag),f.Eb(1),f.oc("ngIf",!i.drag)}}var Q=function(){return{width:"100%",height:"100%"}};function _(e,t){if(1&e){var i=f.Wb();f.Vb(0,"div",39),f.Vb(1,"div",40),f.Vb(2,"div",41),f.Vb(3,"input",42),f.dc("click",(function(){return f.Dc(i),f.gc().onSelectAll()})),f.Ub(),f.Vb(4,"label",43),f.Mc(5,"Select All"),f.Ub(),f.Vb(6,"a",44),f.dc("click",(function(){return f.Dc(i),f.gc().closeAddColumns()})),f.Mc(7,"\xd7"),f.Ub(),f.Vb(8,"p-listbox",45),f.Kc(9,R,2,2,"ng-template",46),f.Ub(),f.Ub(),f.Vb(10,"div",47),f.Vb(11,"a",48),f.dc("click",(function(){return f.Dc(i),f.gc().saveColumns()})),f.Mc(12,"Save"),f.Ub(),f.Vb(13,"a",49),f.dc("click",(function(){return f.Dc(i),f.gc().closeAddColumns()})),f.Mc(14,"Cancel"),f.Ub(),f.Ub(),f.Ub(),f.Ub()}if(2&e){var n=f.gc();f.Eb(3),f.oc("checked",n.isSelectAllChecked),f.Eb(5),f.Ic(f.rc(4,Q)),f.oc("options",n.globalCols)}}function G(e,t){1&e&&f.Qb(0,"col")}function j(e,t){if(1&e&&(f.Vb(0,"colgroup"),f.Kc(1,G,1,0,"col",63),f.Ub()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngForOf",i)}}var W=function(e){return{display:e}},B=function(e,t){return{number:e,"text-align-right":t}};function q(e,t){if(1&e&&(f.Vb(0,"th",66),f.Vb(1,"div",67),f.Mc(2),f.Ub(),f.Ub()),2&e){var i=t.$implicit,n=t.index;f.oc("ngStyle",f.sc(5,W,i.display)),f.Eb(1),f.Gb(f.tc(7,B,"number"===i.type,n>2)),f.pc("title",i.header),f.Eb(1),f.Oc("",i.header," ")}}var H=function(e,t){return{hidden:e,"text-align-right":t}};function Y(e,t){if(1&e){var i=f.Wb();f.Tb(0),f.Tb(1),f.Vb(2,"th",69),f.Vb(3,"input",70),f.dc("ngModelChange",(function(e){f.Dc(i);var n=t.$implicit;return f.gc(4).searchData[n.field]=e})),f.Ub(),f.Vb(4,"button",71),f.dc("click",(function(){return f.Dc(i),f.gc(4).onFilter()})),f.Ub(),f.Ub(),f.Sb(),f.Sb()}if(2&e){var n=t.$implicit,o=t.index,l=f.gc(4);f.Eb(2),f.Gb(f.tc(6,H,"dealStatus"!==n.field&&"revenueGuidance"!==n.field,o>2)),f.pc("title",n.header),f.oc("ngStyle",f.sc(9,W,n.display)),f.Eb(1),f.pc("name",n.field),f.oc("ngModel",l.searchData[n.field])}}function J(e,t){if(1&e&&(f.Vb(0,"tr",68),f.Kc(1,Y,5,11,"ng-container",63),f.Ub()),2&e){var i=f.gc(3);f.Eb(1),f.oc("ngForOf",i.columns)}}function X(e,t){if(1&e&&(f.Vb(0,"tr"),f.Kc(1,q,3,10,"th",64),f.Ub(),f.Kc(2,J,2,1,"tr",65)),2&e){var i=f.gc(2);f.Eb(1),f.oc("ngForOf",i.columns),f.Eb(1),f.oc("ngIf",i.isFilterEnabled)}}var Z=function(e){return{"text-align-right":e}};function ee(e,t){if(1&e&&(f.Vb(0,"td",76),f.Mc(1),f.Ub()),2&e){var i=f.gc(),n=i.index,o=i.$implicit,l=f.gc().$implicit;f.Gb(f.sc(5,Z,n>2)),f.pc("title",l[o.field]),f.oc("ngStyle",f.sc(7,W,o.display)),f.Eb(1),f.Oc(" ",l[o.field]," ")}}function te(e,t){if(1&e){var i=f.Wb();f.Vb(0,"td",76),f.Vb(1,"span"),f.Vb(2,"a",77),f.dc("click",(function(){f.Dc(i);var e=f.gc(2).$implicit;return f.gc(2).navigateToDetails(e.dealArrangementId,e.dealNumber)})),f.Mc(3),f.Ub(),f.Ub(),f.Ub()}if(2&e){var n=f.gc(),o=n.index,l=n.$implicit,a=f.gc().$implicit;f.Gb(f.sc(6,Z,o>2)),f.pc("title",a[l.field]),f.oc("ngStyle",f.sc(8,W,l.display)),f.Eb(2),f.pc("title",a[l.field]),f.Eb(1),f.Nc(a[l.field])}}function ie(e,t){if(1&e&&(f.Vb(0,"td",78),f.Mc(1),f.Ub()),2&e){var i=f.gc(),n=i.index,o=i.$implicit,l=f.gc().$implicit;f.Gb(f.sc(5,Z,n>2)),f.pc("title",l[o.field]),f.oc("ngStyle",f.sc(7,W,o.display)),f.Eb(1),f.Oc(" ",l[o.field]," ")}}function ne(e,t){if(1&e&&(f.Vb(0,"td",76),f.hc(1,"date"),f.Mc(2),f.hc(3,"date"),f.Ub()),2&e){var i=f.gc(),n=i.index,o=i.$implicit,l=f.gc().$implicit;f.Gb(f.sc(11,Z,n>2)),f.pc("title",f.jc(1,5,l[o.field],"yyyy-MM-dd")),f.oc("ngStyle",f.sc(13,W,o.display)),f.Eb(2),f.Oc(" ",f.jc(3,8,l[o.field],"yyyy-MM-dd")," ")}}function oe(e,t){if(1&e&&(f.Vb(0,"td",76),f.hc(1,"round"),f.Mc(2),f.hc(3,"round"),f.Ub()),2&e){var i=f.gc(),n=i.index,o=i.$implicit,l=f.gc().$implicit;f.Gb(f.sc(9,Z,n>2)),f.pc("title",f.ic(1,5,l[o.field])),f.oc("ngStyle",f.sc(11,W,o.display)),f.Eb(2),f.Oc(" ",f.ic(3,7,l[o.field])," ")}}var le=function(){return{"margin-right":"25px"}};function ae(e,t){1&e&&(f.Vb(0,"span",55),f.Qb(1,"i",81),f.Ub()),2&e&&f.oc("ngStyle",f.rc(1,le))}function ce(e,t){1&e&&(f.Vb(0,"span",55),f.Qb(1,"i",82),f.Ub()),2&e&&f.oc("ngStyle",f.rc(1,le))}function re(e,t){1&e&&(f.Vb(0,"span",55),f.Qb(1,"i",83),f.Ub()),2&e&&f.oc("ngStyle",f.rc(1,le))}function se(e,t){if(1&e&&(f.Vb(0,"td",79),f.Kc(1,ae,2,2,"span",80),f.Kc(2,ce,2,2,"span",80),f.Kc(3,re,2,2,"span",80),f.Ub()),2&e){var i=f.gc().$implicit,n=f.gc().$implicit;f.pc("title",n[i.field]),f.oc("ngStyle",f.sc(5,W,i.display)),f.Eb(1),f.oc("ngIf","RED"==n[i.field]),f.Eb(1),f.oc("ngIf","GREEN"==n[i.field]),f.Eb(1),f.oc("ngIf","YELLOW"==n[i.field])}}function de(e,t){if(1&e&&(f.Tb(0),f.Kc(1,ee,2,9,"td",73),f.Kc(2,te,4,10,"td",73),f.Kc(3,ie,2,9,"td",74),f.Kc(4,ne,4,15,"td",73),f.Kc(5,oe,4,13,"td",73),f.Kc(6,se,4,7,"td",75),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngIf","text"==i.type),f.Eb(1),f.oc("ngIf","link"==i.type),f.Eb(1),f.oc("ngIf","number"==i.type),f.Eb(1),f.oc("ngIf","date"==i.type),f.Eb(1),f.oc("ngIf","round"==i.type),f.Eb(1),f.oc("ngIf","symbol"==i.type)}}function ue(e,t){if(1&e&&(f.Vb(0,"tr",72),f.Kc(1,de,7,6,"ng-container",63),f.Ub()),2&e){var i=t.$implicit,n=f.gc(2);f.oc("pSelectableRow",i),f.Eb(1),f.oc("ngForOf",n.columns)}}function ge(e,t){1&e&&(f.Vb(0,"div",84),f.Vb(1,"p"),f.Mc(2,"No records found"),f.Ub(),f.Ub())}function fe(e,t){if(1&e){var i=f.Wb();f.Vb(0,"div",56),f.Vb(1,"p-table",57,58),f.dc("onLazyLoad",(function(e){return f.Dc(i),f.gc().getDealsSummaryData(e)})),f.Kc(3,j,2,1,"ng-template",59),f.Kc(4,X,3,2,"ng-template",60),f.Kc(5,ue,2,2,"ng-template",61),f.Kc(6,ge,3,0,"ng-template",62),f.Ub(),f.Ub()}if(2&e){var n=f.gc();f.Eb(1),f.oc("value",n.deals)("loading",n.loading)("paginator",n.showPaginator)("rows",10)("totalRecords",n.totalElements)("columns",n.columns)("resizableColumns",!0)}}function he(e,t){if(1&e){var i=f.Wb();f.Vb(0,"div",87),f.dc("click",(function(){f.Dc(i);var e=t.$implicit;return f.gc(2).navigateToDetails(e.dealArrangementId,e.dealNumber)})),f.Vb(1,"div",88),f.Mc(2),f.Ub(),f.Vb(3,"div",88),f.Mc(4),f.Ub(),f.Vb(5,"div",88),f.Mc(6),f.hc(7,"currency"),f.Ub(),f.Vb(8,"div",88),f.Mc(9),f.Ub(),f.Ub()}if(2&e){var n=t.$implicit;f.Eb(2),f.Oc("Deal - ",n.dealNumber,""),f.Eb(2),f.Pc("",n.revenueGuidance," | ",n.dealStatus,""),f.Eb(2),f.Pc("",f.jc(7,7,n.amount,"USD")," | ",n.dealDate,""),f.Eb(3),f.Pc("",n.rcNumber," | ",n.customerName,"")}}function be(e,t){if(1&e&&(f.Vb(0,"div",85),f.Kc(1,he,10,10,"div",86),f.Ub()),2&e){var i=f.gc();f.Eb(1),f.oc("ngForOf",i.deals)}}function pe(e,t){1&e&&(f.Vb(0,"div",89),f.Qb(1,"div"),f.Qb(2,"div"),f.Qb(3,"div"),f.Qb(4,"div"),f.Qb(5,"div"),f.Qb(6,"div"),f.Qb(7,"div"),f.Qb(8,"div"),f.Ub())}var me,ve,ye=function(){return["upload","FILEUPLOAD"]},Ce=((me=function(){function i(e,t,o,l,a){n(this,i),this.router=e,this.uploadService=t,this.notificationService=o,this.commonSharedService=l,this.dealsService=a,this.columns=[],this.globalCols=[],this.clonedCols=[],this.paginationOptions={page:0,size:10},this.searchTerm="",this.pageSize=10,this.isSearched=!1,this.showAddColumns=!1,this.loading=!1,this.isGridView=!0,this.showPaginator=!0,this.displayAdvancedSearch=!1,this.isFilterEnabled=!1,this.displaySelectMode=!1,this.uploadLoading=!1,this.isSelectAllChecked=!0,this.guidance=this.commonSharedService.guidance}return l(i,[{key:"ngOnInit",value:function(){this.resetSearchData(),this.guidance?(this.commonSharedService.guidance=null,this.getDealsSummaryData(null,this.guidance)):this.getDealsSummaryData(),this.globalCols=v,this.columns=[],this.getTableColumns("Deal Manager","Deals Summary"),this.columns.length!==this.globalCols.length&&(this.isSelectAllChecked=!1)}},{key:"getTableColumns",value:function(e,t){var i=this;this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(e,t).then((function(e){if(e&&null!=e&&e.userId){i.columns=[];var t=e.tableColumns.split(",");t.length>0&&t.forEach((function(e,t){e&&(i.startIndex=i.globalCols.findIndex((function(t){return t.field==e})),i.onDrop(t))})),i.globalCols.forEach((function(t){-1!==e.tableColumns.indexOf(t.field)?i.columns.push(t):t.showField=!1})),i.columns.length!==i.globalCols.length&&(i.isSelectAllChecked=!1),i.showPaginator=0!==i.columns.length,i.userId=e.userId}else i.columns=i.globalCols})).catch((function(){i.notificationService.showError("Error occured while getting table columns data"),i.loading=!1}))}},{key:"getDealsSummaryData",value:function(e,t){var i=this;t&&(this.searchData={dealStatus:"",globalSearch:"",revenueGuidance:t}),e&&(this.paginationOptions={page:e.first/e.rows,size:10}),this.loading=!0,this.subscription=this.dealsService.getDealsSummary(this.searchData,this.paginationOptions).pipe(Object(p.a)((function(){return i.loading=!1}))).subscribe((function(e){i.loading=!1,i.totalElements=e.totalElements,i.deals=e.content}),(function(){i.notificationService.showError("Error occured while getting table columns data"),i.loading=!1}))}},{key:"onToggleView",value:function(){this.isGridView=!this.isGridView}},{key:"resetSearchData",value:function(){this.searchTerm="",this.searchData={revenueGuidance:"",dealStatus:"",globalSearch:""}}},{key:"onFilter",value:function(){this.getDealsSummaryData()}},{key:"onEnablingFilters",value:function(){this.isFilterEnabled&&(this.resetSearchData(),this.getDealsSummaryData()),this.isFilterEnabled=!this.isFilterEnabled}},{key:"reset",value:function(){this.resetSearchData(),this.isSearched=!1,this.isFilterEnabled=!1,this.paginationOptions={page:0,size:10},this.getDealsSummaryData(),this.table.reset()}},{key:"onAddingColumns",value:function(){this.clonedCols=e(this.globalCols),this.showAddColumns=!0}},{key:"selectColumns",value:function(e){var t=this.globalCols.filter((function(e){return!e.showField}));this.isSelectAllChecked=t.length<=0}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"closeAddColumns",value:function(){this.showAddColumns=!1,this.globalCols=this.clonedCols;var e=this.columns.filter((function(e){return!e.showField}));this.isSelectAllChecked=!(e.length>0)}},{key:"onDragStart",value:function(e){this.startIndex=e}},{key:"onDrop",value:function(e){var t=this.globalCols[this.startIndex];this.globalCols.splice(this.startIndex,1),this.globalCols.splice(e,0,t)}},{key:"saveColumns",value:function(){var e=this,t="";this.showAddColumns=!this.showAddColumns;var i=this.globalCols.length-1;this.globalCols.forEach((function(e,n){e.showField&&(t+=e.field,n<i&&(t+=","))})),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("Deal Manager","Deals Summary",t,this.userId).then((function(t){e.columns=e.globalCols.filter((function(e){return e.showField})),e.userId=t.userId,e.showPaginator=0!==e.columns.length,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"importFile",value:function(){this.displaySelectMode=!0}},{key:"onQuotes",value:function(e){this.displaySelectMode=!1,this.uploadService.displayQuotesDialog=!0}},{key:"cancel",value:function(){this.displaySelectMode=!0}},{key:"exportExcel",value:function(){for(var e=[],t=0;t<this.columns.length;t++)this.columns[t].showField&&e.push(this.columns[t].field);window.location.href=this.dealsService.getSummaryExportUrl(this.searchData,e)}},{key:"fileUploadHandler",value:function(e,i,n){var o,l,a=[],c=function(e,i){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=t(e))||i&&e&&"number"==typeof e.length){n&&(e=n);var o=0,l=function(){};return{s:l,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){r=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(r)throw a}}}}(e.files);try{for(c.s();!(l=c.n()).done;){var r=l.value.name;a.push(r)}}catch(s){c.e(s)}finally{c.f()}a.length>0&&(console.log(a[0]),o=a[0].toString().toLowerCase().replace(/[^a-z\s]+/gi,"")),"quote"===n&&o.startsWith(n)?this.uploadService.processUpload(e,i):this.notificationService.showError("Upload Failed, File Name should start with "+n.toString().toUpperCase()+" Key")}},{key:"commonSearch",value:function(){this.isSearched=!0,this.searchData.globalSearch=this.searchTerm,this.table.reset(),this.getDealsSummaryData()}},{key:"onResetGlobalSearch",value:function(){this.searchTerm="",this.searchData=Object.assign(Object.assign({},this.searchData),{globalSearch:""}),this.getDealsSummaryData(),this.isSearched=!1}},{key:"navigateToDetails",value:function(e,t){this.router.navigate(["/","deal-manager","details",e,t,"summary"])}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),i}()).\u0275fac=function(e){return new(e||me)(f.Pb(C.g),f.Pb(s.a),f.Pb(d.a),f.Pb(u.a),f.Pb(b))},me.\u0275cmp=f.Jb({type:me,selectors:[["app-deal-manager"]],viewQuery:function(e,t){var i;1&e&&f.Qc(T,!0),2&e&&f.Ac(i=f.ec())&&(t.table=i.first)},decls:42,vars:17,consts:[[1,"card-wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card-block"],[1,"search__container"],["pInputText","","name","searchKey","id","searchKey","placeholder","Search here...",1,"",3,"ngModel","ngModelChange"],[1,"globalSearchBtn",3,"click"],["aria-hidden","true",1,"fa","fa-search"],["class","globalSearchBtnx",3,"click",4,"ngIf"],[1,"pull-right","icons-list"],[1,"clear-filters",3,"click"],[4,"ngIf"],[1,"add-column",3,"click"],[1,"fa","fa-cog"],["title","Import",3,"click",4,"isAuthorized"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Export",3,"click"],[1,"fa","fa-external-link"],["title","toggleView",3,"click"],[1,"fa","fa-bars"],["id","add-column-popup",4,"ngIf"],["class","x-scroll",4,"ngIf","ngIfElse"],["tileView",""],["class","lds-roller","style","top: 0px;",4,"ngIf"],["header","Select Upload File Type","width","450","showEffect","fade",3,"visible","draggable","modal","visibleChange"],[1,"ui-md-12"],[1,"ml-0"],[1,"ui-md-4"],["name","group1","value","QUOTES","label","Quotes","inputId","opt4",3,"onClick"],["header","Upload Quotes","width","500","showEffect","fade",3,"visible","draggable","modal","visibleChange","onAfterHide"],["id","upload-quotes-input","name","file","customUpload","true","accept",".csv","invalidFileTypeMessageSummary","{0}:Invalid file Type",3,"uploadHandler"],[1,"globalSearchBtnx",3,"click"],["aria-hidden","true",1,"fa","fa-times"],[1,"fa","fa-check-square-o"],[1,"fa","fa-times"],["title","Import",3,"click"],[1,"fa","fa-upload"],["id","add-column-popup"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[3,"options"],["pTemplate","item"],[1,"pull-right","pt-2"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"ui-helper-clearfix"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[3,"ngStyle"],[1,"x-scroll"],["id","revenueResults-dt","lazy","true","columnResizeMode","expand","exportFilename","Deals_Summary.csv",1,"ui-datatable","arrangementMgrTbl","revenueContractTbl","wide-columns",3,"value","loading","paginator","rows","totalRecords","columns","resizableColumns","onLazyLoad"],["dt",""],["pTemplate","colgroup"],["pTemplate","header","class","arrangementMgrTblHead"],["pTemplate","body"],["pTemplate","emptymessage"],[4,"ngFor","ngForOf"],["pResizableColumn","",3,"ngStyle",4,"ngFor","ngForOf"],["class","filter-row",4,"ngIf"],["pResizableColumn","",3,"ngStyle"],[3,"title"],[1,"filter-row"],["pResizableColumn","",3,"ngStyle","title"],["pInputText","","type","text",1,"table-textbox",3,"name","ngModel","ngModelChange"],["type","submit",1,"pi","pi-search",3,"click"],[3,"pSelectableRow"],[3,"title","class","ngStyle",4,"ngIf"],["class","number",3,"title","class","ngStyle",4,"ngIf"],["class","text-align-right",3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[3,"title","click"],[1,"number",3,"title","ngStyle"],[1,"text-align-right",3,"title","ngStyle"],[3,"ngStyle",4,"ngIf"],["aria-hidden","true",1,"fa","fa-circle","red-color"],["aria-hidden","true",1,"fa","fa-circle","green-color"],["aria-hidden","true",1,"fa","fa-circle","yellow-color"],[1,"no-results-data"],[1,"tile-container"],["class","card-wrapper tile-item",3,"click",4,"ngFor","ngForOf"],[1,"card-wrapper","tile-item",3,"click"],[1,"item-row"],[1,"lds-roller",2,"top","0px"]],template:function(e,t){if(1&e&&(f.Vb(0,"div",0),f.Vb(1,"div",1),f.Vb(2,"div",2),f.Vb(3,"div",3),f.Vb(4,"div",4),f.Vb(5,"h2"),f.Mc(6,"Deal Manager"),f.Ub(),f.Vb(7,"div",5),f.Vb(8,"form"),f.Vb(9,"input",6),f.dc("ngModelChange",(function(e){return t.searchTerm=e})),f.Ub(),f.Vb(10,"a",7),f.dc("click",(function(){return t.commonSearch()})),f.Qb(11,"em",8),f.Ub(),f.Kc(12,x,2,0,"a",9),f.Ub(),f.Ub(),f.Vb(13,"div",10),f.Vb(14,"a",11),f.dc("click",(function(){return t.onEnablingFilters()})),f.Kc(15,O,3,0,"span",12),f.Kc(16,P,3,0,"span",12),f.Ub(),f.Vb(17,"a",13),f.dc("click",(function(){return t.onAddingColumns()})),f.Qb(18,"em",14),f.Mc(19,"Columns"),f.Ub(),f.Kc(20,K,2,0,"a",15),f.Vb(21,"a",16),f.dc("click",(function(){return t.reset()})),f.Qb(22,"em",17),f.Ub(),f.Vb(23,"a",18),f.dc("click",(function(){return t.exportExcel()})),f.Qb(24,"em",19),f.Ub(),f.Vb(25,"a",20),f.dc("click",(function(){return t.onToggleView()})),f.Qb(26,"em",21),f.Vb(27,"span"),f.Mc(28),f.Ub(),f.Ub(),f.Kc(29,_,15,5,"div",22),f.Ub(),f.Kc(30,fe,7,7,"div",23),f.Kc(31,be,2,1,"ng-template",null,24,f.Lc),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Kc(33,pe,9,0,"div",25),f.Vb(34,"p-dialog",26),f.dc("visibleChange",(function(e){return t.displaySelectMode=e})),f.Vb(35,"div",27),f.Vb(36,"div",28),f.Vb(37,"div",29),f.Vb(38,"p-radioButton",30),f.dc("onClick",(function(e){return t.onQuotes(e)})),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Vb(39,"p-dialog",31),f.dc("visibleChange",(function(e){return t.uploadService.displayQuotesDialog=e}))("onAfterHide",(function(){return t.cancel()})),f.Vb(40,"p-fileUpload",32),f.dc("uploadHandler",(function(e){return t.fileUploadHandler(e,"/upload/documents/QUOTE","quote")})),f.Ub(),f.Qb(41,"progress-bar"),f.Ub()),2&e){var i=f.Bc(32);f.Eb(9),f.oc("ngModel",t.searchTerm),f.Eb(3),f.oc("ngIf",t.isSearched),f.Eb(3),f.oc("ngIf",!t.isFilterEnabled),f.Eb(1),f.oc("ngIf",t.isFilterEnabled),f.Eb(4),f.oc("isAuthorized",f.rc(16,ye)),f.Eb(8),f.Nc(t.isGridView?"Tile View":"Grid View"),f.Eb(1),f.oc("ngIf",t.showAddColumns),f.Eb(1),f.oc("ngIf",t.isGridView)("ngIfElse",i),f.Eb(3),f.oc("ngIf",t.uploadLoading),f.Eb(1),f.oc("visible",t.displaySelectMode)("draggable",!0)("modal",!0),f.Eb(5),f.oc("visible",t.uploadService.displayQuotesDialog)("draggable",!0)("modal",!0)}},directives:[S.v,S.l,S.m,S.b,w.a,S.k,S.n,r.o,E.a,A.a,V.a,F.a,D.a,U.a,k.f,M.b,M.c,S.a,r.p,I.j,r.n,I.g,I.i],pipes:[r.f,z.a,r.d],styles:[".tile-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.tile-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;box-shadow:0 5px 15px rgba(0,0,0,.15);font-size:16px;padding:15px;margin:15px;width:270px;cursor:pointer}.tile-item[_ngcontent-%COMP%]:hover{opacity:.7}.filter-row[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{visibility:hidden}"]}),me),Se=a("PCNd"),we=((ve=function(){function e(t,i,o){n(this,e),this.route=t,this.changeDetector=i,this.notification=o}return l(e,[{key:"ngOnInit",value:function(){this.dealNumber=this.route.snapshot.paramMap.get("dealNumber")}},{key:"ngAfterContentChecked",value:function(){this.changeDetector.detectChanges()}},{key:"onCopyNumber",value:function(){var e=this;navigator.clipboard.writeText(this.dealNumber).finally((function(){e.notification.showInfo("Deal number is copied",2e3)}))}}]),e}()).\u0275fac=function(e){return new(e||ve)(f.Pb(C.a),f.Pb(f.i),f.Pb(d.a))},ve.\u0275cmp=f.Jb({type:ve,selectors:[["app-deal-details"]],decls:15,vars:1,consts:[[1,"d-flex","align-items-center"],["routerLink","/deal-manager",1,"title"],[1,"copy-icon","pi","pi-copy",3,"click"],[1,"card-wrapper"],[1,"card-block"],[1,"top-menu"],[1,"tabs-container"],["routerLink","summary","routerLinkActive","active",1,"tab-item"],["routerLink","allocations","routerLinkActive","active",1,"tab-item"],["routerLink","forecasting","routerLinkActive","active",1,"tab-item"]],template:function(e,t){1&e&&(f.Vb(0,"div",0),f.Vb(1,"div",1),f.Mc(2),f.Ub(),f.Vb(3,"i",2),f.dc("click",(function(){return t.onCopyNumber()})),f.Ub(),f.Ub(),f.Vb(4,"div",3),f.Vb(5,"div",4),f.Vb(6,"div",5),f.Vb(7,"div",6),f.Vb(8,"div",7),f.Mc(9,"Deal Details"),f.Ub(),f.Vb(10,"div",8),f.Mc(11,"Deal Allocations"),f.Ub(),f.Vb(12,"div",9),f.Mc(13,"Deal Forecasting"),f.Ub(),f.Ub(),f.Ub(),f.Qb(14,"router-outlet"),f.Ub(),f.Ub()),2&e&&(f.Eb(2),f.Oc("Deal Number: ",t.dealNumber,""))},directives:[C.h,C.i,C.l],styles:["[_nghost-%COMP%]{color:#757575}.card-block[_ngcontent-%COMP%]{margin-top:0}.title[_ngcontent-%COMP%]{cursor:pointer;font-size:20px;color:#262b74;padding:15px;font-weight:700;margin-left:15px}.title[_ngcontent-%COMP%]:hover{text-decoration:underline}.copy-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:20px;color:#262b74}.copy-icon[_ngcontent-%COMP%]:hover{opacity:.7}.top-menu[_ngcontent-%COMP%]{display:flex;justify-content:center}.tabs-container[_ngcontent-%COMP%]{display:flex;align-items:center}.tab-item[_ngcontent-%COMP%]{border:1px solid #1fac90;margin-left:-1px;padding:1em;font-size:13px;line-height:100%;font-weight:600;cursor:pointer}.tab-item.active[_ngcontent-%COMP%], .tab-item[_ngcontent-%COMP%]:hover{color:#fff;background:#1fac90}.tab-item[_ngcontent-%COMP%]:first-child{border-radius:6px 0 0 6px}.tab-item[_ngcontent-%COMP%]:first-child, .tab-item[_ngcontent-%COMP%]:last-child{border-right:1px solid #1fac90;border-left:1px solid #1fac90}.tab-item[_ngcontent-%COMP%]:last-child{border-radius:0 6px 6px 0}.icons-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}.icons-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:5px;font-size:14px}.info__block[_ngcontent-%COMP%]{display:flex;margin:30px 0}.info__item[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:200px;border-radius:6px;height:100px;padding:20px;margin-right:30px;font-size:18px;box-shadow:0 5px 15px rgba(0,0,0,.15)}.info__item-value[_ngcontent-%COMP%]{color:#1fac90}.info__item.comparison[_ngcontent-%COMP%]{width:auto;align-items:start;justify-content:start}.comparison-item[_ngcontent-%COMP%]{display:flex;align-items:center}.comparison-item[_ngcontent-%COMP%]   .info__item-title[_ngcontent-%COMP%]{width:90px}.comparison-item[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{height:2px;margin:0 5px}.comparison-item[_ngcontent-%COMP%]:nth-child(2n)   .info__item-value[_ngcontent-%COMP%]{color:#262b74}.comparison-item[_ngcontent-%COMP%]:nth-child(2n)   .line[_ngcontent-%COMP%]{background-color:#262b74}.comparison-item[_ngcontent-%COMP%]:nth-child(odd)   .line[_ngcontent-%COMP%]{background-color:#1fac90}.icons-list[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:20px}"]}),ve),Ee=a("lJxs"),Ae=a("Y+ZO");function Ve(e,t){if(1&e){var i=f.Wb();f.Vb(0,"div"),f.Vb(1,"div",16),f.dc("onDragStart",(function(){f.Dc(i);var e=f.gc(),t=e.$implicit,n=e.index;return f.gc(3).onDragStart(t,n)}))("onDrop",(function(){f.Dc(i);var e=f.gc().index;return f.gc(3).onDrop(e)})),f.Vb(2,"div",17),f.Vb(3,"input",18),f.dc("ngModelChange",(function(e){return f.Dc(i),f.gc().$implicit.showField=e}))("change",(function(){return f.Dc(i),f.gc(4).onSelectColumn()})),f.Ub(),f.Vb(4,"label",19),f.Mc(5),f.Ub(),f.Vb(6,"div",20),f.dc("click",(function(){f.Dc(i);var e=f.gc().$implicit;return f.gc(3).onToggleFreeze(e)})),f.Qb(7,"i"),f.Ub(),f.Ub(),f.Ub(),f.Ub()}if(2&e){var n=f.gc().$implicit,o=f.gc().$implicit;f.Eb(3),f.oc("checked",n.showField)("ngModel",n.showField),f.Eb(2),f.Nc(n.header),f.Eb(2),f.Gb(o.iconClassNames)}}var Fe=function(){return{color:"grey"}};function De(e,t){if(1&e){var i=f.Wb();f.Vb(0,"div"),f.Vb(1,"div",21),f.Vb(2,"div",22),f.Vb(3,"input",23),f.dc("ngModelChange",(function(e){return f.Dc(i),f.gc().$implicit.showField=e}))("change",(function(){return f.Dc(i),f.gc(4).onSelectColumn()})),f.Ub(),f.Vb(4,"label",24),f.Mc(5),f.Ub(),f.Vb(6,"div",20),f.dc("click",(function(){f.Dc(i);var e=f.gc().$implicit;return f.gc(3).onToggleFreeze(e)})),f.Qb(7,"i"),f.Ub(),f.Ub(),f.Ub(),f.Ub()}if(2&e){var n=f.gc().$implicit,o=f.gc().$implicit;f.Eb(3),f.oc("checked",n.showField)("ngModel",n.showField)("disabled",!n.drag),f.Eb(1),f.oc("ngStyle",f.rc(7,Fe)),f.Eb(1),f.Nc(n.header),f.Eb(2),f.Gb(o.iconClassNames)}}function Ue(e,t){if(1&e&&(f.Kc(0,Ve,8,5,"div",15),f.Kc(1,De,8,8,"div",15)),2&e){var i=t.$implicit;f.oc("ngIf",i.drag),f.Eb(1),f.oc("ngIf",!i.drag)}}function ke(e,t){if(1&e&&(f.Tb(0),f.Vb(1,"p-listbox",13),f.Vb(2,"p-header"),f.Mc(3),f.Ub(),f.Kc(4,Ue,2,2,"ng-template",14),f.Ub(),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("options",i.columns),f.Eb(2),f.Oc(" ",i.label," ")}}function Me(e,t){if(1&e){var i=f.Wb();f.Vb(0,"div",3),f.Vb(1,"div",4),f.Vb(2,"div",5),f.Vb(3,"input",6),f.dc("click",(function(){return f.Dc(i),f.gc().onSelectAll()})),f.Ub(),f.Vb(4,"label",7),f.Mc(5,"Select All"),f.Ub(),f.Vb(6,"a",8),f.dc("click",(function(){return f.Dc(i),f.gc().onCloseConfigPopup()})),f.Mc(7,"\xd7"),f.Ub(),f.Kc(8,ke,5,2,"ng-container",9),f.Ub(),f.Vb(9,"div",10),f.Vb(10,"a",11),f.dc("click",(function(){return f.Dc(i),f.gc().onSaveConfig()})),f.Mc(11,"Save"),f.Ub(),f.Vb(12,"a",12),f.dc("click",(function(){return f.Dc(i),f.gc().onCloseConfigPopup()})),f.Mc(13,"Cancel"),f.Ub(),f.Ub(),f.Ub(),f.Ub()}if(2&e){var n=f.gc();f.Eb(3),f.oc("checked",n.isSelectAllChecked),f.Eb(5),f.oc("ngForOf",n.columnsList)}}var Ie,ze=((Ie=function(){function e(){n(this,e),this.showConfigPopup=!1,this.openConfig=new f.p,this.closeConfig=new f.p,this.saveConfig=new f.p,this.toggleFreeze=new f.p,this.selectColumn=new f.p,this.selectAll=new f.p,this.columnsList=[{label:"Frozen Columns",columns:[],iconClassNames:["pi","pi-lock"]},{label:"Other Columns",columns:[],iconClassNames:["pi","pi-lock"]}]}return l(e,[{key:"ngOnChanges",value:function(e){var t=e.frozenCols,i=e.scrollableCols;t&&t.currentValue&&i&&i.currentValue&&(this.columnsList=[{label:"Frozen Columns",columns:t.currentValue,iconClassNames:["pi","pi-lock"]},{label:"Other Columns",columns:i.currentValue,iconClassNames:["pi","pi-lock-open"]}])}},{key:"onOpenConfigPopup",value:function(){this.openConfig.emit()}},{key:"onCloseConfigPopup",value:function(){this.closeConfig.emit()}},{key:"onSaveConfig",value:function(){this.saveConfig.emit()}},{key:"onDragStart",value:function(e,t){this.startIndex=t,this.draggableCol=e}},{key:"onDrop",value:function(e){this.draggableCol.isFrozen?(this.frozenCols.splice(this.startIndex,1),this.frozenCols.splice(e,0,this.draggableCol)):(this.scrollableCols.splice(this.startIndex,1),this.scrollableCols.splice(e,0,this.draggableCol))}},{key:"onToggleFreeze",value:function(e){this.toggleFreeze.emit(e)}},{key:"onSelectColumn",value:function(){this.selectColumn.emit()}},{key:"onSelectAll",value:function(){this.selectAll.emit()}}]),e}()).\u0275fac=function(e){return new(e||Ie)},Ie.\u0275cmp=f.Jb({type:Ie,selectors:[["app-columns-config"]],inputs:{frozenCols:"frozenCols",scrollableCols:"scrollableCols",isSelectAllChecked:"isSelectAllChecked",showConfigPopup:"showConfigPopup"},outputs:{openConfig:"openConfig",closeConfig:"closeConfig",saveConfig:"saveConfig",toggleFreeze:"toggleFreeze",selectColumn:"selectColumn",selectAll:"selectAll"},features:[f.Cb],decls:4,vars:1,consts:[[1,"add-column",3,"click"],[1,"fa","fa-cog"],["id","add-column-popup","class","contracts_add_column",4,"ngIf"],["id","add-column-popup",1,"contracts_add_column"],[1,"user-popup"],[1,"content","overflow"],["type","checkbox","id","selectall","name","selectall",3,"checked","click"],["for","selectall"],["title","Close",1,"close",3,"click"],[4,"ngFor","ngForOf"],[1,"pull-right"],[1,"configColBtn",3,"click"],[1,"configColBtn","conf-cancel",3,"click"],[3,"options"],["pTemplate","item"],[4,"ngIf"],["pDraggable","gens","pDroppable","gens",1,"ui-helper-clearfix",3,"onDragStart","onDrop"],[1,"d-flex","align-items-center","drag"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"col-label"],[1,"ml-2","freeze-btn",3,"click"],[1,"ui-helper-clearfix"],[1,"d-flex","align-items-center"],["type","checkbox",3,"checked","ngModel","disabled","ngModelChange","change"],[1,"col-label",3,"ngStyle"]],template:function(e,t){1&e&&(f.Vb(0,"a",0),f.dc("click",(function(){return t.onOpenConfigPopup()})),f.Qb(1,"em",1),f.Mc(2,"Columns"),f.Ub(),f.Kc(3,Me,14,2,"div",2)),2&e&&(f.Eb(3),f.oc("ngIf",t.showConfigPopup))},directives:[r.o,r.n,U.a,k.c,k.f,M.b,M.c,S.a,S.k,S.n,r.p],styles:[".col-label[_ngcontent-%COMP%]{position:static!important}.freeze-btn[_ngcontent-%COMP%]{cursor:pointer}"]}),Ie);function Te(e,t){if(1&e&&(f.Tb(0),f.Vb(1,"span",16),f.Mc(2),f.Ub(),f.Sb()),2&e){var i=t.ngIf;f.Eb(2),f.Nc(i)}}function xe(e,t){1&e&&f.Qb(0,"col")}function Oe(e,t){if(1&e&&(f.Tb(0),f.Kc(1,xe,1,0,"col",9),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngIf",i.showField)}}function Pe(e,t){if(1&e&&(f.Vb(0,"colgroup"),f.Kc(1,Oe,2,1,"ng-container",14),f.Ub()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngForOf",i)}}var Ke=function(e){return{number:e}},Le=function(e,t){return{display:e,width:"300px","text-align":t}};function Ne(e,t){if(1&e&&(f.Vb(0,"th",19),f.Mc(1),f.Ub()),2&e){var i=f.gc().$implicit;f.Gb(f.sc(5,Ke,"number"===i.type)),f.pc("title",i.header),f.oc("ngStyle",f.tc(7,Le,i.display,i.alignment)),f.Eb(1),f.Oc("",i.header," ")}}function $e(e,t){if(1&e&&(f.Tb(0),f.Kc(1,Ne,2,10,"th",18),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngIf",i.showField)}}function Re(e,t){if(1&e&&(f.Vb(0,"tr"),f.Kc(1,$e,2,1,"ng-container",14),f.Ub()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngForOf",i)}}function Qe(e,t){if(1&e&&(f.Tb(0),f.Kc(1,Re,2,1,"ng-template",17),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("pTemplate",i)}}var _e=function(e,t){return{display:e,"text-align":t}};function Ge(e,t){if(1&e&&(f.Vb(0,"td",22),f.Mc(1),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",n[i.field]),f.oc("ngStyle",f.tc(3,_e,i.display,i.alignment)),f.Eb(1),f.Oc(" ",n[i.field]," ")}}function je(e,t){if(1&e&&(f.Vb(0,"td",22),f.Vb(1,"span"),f.Vb(2,"a",23),f.Mc(3),f.Ub(),f.Ub(),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",n[i.field]),f.oc("ngStyle",f.tc(4,_e,i.display,i.alignment)),f.Eb(2),f.pc("title",n[i.field]),f.Eb(1),f.Nc(n[i.field])}}function We(e,t){if(1&e&&(f.Vb(0,"td",22),f.Mc(1),f.hc(2,"number"),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",n[i.field]),f.oc("ngStyle",f.tc(5,_e,i.display,i.alignment)),f.Eb(1),f.Oc(" ",f.ic(2,3,n[i.field])," ")}}function Be(e,t){if(1&e&&(f.Vb(0,"td",22),f.Mc(1),f.hc(2,"number"),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",n[i.field]),f.oc("ngStyle",f.tc(6,_e,i.display,i.alignment)),f.Eb(1),f.Oc(" ",null!=n[i.field]?f.jc(2,3,n[i.field],"1.2-2")+"%":"-"," ")}}function qe(e,t){if(1&e&&(f.Vb(0,"td",22),f.hc(1,"date"),f.Mc(2),f.hc(3,"date"),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",f.jc(1,3,n[i.field],"yyyy-MM-dd")),f.oc("ngStyle",f.tc(9,_e,i.display,i.alignment)),f.Eb(2),f.Oc(" ",f.jc(3,6,n[i.field],"yyyy-MM-dd")," ")}}function He(e,t){if(1&e&&(f.Vb(0,"td",22),f.hc(1,"round"),f.Mc(2),f.hc(3,"round"),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",f.ic(1,3,n[i.field])),f.oc("ngStyle",f.tc(7,_e,i.display,i.alignment)),f.Eb(2),f.Oc(" ",f.ic(3,5,n[i.field])," ")}}function Ye(e,t){if(1&e&&(f.Vb(0,"td",22),f.hc(1,"round"),f.Mc(2),f.hc(3,"round"),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",f.ic(1,3,n[i.field])),f.oc("ngStyle",f.tc(7,_e,i.display,i.alignment)),f.Eb(2),f.Oc(" ( ",f.ic(3,5,n[i.field])," ) ")}}function Je(e,t){if(1&e&&(f.Tb(0),f.Kc(1,Ge,2,6,"td",21),f.Kc(2,je,4,7,"td",21),f.Kc(3,We,3,8,"td",21),f.Kc(4,Be,3,9,"td",21),f.Kc(5,qe,4,12,"td",21),f.Kc(6,He,4,10,"td",21),f.Kc(7,Ye,4,10,"td",21),f.Sb()),2&e){var i=f.gc().$implicit;f.Eb(1),f.oc("ngIf","text"==i.type),f.Eb(1),f.oc("ngIf","link"==i.type),f.Eb(1),f.oc("ngIf","number"==i.type),f.Eb(1),f.oc("ngIf","percent"==i.type),f.Eb(1),f.oc("ngIf","date"==i.type),f.Eb(1),f.oc("ngIf","round"==i.type),f.Eb(1),f.oc("ngIf","parentheses"==i.type)}}function Xe(e,t){if(1&e&&(f.Tb(0),f.Kc(1,Je,8,7,"ng-container",9),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngIf",i.showField)}}function Ze(e,t){if(1&e&&(f.Vb(0,"tr",20),f.Kc(1,Xe,2,1,"ng-container",14),f.Ub()),2&e){var i=t.columns;f.oc("pSelectableRow",t.$implicit),f.Eb(1),f.oc("ngForOf",i)}}function et(e,t){if(1&e&&(f.Tb(0),f.Kc(1,Ze,2,2,"ng-template",17),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("pTemplate",i)}}function tt(e,t){1&e&&f.Qb(0,"td")}function it(e,t){1&e&&(f.Vb(0,"td"),f.Mc(1,"Totals:"),f.Ub())}function nt(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(3).$implicit;f.Eb(1),f.Nc(f.ic(2,1,i.totalExtendedListAmt))}}function ot(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(3).$implicit;f.Eb(1),f.Nc(f.ic(2,1,i.totalLineAmt))}}function lt(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"number"),f.Ub()),2&e){var i=f.gc(3).$implicit;f.Eb(1),f.Oc(" ",null!=i.totalDiscount?f.jc(2,1,i.totalDiscount,"1.2-2")+"%":"-"," ")}}function at(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(3).$implicit;f.Eb(1),f.Nc(f.ic(2,1,i.totalAllocationAmt))}}function ct(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(3).$implicit;f.Eb(1),f.Nc(f.ic(2,1,i.totalCarveInOut))}}function rt(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"number"),f.Ub()),2&e){var i=f.gc(3).$implicit;f.Eb(1),f.Oc(" ",null!=i.totalGrossMarginPercent?f.jc(2,1,i.totalGrossMarginPercent,"1.2-2")+"%":"-"," ")}}function st(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"number"),f.Ub()),2&e){var i=f.gc(3).$implicit;f.Eb(1),f.Oc(" ",null!=i.totalAllocatedMarginPercent?f.jc(2,1,i.totalAllocatedMarginPercent,"1.2-2")+"%":"-"," ")}}function dt(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"number"),f.Ub()),2&e){var i=f.gc(3).$implicit;f.Eb(1),f.Nc(f.ic(2,1,i.totalRevenueAdjustment))}}function ut(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"number"),f.Ub()),2&e){var i=f.gc(3).$implicit;f.Eb(1),f.Oc(" ",null!=i.totalAdjustedAllocatedMarginPercent?f.jc(2,1,i.totalAdjustedAllocatedMarginPercent,"1.2-2")+"%":"-"," ")}}function gt(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(3).$implicit;f.Eb(1),f.Oc("( ",f.ic(2,1,i.totalStandardCost)," ) ")}}function ft(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(3).$implicit;f.Eb(1),f.Oc("( ",f.ic(2,1,i.totalCostAdjusted)," ) ")}}function ht(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(3).$implicit;f.Eb(1),f.Oc("( ",f.ic(2,1,i.totalAdjustedCost)," ) ")}}function bt(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(3).$implicit;f.Eb(1),f.Nc(f.ic(2,1,i.totalGrossMargin))}}function pt(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(3).$implicit;f.Eb(1),f.Nc(f.ic(2,1,i.totalAllocatedMarginAmount))}}function mt(e,t){if(1&e&&(f.Tb(0),f.Kc(1,tt,1,0,"td",9),f.Kc(2,it,2,0,"td",9),f.Kc(3,nt,3,3,"td",9),f.Kc(4,ot,3,3,"td",9),f.Kc(5,lt,3,4,"td",9),f.Kc(6,at,3,3,"td",9),f.Kc(7,ct,3,3,"td",9),f.Kc(8,rt,3,4,"td",9),f.Kc(9,st,3,4,"td",9),f.Kc(10,dt,3,3,"td",9),f.Kc(11,ut,3,4,"td",9),f.Kc(12,gt,3,3,"td",9),f.Kc(13,ft,3,3,"td",9),f.Kc(14,ht,3,3,"td",9),f.Kc(15,bt,3,3,"td",9),f.Kc(16,pt,3,3,"td",9),f.Sb()),2&e){var i=f.gc().$implicit;f.Eb(1),f.oc("ngIf","empty"==i.footer),f.Eb(1),f.oc("ngIf","totals"==i.footer),f.Eb(1),f.oc("ngIf","totalExtendedListAmt"==i.footer),f.Eb(1),f.oc("ngIf","totalLineAmt"==i.footer),f.Eb(1),f.oc("ngIf","totalDiscount"==i.footer),f.Eb(1),f.oc("ngIf","totalAllocationAmt"==i.footer),f.Eb(1),f.oc("ngIf","totalCarveInOut"==i.footer),f.Eb(1),f.oc("ngIf","totalGrossMarginPercent"==i.footer),f.Eb(1),f.oc("ngIf","totalAllocatedMarginPercent"==i.footer),f.Eb(1),f.oc("ngIf","totalRevenueAdjustment"==i.footer),f.Eb(1),f.oc("ngIf","totalAdjustedAllocatedMarginPercent"==i.footer),f.Eb(1),f.oc("ngIf","totalStandardCost"==i.footer),f.Eb(1),f.oc("ngIf","totalCostAdjusted"==i.footer),f.Eb(1),f.oc("ngIf","totalAdjustedCost"==i.footer),f.Eb(1),f.oc("ngIf","totalGrossMargin"==i.footer),f.Eb(1),f.oc("ngIf","totalAllocatedMarginAmount"==i.footer)}}function vt(e,t){if(1&e&&(f.Tb(0),f.Kc(1,mt,17,16,"ng-container",9),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngIf",i.showField)}}function yt(e,t){if(1&e&&(f.Vb(0,"tr",25),f.Kc(1,vt,2,1,"ng-container",14),f.Ub()),2&e){var i=f.gc().$implicit;f.Eb(1),f.oc("ngForOf",i)}}function Ct(e,t){if(1&e&&(f.Kc(0,yt,2,1,"tr",24),f.hc(1,"async")),2&e){var i=f.gc(2);f.oc("ngIf",f.ic(1,1,i.dealSummaryTotals$))}}function St(e,t){if(1&e&&(f.Tb(0),f.Kc(1,Ct,2,3,"ng-template",17),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("pTemplate",i)}}function wt(e,t){1&e&&(f.Vb(0,"div",26),f.Vb(1,"p"),f.Mc(2,"No records found"),f.Ub(),f.Ub())}var Et,At=function(e){return{unfrozen:e}},Vt=((Et=function(){function t(e,i,o,l){n(this,t),this.route=e,this.dealsService=i,this.notificationService=o,this.commonSharedService=l,this.columns=[],this.clonedCols=[],this.globalCols=[],this.frozenCols=[],this.scrollableCols=[],this.tableHeaderTmpl=["frozenheader","header"],this.tableBodyTmpl=["frozenbody","body"],this.tableFooterTmpl=["frozenfooter","footer"],this.isTableFrozen=!1,this.loading=!1,this.showPaginator=!0,this.pageSize=10,this.isQuoteView=!1,this.isConfigOpened=!1,this.isSelectAllChecked=!0,this.isUsdView=!1}return l(t,[{key:"ngOnInit",value:function(){this.dealId=this.route.parent.snapshot.paramMap.get("dealId"),this.totalComments$=this.dealsService.getDealComments(this.dealId).pipe(Object(Ee.a)((function(e){return e.totalElements}))),this.setDetailsTable()}},{key:"getTableColumns",value:function(t,i){var n=this;this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(t,i).then((function(t){if(t&&null!=t&&t.userId){var i=t.tableColumns.split("/"),o=i[0].split(","),l=i[1]?i[1].split(","):[];n.globalCols.forEach((function(t){t.showField=-1!==[].concat(e(o),e(l)).indexOf(t.field)}));var a=n.globalCols.filter((function(e){return!e.showField}));o.forEach((function(e){var t=n.globalCols.find((function(t){return t.field===e}));t&&n.scrollableCols.push(t)})),l.forEach((function(e){var t=n.globalCols.find((function(t){return t.field===e}));t&&(t.isFrozen=!0,n.frozenCols.push(t))})),a.forEach((function(e){n.scrollableCols.push(e)})),n.globalCols=[].concat(e(n.frozenCols),e(n.scrollableCols)),n.getFrozenWidth(),o.length+l.length!==n.globalCols.length&&(n.isSelectAllChecked=!1),n.showPaginator=o.length+l.length!==0,n.userId=t.userId}else n.recollectColumns()})).catch((function(){n.notificationService.showError("Error occured while getting table columns data"),n.loading=!1}))}},{key:"getSummaryData",value:function(e){var t=this,i=e?e.first/e.rows:0,n=this.isQuoteView?"Q":"D";this.loading=!0,this.getSummaryTotals(),this.subscription=this.dealsService.getDealRollUpSummaryData(this.dealId,n,this.isUsdView,i).subscribe((function(e){t.loading=!1,t.dealRollUpSummaryData=e.content,t.totalElements=e.totalElements}),(function(){t.notificationService.showError("Error occured while getting table columns data"),t.loading=!1}))}},{key:"getSummaryTotals",value:function(){this.dealSummaryTotals$=this.dealsService.getSummaryDataTotals(this.dealId,this.isQuoteView?"Q":"D",this.isUsdView)}},{key:"toggleView",value:function(){this.isQuoteView=!this.isQuoteView;var e=this.globalCols.find((function(e){return"dealQuoteNum"===e.field}));this.isQuoteView?(e.header="Quote Number",this.getSummaryData()):(e.header="Deal Number",this.getSummaryData())}},{key:"setDetailsTable",value:function(){this.globalCols=m,this.getTableColumns("Deal Details","Deal Summary")}},{key:"onConfiguringColumns",value:function(){this.clonedCols=e(this.globalCols),this.isConfigOpened=!0}},{key:"onToggleFreeze",value:function(e){var t=this.globalCols.find((function(t){return t.field===e.field}));t.isFrozen=!t.isFrozen,this.recollectColumns()}},{key:"recollectColumns",value:function(){this.frozenCols=this.globalCols.filter((function(e){return e.isFrozen})),this.scrollableCols=this.globalCols.filter((function(e){return!e.isFrozen})),this.getFrozenWidth()}},{key:"getFrozenWidth",value:function(){var e=this.frozenCols.filter((function(e){return e.showField}));this.frozenWidth=(e.length?150*e.length:0)+"px",this.isTableFrozen=!!this.frozenCols&&!!this.frozenCols.length&&!!this.frozenCols.some((function(e){return!!e.showField}))}},{key:"selectColumns",value:function(){this.isSelectAllChecked=this.globalCols.filter((function(e){return!e.showField})).length<=0,this.getFrozenWidth()}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"closeConfigureColumns",value:function(){this.isConfigOpened=!1}},{key:"saveColumns",value:function(){var e=this,t="",i="";this.isConfigOpened=!1,this.frozenCols.forEach((function(i,n){i.showField&&(t+=i.field,n<e.frozenCols.length-1&&(t+=","))})),this.scrollableCols.forEach((function(t,n){t.showField&&(i+=t.field,n<e.scrollableCols.length-1&&(i+=","))}));var n=i+"/"+t;this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("Deal Details","Deal Summary",n,this.userId).then((function(t){e.userId=t.userId,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"exportExcel",value:function(){for(var e=[],t=0;t<this.globalCols.length;t++)this.globalCols[t].showField&&e.push(this.globalCols[t].field);window.location.href=this.dealsService.getRollUpExportUrl(this.dealId,this.isQuoteView?"Q":"D",this.isUsdView,e)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(e){return new(e||Et)(f.Pb(C.a),f.Pb(b),f.Pb(d.a),f.Pb(u.a))},Et.\u0275cmp=f.Jb({type:Et,selectors:[["app-deal-summary"]],decls:20,vars:27,consts:[[1,"pull-right","icons-list"],["onLabel","TC View","offLabel","USD View","onIcon","fa fa-toggle-on fa-sm","offIcon","fa fa-toggle-off fa-sm",1,"ui-inputswitch",3,"ngModel","disabled","ngModelChange"],[3,"frozenCols","scrollableCols","isSelectAllChecked","showConfigPopup","openConfig","closeConfig","saveConfig","toggleFreeze","selectColumn","selectAll"],["title","Export",3,"click"],[1,"fa","fa-external-link"],[3,"click"],[1,"fa","fa-list"],["routerLink","comments",1,"comments-icon"],[1,"fa","fa-comments"],[4,"ngIf"],[1,"x-scroll"],["id","deal-summary","lazy","true","columnResizeMode","expand","exportFilename","Deal_Data.csv",1,"ui-datatable","arrangementMgrTbl","wide-columns",3,"value","loading","paginator","rows","totalRecords","columns","frozenColumns","frozenWidth","scrollable","resizableColumns","onLazyLoad"],["dt",""],["pTemplate","colgroup"],[4,"ngFor","ngForOf"],["pTemplate","emptymessage"],[1,"count"],[3,"pTemplate"],["pResizableColumn","",3,"ngStyle","class","title",4,"ngIf"],["pResizableColumn","",3,"ngStyle","title"],[3,"pSelectableRow"],[3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],[3,"title"],["class","table-footer right-align",4,"ngIf"],[1,"table-footer","right-align"],[1,"no-results-data"]],template:function(e,t){1&e&&(f.Vb(0,"div",0),f.Vb(1,"p-toggleButton",1),f.dc("ngModelChange",(function(e){return t.isUsdView=e}))("ngModelChange",(function(){return t.getSummaryData()})),f.Ub(),f.Vb(2,"app-columns-config",2),f.dc("openConfig",(function(){return t.onConfiguringColumns()}))("closeConfig",(function(){return t.closeConfigureColumns()}))("saveConfig",(function(){return t.saveColumns()}))("toggleFreeze",(function(e){return t.onToggleFreeze(e)}))("selectColumn",(function(){return t.selectColumns()}))("selectAll",(function(){return t.onSelectAll()})),f.Ub(),f.Vb(3,"a",3),f.dc("click",(function(){return t.exportExcel()})),f.Qb(4,"em",4),f.Ub(),f.Vb(5,"a",5),f.dc("click",(function(){return t.toggleView()})),f.Qb(6,"em",6),f.Mc(7),f.Ub(),f.Vb(8,"a",7),f.Qb(9,"em",8),f.Kc(10,Te,3,1,"ng-container",9),f.hc(11,"async"),f.Ub(),f.Ub(),f.Vb(12,"div",10),f.Vb(13,"p-table",11,12),f.dc("onLazyLoad",(function(e){return t.getSummaryData(e)})),f.Kc(15,Pe,2,1,"ng-template",13),f.Kc(16,Qe,2,1,"ng-container",14),f.Kc(17,et,2,1,"ng-container",14),f.Kc(18,St,2,1,"ng-container",14),f.Kc(19,wt,3,0,"ng-template",15),f.Ub(),f.Ub()),2&e&&(f.Eb(1),f.oc("ngModel",t.isUsdView)("disabled",t.loading),f.Eb(1),f.oc("frozenCols",t.frozenCols)("scrollableCols",t.scrollableCols)("isSelectAllChecked",t.isSelectAllChecked)("showConfigPopup",t.isConfigOpened),f.Eb(5),f.Oc(" ",t.isQuoteView?"Deal View":"Quote View"," "),f.Eb(3),f.oc("ngIf",f.ic(11,23,t.totalComments$)),f.Eb(3),f.Gb(f.sc(25,At,!t.isTableFrozen)),f.oc("value",t.dealRollUpSummaryData)("loading",t.loading)("paginator",t.showPaginator)("rows",10)("totalRecords",t.totalElements)("columns",t.scrollableCols)("frozenColumns",t.frozenCols)("frozenWidth",t.frozenWidth)("scrollable",!0)("resizableColumns",!0),f.Eb(3),f.oc("ngForOf",t.tableHeaderTmpl),f.Eb(1),f.oc("ngForOf",t.tableBodyTmpl),f.Eb(1),f.oc("ngForOf",t.tableFooterTmpl))},directives:[Ae.a,S.k,S.n,ze,C.j,r.o,I.j,k.f,r.n,I.g,r.p,I.i],pipes:[r.b,r.g,r.f,z.a],styles:[".icons-list[_ngcontent-%COMP%]{margin-bottom:10px}#add-column-popup[_ngcontent-%COMP%]{top:240px;right:170px}.comments-icon[_ngcontent-%COMP%]{position:relative}.fa-comments[_ngcontent-%COMP%]{transform:scale(1.2)}.count[_ngcontent-%COMP%]{position:absolute;background:#ad1212;width:16px;height:16px;display:flex;justify-content:center;align-items:center;border-radius:50%;top:0;right:-4px;color:#fff}"]}),Et),Ft=a("xYYa"),Dt=a("qfV7"),Ut=a("Nf9I"),kt=a("7CaW");function Mt(e,t){if(1&e){var i=f.Wb();f.Tb(0),f.Vb(1,"a",14),f.dc("click",(function(){return f.Dc(i),f.gc(2).exportExcel()})),f.Qb(2,"em",15),f.Ub(),f.Sb()}}function It(e,t){if(1&e){var i=f.Wb();f.Vb(0,"div",9),f.Vb(1,"app-columns-config",10),f.dc("openConfig",(function(){return f.Dc(i),f.gc().onConfiguringColumns()}))("closeConfig",(function(){return f.Dc(i),f.gc().closeConfigureColumns()}))("saveConfig",(function(){return f.Dc(i),f.gc().saveColumns()}))("toggleFreeze",(function(e){return f.Dc(i),f.gc().onToggleFreeze(e)}))("selectColumn",(function(){return f.Dc(i),f.gc().selectColumns()}))("selectAll",(function(){return f.Dc(i),f.gc().onSelectAll()})),f.Ub(),f.Vb(2,"a",11),f.dc("click",(function(){f.Dc(i);var e=f.gc(),t=f.Bc(7);return e.reset(t)||e.reset(e.table)})),f.Qb(3,"em",12),f.Ub(),f.Kc(4,Mt,3,0,"ng-container",13),f.Ub()}if(2&e){var n=f.gc();f.Eb(1),f.oc("frozenCols",n.frozenCols)("scrollableCols",n.scrollableCols)("isSelectAllChecked",n.isSelectAllChecked)("showConfigPopup",n.isConfigOpened),f.Eb(3),f.oc("ngIf",!n.disableExport)}}function zt(e,t){1&e&&f.Qb(0,"col")}function Tt(e,t){if(1&e&&(f.Tb(0),f.Kc(1,zt,1,0,"col",13),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngIf",i.showField)}}function xt(e,t){if(1&e&&(f.Vb(0,"colgroup"),f.Kc(1,Tt,2,1,"ng-container",7),f.Ub()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngForOf",i)}}var Ot=function(e,t){return{display:e,"text-align":t}};function Pt(e,t){if(1&e&&(f.Tb(0),f.Vb(1,"th",17),f.Mc(2),f.Ub(),f.Sb()),2&e){var i=f.gc().$implicit;f.Eb(1),f.pc("title",i.header),f.oc("ngStyle",f.tc(3,Ot,i.display,i.alignment)),f.Eb(1),f.Nc(i.header)}}function Kt(e,t){if(1&e&&(f.Tb(0),f.Kc(1,Pt,3,6,"ng-container",13),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngIf",i.showField)}}function Lt(e,t){if(1&e&&(f.Vb(0,"tr"),f.Kc(1,Kt,2,1,"ng-container",7),f.Ub()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngForOf",i)}}function Nt(e,t){if(1&e&&(f.Tb(0),f.Kc(1,Lt,2,1,"ng-template",16),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("pTemplate",i)}}function $t(e,t){if(1&e&&(f.Vb(0,"td",19),f.Mc(1),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",n[i.field]),f.oc("ngStyle",f.tc(3,Ot,i.display,i.alignment)),f.Eb(1),f.Oc(" ",n[i.field]," ")}}function Rt(e,t){if(1&e&&(f.Vb(0,"td",19),f.Mc(1),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",n[i.field]),f.oc("ngStyle",f.tc(3,Ot,i.display,i.alignment)),f.Eb(1),f.Oc(" ",n[i.field]," ")}}function Qt(e,t){if(1&e&&(f.Vb(0,"td",19),f.hc(1,"date"),f.Mc(2),f.hc(3,"date"),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",f.jc(1,3,n[i.field],"MM/dd/yyyy")),f.oc("ngStyle",f.tc(9,Ot,i.display,i.alignment)),f.Eb(2),f.Oc(" ",f.jc(3,6,n[i.field],"MM/dd/yyyy")," ")}}function _t(e,t){if(1&e&&(f.Vb(0,"td",19),f.hc(1,"round"),f.Mc(2),f.hc(3,"round"),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",f.ic(1,3,n[i.field])),f.oc("ngStyle",f.tc(7,Ot,i.display,i.alignment)),f.Eb(2),f.Oc(" ",f.ic(3,5,n[i.field])," ")}}function Gt(e,t){if(1&e&&(f.Vb(0,"td",19),f.hc(1,"round"),f.Mc(2),f.hc(3,"round"),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",f.ic(1,3,n[i.field])),f.oc("ngStyle",f.tc(7,Ot,i.display,i.alignment)),f.Eb(2),f.Oc(" ",null!=n[i.field]?f.ic(3,5,n[i.field]):"-"," ")}}function jt(e,t){if(1&e&&(f.Vb(0,"td",19),f.hc(1,"round"),f.Mc(2),f.hc(3,"number"),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",f.ic(1,3,n[i.field])),f.oc("ngStyle",f.tc(8,Ot,i.display,i.alignment)),f.Eb(2),f.Oc(" ",null!=n[i.field]?f.jc(3,5,n[i.field],"1.2-2")+"%":"-"," ")}}function Wt(e,t){if(1&e&&(f.Vb(0,"td",19),f.hc(1,"round"),f.Mc(2),f.hc(3,"round"),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",f.ic(1,3,n[i.field])),f.oc("ngStyle",f.tc(7,Ot,i.display,i.alignment)),f.Eb(2),f.Oc(" ( ",f.ic(3,5,n[i.field])," ) ")}}function Bt(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",20),f.Ub())}function qt(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",21),f.Ub())}function Ht(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",22),f.Ub())}function Yt(e,t){if(1&e&&(f.Vb(0,"td",19),f.Kc(1,Bt,2,0,"span",13),f.Kc(2,qt,2,0,"span",13),f.Kc(3,Ht,2,0,"span",13),f.Ub()),2&e){var i=f.gc(2).$implicit,n=f.gc().$implicit;f.pc("title",n[i.field]),f.oc("ngStyle",f.tc(5,Ot,i.display,i.alignment)),f.Eb(1),f.oc("ngIf","RED"==n[i.field]),f.Eb(1),f.oc("ngIf","GREEN"==n[i.field]),f.Eb(1),f.oc("ngIf","YELLOW"==n[i.field])}}function Jt(e,t){if(1&e&&(f.Tb(0),f.Kc(1,$t,2,6,"td",18),f.Kc(2,Rt,2,6,"td",18),f.Kc(3,Qt,4,12,"td",18),f.Kc(4,_t,4,10,"td",18),f.Kc(5,Gt,4,10,"td",18),f.Kc(6,jt,4,11,"td",18),f.Kc(7,Wt,4,10,"td",18),f.Kc(8,Yt,4,8,"td",18),f.Sb()),2&e){var i=f.gc().$implicit;f.Eb(1),f.oc("ngIf","text"==i.type),f.Eb(1),f.oc("ngIf","number"==i.type),f.Eb(1),f.oc("ngIf","date"==i.type),f.Eb(1),f.oc("ngIf","round"==i.type),f.Eb(1),f.oc("ngIf","bround"==i.type),f.Eb(1),f.oc("ngIf","percent"==i.type),f.Eb(1),f.oc("ngIf","parentheses"==i.type),f.Eb(1),f.oc("ngIf","symbol"==i.type)}}function Xt(e,t){if(1&e&&(f.Tb(0),f.Kc(1,Jt,9,8,"ng-container",13),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngIf",i.showField)}}function Zt(e,t){if(1&e&&(f.Vb(0,"tr"),f.Kc(1,Xt,2,1,"ng-container",7),f.Ub()),2&e){var i=t.columns;f.Eb(1),f.oc("ngForOf",i)}}function ei(e,t){if(1&e&&(f.Tb(0),f.Kc(1,Zt,2,1,"ng-template",16),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("pTemplate",i)}}function ti(e,t){1&e&&f.Qb(0,"td")}function ii(e,t){1&e&&(f.Vb(0,"td"),f.Mc(1,"Totals:"),f.Ub())}function ni(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.Nc(f.ic(2,1,i.totalListAmount))}}function oi(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.Nc(f.ic(2,1,i.lineAmountTotal))}}function li(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.Nc(f.ic(2,1,i.vcTotal))}}function ai(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.Nc(f.ic(2,1,i.allocableNetTotal))}}function ci(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.Nc(f.ic(2,1,i.fvTotal))}}function ri(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.Nc(f.ic(2,1,i.allocationTotal))}}function si(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.Nc(f.ic(2,1,i.cvInOutAmountTotal))}}function di(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.Nc(f.ic(2,1,i.allocationFcTotal))}}function ui(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.Nc(f.ic(2,1,i.espTotal))}}function gi(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.Nc(f.ic(2,1,i.espInstTotal))}}function fi(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",20),f.Ub())}function hi(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",21),f.Ub())}function bi(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",22),f.Ub())}function pi(e,t){if(1&e&&(f.Vb(0,"td",25),f.Kc(1,fi,2,0,"span",13),f.Kc(2,hi,2,0,"span",13),f.Kc(3,bi,2,0,"span",13),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.oc("ngIf","RED"==i.allocStatusTotal),f.Eb(1),f.oc("ngIf","GREEN"==i.allocStatusTotal),f.Eb(1),f.oc("ngIf","YELLOW"==i.allocStatusTotal)}}function mi(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",20),f.Ub())}function vi(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",21),f.Ub())}function yi(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",22),f.Ub())}function Ci(e,t){if(1&e&&(f.Vb(0,"td",25),f.Kc(1,mi,2,0,"span",13),f.Kc(2,vi,2,0,"span",13),f.Kc(3,yi,2,0,"span",13),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.oc("ngIf","RED"==i.allocMarginStatusTotal),f.Eb(1),f.oc("ngIf","GREEN"==i.allocMarginStatusTotal),f.Eb(1),f.oc("ngIf","YELLOW"==i.allocMarginStatusTotal)}}function Si(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",20),f.Ub())}function wi(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",21),f.Ub())}function Ei(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",22),f.Ub())}function Ai(e,t){if(1&e&&(f.Vb(0,"td",25),f.Kc(1,Si,2,0,"span",13),f.Kc(2,wi,2,0,"span",13),f.Kc(3,Ei,2,0,"span",13),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.oc("ngIf","RED"==i.discountStatusTotal),f.Eb(1),f.oc("ngIf","GREEN"==i.discountStatusTotal),f.Eb(1),f.oc("ngIf","YELLOW"==i.discountStatusTotal)}}function Vi(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",20),f.Ub())}function Fi(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",21),f.Ub())}function Di(e,t){1&e&&(f.Vb(0,"span"),f.Qb(1,"i",22),f.Ub())}function Ui(e,t){if(1&e&&(f.Vb(0,"td",25),f.Kc(1,Vi,2,0,"span",13),f.Kc(2,Fi,2,0,"span",13),f.Kc(3,Di,2,0,"span",13),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.oc("ngIf","RED"==i.statusTotal),f.Eb(1),f.oc("ngIf","GREEN"==i.statusTotal),f.Eb(1),f.oc("ngIf","YELLOW"==i.statusTotal)}}function ki(e,t){if(1&e&&(f.Vb(0,"span"),f.Mc(1),f.Ub()),2&e){var i=f.gc(6);f.Eb(1),f.Oc("Lines Failing: ",i.commentsTotal,"")}}function Mi(e,t){if(1&e&&(f.Vb(0,"td",25),f.Kc(1,ki,2,1,"span",13),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.oc("ngIf",null!=i.commentsTotal)}}function Ii(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.Nc(f.ic(2,1,i.totalRebate))}}function zi(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.Nc(f.ic(2,1,i.totalGrossMargin))}}function Ti(e,t){if(1&e&&(f.Vb(0,"td"),f.Mc(1),f.hc(2,"round"),f.Ub()),2&e){var i=f.gc(5);f.Eb(1),f.Nc(f.ic(2,1,i.totalAllocatedMarginAmount))}}function xi(e,t){if(1&e&&(f.Tb(0),f.Kc(1,ti,1,0,"td",13),f.Kc(2,ii,2,0,"td",13),f.Kc(3,ni,3,3,"td",13),f.Kc(4,oi,3,3,"td",13),f.Kc(5,li,3,3,"td",13),f.Kc(6,ai,3,3,"td",13),f.Kc(7,ci,3,3,"td",13),f.Kc(8,ri,3,3,"td",13),f.Kc(9,si,3,3,"td",13),f.Kc(10,di,3,3,"td",13),f.Kc(11,ui,3,3,"td",13),f.Kc(12,gi,3,3,"td",13),f.Kc(13,pi,4,3,"td",24),f.Kc(14,Ci,4,3,"td",24),f.Kc(15,Ai,4,3,"td",24),f.Kc(16,Ui,4,3,"td",24),f.Kc(17,Mi,2,1,"td",24),f.Kc(18,Ii,3,3,"td",13),f.Kc(19,zi,3,3,"td",13),f.Kc(20,Ti,3,3,"td",13),f.Sb()),2&e){var i=f.gc().$implicit;f.Eb(1),f.oc("ngIf","empty"==i.footer),f.Eb(1),f.oc("ngIf","totals"==i.footer),f.Eb(1),f.oc("ngIf","totalListAmount"==i.footer),f.Eb(1),f.oc("ngIf","lineAmountTotal"==i.footer),f.Eb(1),f.oc("ngIf","vcTotal"==i.footer),f.Eb(1),f.oc("ngIf","allocableNetTotal"==i.footer),f.Eb(1),f.oc("ngIf","fvTotal"==i.footer),f.Eb(1),f.oc("ngIf","allocationTotal"==i.footer),f.Eb(1),f.oc("ngIf","cvInOutAmountTotal"==i.footer),f.Eb(1),f.oc("ngIf","allocationFcTotal"==i.footer),f.Eb(1),f.oc("ngIf","espTotal"==i.footer),f.Eb(1),f.oc("ngIf","espInstTotal"==i.footer),f.Eb(1),f.oc("ngIf","allocStatusTotal"==i.footer),f.Eb(1),f.oc("ngIf","allocMarginStatusTotal"==i.footer),f.Eb(1),f.oc("ngIf","discountStatusTotal"==i.footer),f.Eb(1),f.oc("ngIf","statusTotal"==i.footer),f.Eb(1),f.oc("ngIf","commentsTotal"==i.footer),f.Eb(1),f.oc("ngIf","totalRebate"==i.footer),f.Eb(1),f.oc("ngIf","totalGrossMargin"==i.footer),f.Eb(1),f.oc("ngIf","totalAllocatedMarginAmount"==i.footer)}}function Oi(e,t){if(1&e&&(f.Tb(0),f.Kc(1,xi,21,20,"ng-container",13),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngIf",i.showField)}}function Pi(e,t){if(1&e&&(f.Vb(0,"tr",23),f.Kc(1,Oi,2,1,"ng-container",7),f.Ub()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngForOf",i)}}function Ki(e,t){if(1&e&&(f.Tb(0),f.Kc(1,Pi,2,1,"ng-template",16),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("pTemplate",i)}}function Li(e,t){if(1&e&&(f.Vb(0,"div",26),f.Vb(1,"p"),f.Mc(2),f.Ub(),f.Ub()),2&e){var i=f.gc();f.Eb(2),f.Nc(i.noData)}}var Ni,$i=function(e){return{unfrozen:e}},Ri=((Ni=function(){function t(e,i,o,l,a,c,r,s,d,u){var f=this;n(this,t),this.ref=e,this.arrgContractAllocationsVService=i,this.router=o,this.confirmationService=l,this.formBuilder=a,this.commonSharedService=c,this.notificationService=r,this.datePipe=s,this.dealArrgService=d,this.location=u,this.tempDisplayDialog=!1,this.displayPageSize=20,this.displayProspectiveDialog=!1,this.noData=g.noData,this.selectedDeals=[],this.displayProspDeals=!1,this.arrgContractAllocationsV=new Qi,this.arrgContractAllocationsVSearch=new Qi,this.prospectiveDeals=new _i,this.prospectiveDealsList=[],this.prospectiveDealListConst=[],this.isSerached=0,this.arrgContractAllocationsVList=[],this.newProspectiveDealsList=[],this.rowCount=10,this.collapsed=!0,this.table={},this.isConfigOpened=!1,this.isSelectAllChecked=!0,this.frozenCols=[],this.scrollableCols=[],this.tableHeaderTmpl=["frozenheader","header"],this.tableBodyTmpl=["frozenbody","body"],this.tableFooterTmpl=["frozenfooter","footer"],this.isTableFrozen=!1,this.showPaginator=!0,this.exportCols=[],this.disableExport=!0,this.quoteOrderSwitch=!1,this.formErrors={arrangementNumber:"",arrangementName:""},this.validationMessages={arrangementNumber:{required:"Arrangement Number is required"},arrangementName:{required:"Arrangement Name is required"}},this.swicthClickRecognizer=!1,this.hideColumnMenu=!0,this.showFilter=!1,this.paginationOptions={pageNumber:0,pageSize:"10000"},this.data=this.location.getState(),this.arrIdK=this.data.arrgId,this.router.events.subscribe((function(e){e instanceof C.c&&(f.arrIdK=e.url.split("/")[3])}))}return l(t,[{key:"ngOnInit",value:function(){this.selectedDeals=[],this.globalCols=y,this.columns=[],this.getTableColumns("Deal Details","Deal Allocations"),this.buildForm()}},{key:"getTableColumns",value:function(t,i){var n=this;this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(t,i).then((function(t){if(t&&null!=t&&t.userId){var i=t.tableColumns.split("/"),o=i[0].split(","),l=i[1]?i[1].split(","):[];n.globalCols.forEach((function(t){t.showField=-1!==[].concat(e(o),e(l)).indexOf(t.field)}));var a=n.globalCols.filter((function(e){return!e.showField}));o.forEach((function(e){var t=n.globalCols.find((function(t){return t.field===e}));t&&n.scrollableCols.push(t)})),l.forEach((function(e){var t=n.globalCols.find((function(t){return t.field===e}));t&&(t.isFrozen=!0,n.frozenCols.push(t))})),a.forEach((function(e){n.scrollableCols.push(e)})),n.globalCols=[].concat(e(n.frozenCols),e(n.scrollableCols)),n.getFrozenWidth(),o.length+l.length!==n.globalCols.length&&(n.isSelectAllChecked=!1),n.showPaginator=o.length+l.length!==0,n.userId=t.userId}else n.recollectColumns()})).catch((function(){n.notificationService.showError("Error occured while getting table columns data"),n.loading=!1}))}},{key:"saveColumns",value:function(){var e=this,t="",i="";this.isConfigOpened=!1,this.frozenCols.forEach((function(i,n){i.showField&&(t+=i.field,n<e.frozenCols.length-1&&(t+=","))})),this.scrollableCols.forEach((function(t,n){t.showField&&(i+=t.field,n<e.scrollableCols.length-1&&(i+=","))}));var n=i+"/"+t;console.log(n),this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("Deal Details","Deal Allocations",n,this.userId).then((function(t){e.userId=t.userId,e.showPaginator=0!==e.columns.length,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}},{key:"onToggleFreeze",value:function(e){var t=this.globalCols.find((function(t){return t.field===e.field}));t.isFrozen=!t.isFrozen,this.recollectColumns()}},{key:"recollectColumns",value:function(){this.frozenCols=this.globalCols.filter((function(e){return e.isFrozen})),this.scrollableCols=this.globalCols.filter((function(e){return!e.isFrozen})),this.getFrozenWidth()}},{key:"getFrozenWidth",value:function(){var e=this.frozenCols.filter((function(e){return e.showField}));this.frozenWidth=(e.length?150*e.length:0)+"px",this.isTableFrozen=!!this.frozenCols&&!!this.frozenCols.length&&!!this.frozenCols.some((function(e){return!!e.showField}))}},{key:"selectColumns",value:function(){this.isSelectAllChecked=this.globalCols.filter((function(e){return!e.showField})).length<=0,this.getFrozenWidth()}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"onConfiguringColumns",value:function(){this.isConfigOpened=!0}},{key:"closeConfigureColumns",value:function(){this.isConfigOpened=!1}},{key:"exportExcel",value:function(){this.exportCols=[];for(var e=0;e<this.globalCols.length;e++)this.globalCols[e].showField&&this.exportCols.push(this.globalCols[e].field);var t=this.arrgContractAllocationsVService.getServiceUrl(this.paginationOptions,{dealArrangementId:this.arrIdK},1,this.exportCols,this.quoteOrderSwitch);window.location.href=t}},{key:"OnReceiveChange",value:function(e){}},{key:"reset",value:function(e){this.paginationOptions={},this.selectedDeals=[],this.arrgContractAllocationsV=new Qi,e.reset()}},{key:"buildForm",value:function(){var e=this;this.allocationsForm=this.formBuilder.group({arrangementNumber:["",[S.t.required]],arrangementName:["",[S.t.required]],unitSellingPrice:[""],undeliveredQty:[""]}),this.allocationsForm.valueChanges.subscribe((function(t){return e.onValueChanged(t)})),this.onValueChanged()}},{key:"onValueChanged",value:function(e){if(this.allocationsForm){var t=this.allocationsForm;for(var i in this.formErrors){this.formErrors[i]="";var n=t.get(i);if(n&&n.dirty&&!n.valid){var o=this.validationMessages[i];for(var l in n.errors)this.formErrors[i]+=o[l]+" "}}}}},{key:"onQuoteOrderSwitch",value:function(){this.swicthClickRecognizer=!0,this.arrgContractAllocationsV=new Qi,this.getAllArrgContractAllocationsV()}},{key:"getAllArrgContractAllocationsV",value:function(){var e=this;this.swicthClickRecognizer||(this.loading=!0,this.dealArrgService.getDealArrangementBasis(this.arrIdK).then((function(t){e.revenueContractBasis=t,"SO"!==e.revenueContractBasis&&"PO"!==e.revenueContractBasis||(e.quoteOrderSwitch=!0)}))),this.lineAmountTotal=0,this.vcTotal=0,this.allocableNetTotal=0,this.fvTotal=0,this.allocationTotal=0,this.allocationFcTotal=0,this.cvInOutAmountTotal=0,this.totalListAmount=0,this.espTotal=0,this.espInstTotal=0,this.statusTotal=null,this.allocStatusTotal=null,this.allocMarginStatusTotal=null,this.discountStatusTotal=null,this.commentsTotal=null,this.loading=!0,this.arrgContractAllocationsV.dealArrangementId=this.arrIdK,this.arrgContractAllocationsVService.getAllArrgContractAllocationsV(this.paginationOptions,this.arrgContractAllocationsV,this.exportCols,this.quoteOrderSwitch).then((function(t){e.datasource=t.content,e.arrgContractAllocationsVList=t.content,e.totalElements=t.totalElements,e.pageSize=t.size,e.getAllAllocationsTotal(),e.displaySearchDialog=!1,e.disableExport=!1})).catch((function(t){e.loading=!1,e.notificationService.showError("Network failed / service is down")}))}},{key:"getArrgContractAllocationsV",value:function(e){var t=this;this.swicthClickRecognizer||(this.loading=!0,this.dealArrgService.getDealArrangementBasis(this.arrIdK).then((function(i){t.revenueContractBasis=i,"SO"!==t.revenueContractBasis&&"PO"!==t.revenueContractBasis||(t.quoteOrderSwitch=!0),t.paginationOptions={pageNumber:e.first/e.rows,pageSize:t.pageSize,sortField:e.sortField,sortOrder:e.sortOrder},t.loading=!0,t.arrgContractAllocationsV.dealArrangementId=t.arrIdK,t.arrgContractAllocationsVService.getAllArrgContractAllocationsV(t.paginationOptions,t.arrgContractAllocationsV,t.exportCols,t.quoteOrderSwitch).then((function(e){t.datasource=e.content,t.arrgContractAllocationsVList=e.content,t.totalElements=e.totalElements,t.pageSize=e.size,t.getAllAllocationsTotal()})).catch((function(e){t.loading=!1,t.notificationService.showError("Network failed / service is down")}))})))}},{key:"getAllAllocationsTotal",value:function(){var e=this;this.arrgContractAllocationsVService.getAllAllocationsTotal(this.arrIdK,this.quoteOrderSwitch).then((function(t){e.lineAmountTotal=t.totalLineAmount,e.vcTotal=t.totalVCAmount,e.allocableNetTotal=t.totalAllocableNetPrice,e.fvTotal=t.totalSSPAmount,e.allocationTotal=t.totalAllocationAmount,e.allocationFcTotal=t.totalAllocationFcAmount,e.cvInOutAmountTotal=t.totalCvInOutAmount,e.totalListAmount=t.totalListAmount,e.espTotal=t.totalEsp,e.espInstTotal=t.totalEspinst,e.statusTotal=t.totalRevenueGuidanceAnalysis,e.allocStatusTotal=t.totalAllocationGuidanceAnalysis,e.allocMarginStatusTotal=t.totalAllocationMarginGuidanceAnalysis,e.discountStatusTotal=t.totalDiscountGuidanceAnalysis,e.commentsTotal=t.totalRevenueGuidanceDescription,e.totalRebate=t.totalRebate,e.totalGrossMargin=t.totalGrossMargin,e.totalAllocatedMarginAmount=t.totalAllocatedMarginAmount,e.loading=!1,e.disableExport=!1})).catch((function(t){e.loading=!1}))}},{key:"getProspDealsOnLoad",value:function(){var e=this;this.loading=!0,this.arrgContractAllocationsVService.getAllProspectiveDealsTest(this.arrIdK,this.dealLinesList).subscribe((function(t){e.totalRecords=t.length,e.prospectiveDealListConst=t,e.prospectiveDealsList=t.slice(0,10);var i=0;e.prospectiveDealsList.forEach((function(t){t.contractStartDate&&(e.prospectiveDealsList[i].contractStartDate=new Date(t.contractStartDate)),t.contractEndDate&&(e.prospectiveDealsList[i].contractEndDate=new Date(t.contractEndDate)),t.serviceStartDate&&(e.prospectiveDealsList[i].serviceStartDate=new Date(t.serviceStartDate)),t.serviceEndDate&&(e.prospectiveDealsList[i].serviceEndDate=new Date(t.serviceEndDate)),i++})),e.loading=!1}),(function(t){e.loading=!1,e.notificationService.showError("Network failed / service is down")})),this.displayProspectiveDialog=!0}},{key:"getProspectiveDeals",value:function(){if(null!=this.selectedDeals)if(this.selectedDeals.length>0){this.dealLinesList=[];for(var e=0;e<this.selectedDeals.length;e++)this.dealLinesList.push(this.selectedDeals[e].dealLineId)}else this.notificationService.showError("Select at least one deal Line to prospective");else this.notificationService.showError("Select at least one deal Line to prospective")}},{key:"processTheProspectiveDeals",value:function(){var e=this;this.arrgContractAllocationsVService.getValidArrangement(this.arrgNumber,this.arrgName).then((function(t){"Y"==t?e.notificationService.showError("Arrangement already exist"):"N"==t&&(e.loading=!0,e.arrgContractAllocationsVService.processProspectiveDeals(e.arrIdK,e.arrgNumber,e.arrgName,e.prospectiveDealsList).then((function(t){t?(e.getAllArrgContractAllocationsV(),e.displayProspectiveDialog=!1,e.notificationService.showSuccess("Sucessfully Processed.Created the arrangement"+e.arrgNumber)):(e.getAllArrgContractAllocationsV(),e.displayProspectiveDialog=!1,e.notificationService.showError("Failed to Process Prospective Deals are failed..!"))})).catch((function(t){e.loading=!1,e.displayProspectiveDialog=!1,e.notificationService.showError("Network failed / service is down")})))})),this.buildForm()}},{key:"processRetrospectiveDeals",value:function(){var e=this;this.loading=!0,this.arrgContractAllocationsVService.processRetrospectiveDeals(this.arrIdK).then((function(t){t?(e.getAllArrgContractAllocationsV(),e.notificationService.showSuccess("Sucessfully Retropective Process executed for  "+e.arrIdK+" Arrangement")):(e.getAllArrgContractAllocationsV(),e.notificationService.showError("Retropective Process is failed..!"))})).catch((function(t){e.loading=!1,e.notificationService.showError("Network failed / service is down")}))}},{key:"reallocation",value:function(){var e=this;this.confirmationService.confirm({message:"Are you sure,Do you want to reallocate?",header:"Confirmation",icon:"",accept:function(){e.arrgContractAllocationsVService.reallocation(e.arrIdK).then((function(t){e.getAllArrgContractAllocationsV()})),e.notificationService.showSuccess("Allocation Successfully done.")},reject:function(){e.notificationService.showSuccess("You have rejected.")}})}},{key:"showDialogToAdd",value:function(){this.newArrgContractAllocationsV=!0,this.arrgContractAllocationsV=new Qi,this.displayDialog=!0,this.buildForm()}},{key:"save",value:function(){var e=this;this.newArrgContractAllocationsV?(this.loading=!0,this.arrgContractAllocationsVService.saveArrgContractAllocationsV(this.arrgContractAllocationsV).then((function(t){e.getAllArrgContractAllocationsV()})).catch((function(t){e.loading=!1,e.notificationService.showError("Error occured while saving the data")}))):(this.loading=!0,this.arrgContractAllocationsVService.updateArrgContractAllocationsV(this.arrgContractAllocationsV).then((function(t){e.getAllArrgContractAllocationsV()})).catch((function(t){e.loading=!1,e.notificationService.showError("Error occured while saving the data")}))),this.arrgContractAllocationsV=new Qi,this.displayDialog=!1}},{key:"delete",value:function(e){var t=this;this.arrgContractAllocationsV=e,this.displayDialog=!1,window.confirm("Are you sure you want to delete this record?")&&(this.arrgContractAllocationsVList.splice(this.findSelectedArrgContractAllocationsVIndex(),1),this.loading=!0,this.arrgContractAllocationsVService.deleteArrgContractAllocationsV(this.arrgContractAllocationsV).then((function(e){t.arrgContractAllocationsV=new Qi,t.getAllArrgContractAllocationsV()})))}},{key:"editRow",value:function(e){this.newArrgContractAllocationsV=!1,this.arrgContractAllocationsV=this.cloneArrgContractAllocationsV(e),this.displayDialog=!0}},{key:"findSelectedArrgContractAllocationsVIndex",value:function(){return this.arrgContractAllocationsVList.indexOf(this.selectedArrgContractAllocationsV)}},{key:"onRowSelect",value:function(e){var t=this;this.arrgContractAllocationsVList.forEach((function(i){(Math.trunc(i.dealLineNumber)==Math.trunc(e.data.dealLineNumber)&&i.dealLineNumber!=e.data.dealLineNumber||i.parentLineId==e.data.dealLineNumber||i.dealLineNumber==e.data.parentLineId||null!=i.parentLineId&&i.parentLineId==e.data.parentLineId)&&(null!=t.selectedDeals?t.selectedDeals.length>0?t.selectedDeals[t.selectedDeals.length]=i:t.selectedDeals[0]=i:(t.selectedDeals=[],t.selectedDeals[0]=i))}))}},{key:"onRowUnselect",value:function(e){var t=this;this.arrgContractAllocationsVList.forEach((function(i){(Math.trunc(i.dealLineNumber)==Math.trunc(e.data.dealLineNumber)||i.parentLineId==e.data.dealLineNumber||i.dealLineNumber==e.data.parentLineId||null!=i.parentLineId&&i.parentLineId==e.data.parentLineId)&&t.selectedDeals.splice(t.selectedDeals.indexOf(i),1)}))}},{key:"cloneArrgContractAllocationsV",value:function(e){var t=new Qi;for(var i in e)t[i]=e[i];return t}},{key:"toggleColumnMenu",value:function(){this.hideColumnMenu=!this.hideColumnMenu}},{key:"toggleFilterBox",value:function(){this.showFilter=!this.showFilter}},{key:"showDialogToSearch",value:function(){this.arrgContractAllocationsVSearch=new Qi,0==this.isSerached&&(this.arrgContractAllocationsVSearch=new Qi),this.displaySearchDialog=!0}},{key:"search",value:function(){this.isSerached=1,this.arrgContractAllocationsV=this.arrgContractAllocationsVSearch,this.getAllArrgContractAllocationsV()}},{key:"onBeforeToggle",value:function(e){this.collapsed=e.collapsed}},{key:"ProspectiveAnalysis",value:function(){if(this.prospectiveDealsList=[],this.arrgName="",this.arrgNumber="",null!=this.selectedDeals)if(this.selectedDeals.length>0){this.dealLinesList=[];for(var e=0;e<this.selectedDeals.length;e++)this.dealLinesList.push(this.selectedDeals[e].dealLineId);this.prospectiveDealsList=[],this.getProspDealsOnLoad()}else this.notificationService.showWarning("No deals Lines Selected to Prospective..!");else this.notificationService.showError("Select atleast one deal Line to Prospective..!")}},{key:"paginate",value:function(e){this.loading=!0,this.prospectiveDealsList=this.prospectiveDealListConst.slice(e.first,e.first+10),this.loading=!1}},{key:"executeRetrospectiveProcess",value:function(){var e=this;this.confirmationService.confirm({message:"Are you sure you want to retrospective process for this arrangement?",header:"Confirmation",icon:"",accept:function(){e.processRetrospectiveDeals(),e.notificationService.showInfo("You have accepted")},reject:function(){e.notificationService.showInfo("You have rejected")}})}}]),t}()).\u0275fac=function(e){return new(e||Ni)(f.Pb(f.i),f.Pb(Ft.a),f.Pb(C.g),f.Pb(k.a),f.Pb(S.c),f.Pb(u.a),f.Pb(d.a),f.Pb(r.f),f.Pb(Dt.a),f.Pb(r.k))},Ni.\u0275cmp=f.Jb({type:Ni,selectors:[["app-deal-allocations"]],inputs:{arrId:"arrId"},decls:13,vars:19,consts:[[1,"content-section","implementation"],["width","425"],[3,"onBeforeToggle"],["class","pull-right icons-list",4,"ngIf"],["id","alloc-dt","columnResizeMode","expand",1,"ui-datatable","arrangementMgrTbl","wide-columns",3,"loading","columns","frozenColumns","frozenWidth","scrollable","value","lazy","paginator","rows","totalRecords","resizableColumns","onLazyLoad"],["dt",""],["pTemplate","colgroup"],[4,"ngFor","ngForOf"],["pTemplate","emptymessage"],[1,"pull-right","icons-list"],[3,"frozenCols","scrollableCols","isSelectAllChecked","showConfigPopup","openConfig","closeConfig","saveConfig","toggleFreeze","selectColumn","selectAll"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],[4,"ngIf"],["title","Export",3,"click"],[1,"fa","fa-external-link"],[3,"pTemplate"],["pResizableColumn","",3,"ngStyle","title"],[3,"title","ngStyle",4,"ngIf"],[3,"title","ngStyle"],["aria-hidden","true",1,"fa","fa-circle","red-color"],["aria-hidden","true",1,"fa","fa-circle","green-color"],["aria-hidden","true",1,"fa","fa-circle","yellow-color"],[1,"table-footer","right-align"],["class","text",4,"ngIf"],[1,"text"],[1,"no-results-data"]],template:function(e,t){1&e&&(f.Qb(0,"div",0),f.Qb(1,"p-confirmDialog",1),f.Vb(2,"p-panel",2),f.dc("onBeforeToggle",(function(e){return t.onBeforeToggle(e)})),f.Vb(3,"p-header"),f.Kc(4,It,5,5,"div",3),f.Ub(),f.Vb(5,"div"),f.Vb(6,"p-table",4,5),f.dc("onLazyLoad",(function(e){return t.getArrgContractAllocationsV(e)})),f.Kc(8,xt,2,1,"ng-template",6),f.Kc(9,Nt,2,1,"ng-container",7),f.Kc(10,ei,2,1,"ng-container",7),f.Kc(11,Ki,2,1,"ng-container",7),f.Kc(12,Li,3,1,"ng-template",8),f.Ub(),f.Ub(),f.Ub()),2&e&&(f.Eb(4),f.oc("ngIf",t.collapsed),f.Eb(2),f.Gb(f.sc(17,$i,!t.isTableFrozen)),f.oc("loading",t.loading)("columns",t.scrollableCols)("frozenColumns",t.frozenCols)("frozenWidth",t.frozenWidth)("scrollable",!0)("value",t.arrgContractAllocationsVList)("lazy",!0)("paginator",t.showPaginator)("rows",t.pageSize)("totalRecords",t.totalElements)("resizableColumns",!0),f.Eb(3),f.oc("ngForOf",t.tableHeaderTmpl),f.Eb(1),f.oc("ngForOf",t.tableBodyTmpl),f.Eb(1),f.oc("ngForOf",t.tableFooterTmpl))},directives:[Ut.a,kt.a,k.c,r.o,I.j,k.f,r.n,ze,I.g,r.p],pipes:[r.f,z.a,r.g],encapsulation:2}),Ni),Qi=function e(t,i,o,l,a,c,r,s,d,u,g,f,h,b,p,m,v,y,C,S,w,E,A,V,F,D,U,k,M,I,z,T,x,O,P,K,L,N,$,R,Q,_,G){n(this,e),this.dealLineId=t,this.quantity=i,this.elementType=o,this.allocationAmount=l,this.parentLineNumber=a,this.totalCost=c,this.dealCurrencyCode=r,this.unitSellingPrice=s,this.unitListPrice=d,this.fmvCategory=u,this.cvInOutAmount=g,this.bundleAttribitionList=f,this.dealNumber=h,this.lineAmount=b,this.repCurrCode=p,this.fmvRuleName=m,this.pobGrouping=v,this.dealLineNumber=y,this.productGroup=C,this.fmvMin=S,this.fmvMean=w,this.fmvAmount=E,this.dealHeaderId=A,this.solution=V,this.parentLineId=F,this.productName=D,this.dealArrangementId=U,this.trxCurrencyCode=k,this.accountingScope=M,this.productType=I,this.fmvMax=z,this.accountingStandard=T,this.uomCode=x,this.allocationInclusive=O,this.bundleAttribitionNet=P,this.bundleFlag=K,this.fmvType=L,this.vc=N,this.arrgLineNumber=$,this.allocableAmount=R,this.sspLow=Q,this.sspHigh=_,this.netPriceDiscount=G},_i=function e(t,i,o,l,a,c,r,s,d,u,g,f,h,b,p,m,v,y){n(this,e),this.dealArrangmentId=t,this.quantity=i,this.unitListPrice=o,this.unitSellingPrice=l,this.dealNumber=a,this.dealLineNumber=c,this.productName=r,this.uomCode=s,this.dealCurrencyCode=d,this.conversionRate=u,this.contractStartDate=g,this.contractEndDate=f,this.serviceStartDate=h,this.serviceEndDate=b,this.dealLineId=p,this.undeliveredQty=m,this.undQty=v,this.ssp=y},Gi=a("OBQ6");function ji(e,t){1&e&&f.Qb(0,"col")}function Wi(e,t){if(1&e&&(f.Tb(0),f.Kc(1,ji,1,0,"col",13),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngIf",i.showField)}}function Bi(e,t){if(1&e&&(f.Vb(0,"colgroup"),f.Kc(1,Wi,2,1,"ng-container",11),f.Ub()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngForOf",i)}}function qi(e,t){if(1&e&&(f.Vb(0,"th"),f.Mc(1),f.Ub()),2&e){var i=f.gc().$implicit;f.Ic(i.style),f.Eb(1),f.Oc(" ","Net Price"===i.header?"Bookings Value":i.header," ")}}function Hi(e,t){if(1&e&&(f.Tb(0),f.Kc(1,qi,2,3,"th",15),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngIf",i.showField)}}function Yi(e,t){if(1&e&&(f.Vb(0,"tr"),f.Kc(1,Hi,2,1,"ng-container",11),f.Ub()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngForOf",i)}}function Ji(e,t){if(1&e&&(f.Tb(0),f.Kc(1,Yi,2,1,"ng-template",14),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("pTemplate",i)}}function Xi(e,t){if(1&e&&(f.Vb(0,"td"),f.Vb(1,"span",17),f.Mc(2),f.hc(3,"number"),f.Ub(),f.Ub()),2&e){var i=f.gc().$implicit,n=f.gc().$implicit;f.Ic(i.style),f.Eb(1),f.pc("title",n[i.field]),f.Eb(1),f.Oc("","number"==i.type?f.jc(3,4,n[i.field],"1.2-2"):n[i.field]," ")}}function Zi(e,t){if(1&e&&(f.Tb(0),f.Kc(1,Xi,4,7,"td",15),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("ngIf",i.showField)}}function en(e,t){if(1&e&&(f.Vb(0,"tr",16),f.Kc(1,Zi,2,1,"ng-container",11),f.Ub()),2&e){var i=t.columns;f.oc("pSelectableRow",t.$implicit),f.Eb(1),f.oc("ngForOf",i)}}function tn(e,t){if(1&e&&(f.Tb(0),f.Kc(1,en,2,2,"ng-template",14),f.Sb()),2&e){var i=t.$implicit;f.Eb(1),f.oc("pTemplate",i)}}function nn(e,t){if(1&e&&(f.Vb(0,"div",18),f.Vb(1,"p"),f.Mc(2),f.Ub(),f.Ub()),2&e){var i=f.gc();f.Eb(2),f.Nc(i.noData)}}var on,ln=function(){return{"margin-bottom":"20px"}},an=function(e){return{unfrozen:e}},cn=((on=function(){function t(e,i,o,l){var a=this;n(this,t),this.rmanDealRfcstVService=e,this.router=i,this.notificationService=o,this.commonSharedService=l,this.rmanDealRfcstV=new rn,this.isSerached=0,this.globalCols=[],this.frozenCols=[],this.scrollableCols=[],this.tableHeaderTmpl=["header","frozenheader"],this.tableBodyTmpl=["body","frozenbody"],this.isTableFrozen=!1,this.noData=g.noData,this.paginationOptions={},this.isSelectAllChecked=!0,this.isConfigOpened=!1,this.showPaginator=!0,this.paginationOptions={pageNumber:0,pageSize:10},this.router.events.subscribe((function(e){e instanceof C.c&&(a.arrIdK=e.url.split("/")[3])}))}return l(t,[{key:"ngOnInit",value:function(){this.getDealForecastingView()}},{key:"reset",value:function(e){e.reset(),this.paginationOptions={},this.rmanDealRfcstV=new rn,this.getDealForecastingView()}},{key:"exportExcel",value:function(){var e=this.rmanDealRfcstVService.getServiceUrl(this.paginationOptions,{arrangementId:this.arrIdK},1);window.location.href=e}},{key:"getDealForecastingView",value:function(){var e=this;this.loading=!0,this.rmanDealRfcstVService.getRmanForecastView(this.arrIdK).then((function(t){e.rDealFCSTViewList=t.Content,e.loading=!1;var i=e.rDealFCSTViewList[0];for(var n in i)["Element Type"].includes(n)?e.globalCols.push({field:n,header:n,drag:!0,showField:!0,style:{width:"100px","text-align":e.setColAlignment(n)},hide:!1}):["Arrangement Number","SKU"].includes(n)||["Expected Booking Amount"].includes(n)?e.globalCols.push({field:n,header:n,drag:!0,showField:!0,style:{width:"180px","text-align":e.setColAlignment(n)},hide:!1}):e.globalCols.push({field:n,header:n,drag:!0,showField:!0,style:{width:"100px","text-align":e.setColAlignment(n)},hide:!1});e.getTableColumns("Deal Details","Deal Forecasting"),e.rDealFCSTViewList=t.Content,e.totalRecords=e.rDealFCSTViewList.length})).catch((function(t){e.loading=!1,e.notificationService.showError("Error occured while getting data")}))}},{key:"setColAlignment",value:function(e){return["Line No","Ayara Line Id","Quote Line Id","Product Name"].some((function(t){return t===e}))?"left":"right"}},{key:"getTableColumns",value:function(t,i){var n=this;this.isSelectAllChecked=!0,this.commonSharedService.getConfiguredColDetails(t,i).then((function(t){if(t&&null!=t&&t.userId){var i=t.tableColumns.split("/"),o=i[0].split(","),l=i[1]?i[1].split(","):[];n.globalCols.forEach((function(t){t.showField=-1!==[].concat(e(o),e(l)).indexOf(t.field)}));var a=n.globalCols.filter((function(e){return!e.showField}));o.forEach((function(e){var t=n.globalCols.find((function(t){return t.field===e}));t&&n.scrollableCols.push(t)})),l.forEach((function(e){var t=n.globalCols.find((function(t){return t.field===e}));t&&(t.isFrozen=!0,n.frozenCols.push(t))})),a.forEach((function(e){n.scrollableCols.push(e)})),n.globalCols=[].concat(e(n.frozenCols),e(n.scrollableCols)),n.getFrozenWidth(),o.length+l.length!==n.globalCols.length&&(n.isSelectAllChecked=!1),n.showPaginator=o.length+l.length!==0,n.userId=t.userId}else n.recollectColumns()})).catch((function(){n.notificationService.showError("Error occured while getting table columns data"),n.loading=!1}))}},{key:"onConfiguringColumns",value:function(){this.isConfigOpened=!0}},{key:"onToggleFreeze",value:function(e){var t=this.globalCols.find((function(t){return t.field===e.field}));t.isFrozen=!t.isFrozen,this.recollectColumns()}},{key:"recollectColumns",value:function(){this.frozenCols=this.globalCols.filter((function(e){return e.isFrozen})),this.scrollableCols=this.globalCols.filter((function(e){return!e.isFrozen})),this.getFrozenWidth()}},{key:"getFrozenWidth",value:function(){var e=this.frozenCols.filter((function(e){return e.showField}));this.frozenWidth=(e.length?150*e.length:0)+"px",this.isTableFrozen=!!this.frozenCols&&!!this.frozenCols.length&&!!this.frozenCols.some((function(e){return!!e.showField}))}},{key:"selectColumns",value:function(){this.isSelectAllChecked=this.globalCols.filter((function(e){return!e.showField})).length<=0,this.getFrozenWidth()}},{key:"onSelectAll",value:function(){var e=this;this.isSelectAllChecked=!this.isSelectAllChecked,this.globalCols.forEach((function(t){e.isSelectAllChecked?t.showField=!0:t.drag&&(t.showField=!1)}))}},{key:"closeConfigureColumns",value:function(){this.isConfigOpened=!1}},{key:"saveColumns",value:function(){var e=this,t="",i="";this.isConfigOpened=!1,this.frozenCols.forEach((function(i,n){i.showField&&(t+=i.field,n<e.frozenCols.length-1&&(t+=","))})),this.scrollableCols.forEach((function(t,n){t.showField&&(i+=t.field,n<e.scrollableCols.length-1&&(i+=","))}));var n=i+"/"+t;this.loading=!0,this.commonSharedService.saveOrUpdateTableColumns("Deal Details","Deal Forecasting",n,this.userId).then((function(t){e.userId=t.userId,e.loading=!1})).catch((function(){e.notificationService.showError("Error occured while getting data"),e.loading=!1}))}}]),t}()).\u0275fac=function(e){return new(e||on)(f.Pb(Gi.a),f.Pb(C.g),f.Pb(d.a),f.Pb(u.a))},on.\u0275cmp=f.Jb({type:on,selectors:[["app-deal-forecasting"]],decls:16,vars:21,consts:[[1,"content-section","implementation"],[1,"pull-right","icons-list"],[3,"frozenCols","scrollableCols","isSelectAllChecked","showConfigPopup","openConfig","closeConfig","saveConfig","toggleFreeze","selectColumn","selectAll"],["title","Reset",3,"click"],[1,"fa","fa-refresh"],["title","Export",3,"click"],[1,"fa","fa-external-link"],[1,"x-scroll"],["selectionMode","single","scrollable","true","scrollHeight","500px","exportFilename","RmanDealRfcstV",1,"ui-datatable","arrangementMgrTbl","wide-columns",3,"columns","frozenColumns","frozenWidth","loading","value","paginator","rows","totalRecords"],["dt",""],["pTemplate","colgroup"],[4,"ngFor","ngForOf"],["pTemplate","emptymessage"],[4,"ngIf"],[3,"pTemplate"],[3,"style",4,"ngIf"],[3,"pSelectableRow"],[3,"title"],[1,"no-results-data"]],template:function(e,t){if(1&e){var i=f.Wb();f.Qb(0,"div",0),f.Vb(1,"p-panel"),f.Vb(2,"p-header"),f.Vb(3,"div",1),f.Vb(4,"app-columns-config",2),f.dc("openConfig",(function(){return t.onConfiguringColumns()}))("closeConfig",(function(){return t.closeConfigureColumns()}))("saveConfig",(function(){return t.saveColumns()}))("toggleFreeze",(function(e){return t.onToggleFreeze(e)}))("selectColumn",(function(){return t.selectColumns()}))("selectAll",(function(){return t.onSelectAll()})),f.Ub(),f.Vb(5,"a",3),f.dc("click",(function(){f.Dc(i);var e=f.Bc(11);return t.reset(e)})),f.Qb(6,"em",4),f.Ub(),f.Vb(7,"a",5),f.dc("click",(function(){return f.Dc(i),f.Bc(11).exportCSV()})),f.Qb(8,"em",6),f.Ub(),f.Ub(),f.Ub(),f.Vb(9,"div",7),f.Vb(10,"p-table",8,9),f.Kc(12,Bi,2,1,"ng-template",10),f.Kc(13,Ji,2,1,"ng-container",11),f.Kc(14,tn,2,1,"ng-container",11),f.Kc(15,nn,3,1,"ng-template",12),f.Ub(),f.Ub(),f.Ub()}2&e&&(f.Eb(1),f.Ic(f.rc(18,ln)),f.Eb(3),f.oc("frozenCols",t.frozenCols)("scrollableCols",t.scrollableCols)("isSelectAllChecked",t.isSelectAllChecked)("showConfigPopup",t.isConfigOpened),f.Eb(6),f.Gb(f.sc(19,an,!t.isTableFrozen)),f.oc("columns",t.scrollableCols)("frozenColumns",t.frozenCols)("frozenWidth",t.frozenWidth)("loading",t.loading)("value",t.rDealFCSTViewList)("paginator",!0)("rows",10)("totalRecords",t.totalRecords),f.Eb(3),f.oc("ngForOf",t.tableHeaderTmpl),f.Eb(1),f.oc("ngForOf",t.tableBodyTmpl))},directives:[kt.a,k.c,ze,I.j,k.f,r.n,r.o,I.i],pipes:[r.g],encapsulation:2}),on),rn=function e(t,i,o,l,a,c,r,s,d,u){n(this,e),this.glPeriod=t,this.expectedBookingAmount=i,this.amount=o,this.qty=l,this.netPrice=a,this.elementType=c,this.startDate=r,this.arrangementName=s,this.sku=d,this.arrangementId=u},sn=a("nYR2"),dn=a("zFJ7");function un(e,t){1&e&&(f.Vb(0,"tr"),f.Vb(1,"th",16),f.Mc(2," User "),f.Ub(),f.Vb(3,"th",16),f.Mc(4," Date & Time "),f.Ub(),f.Vb(5,"th",17),f.Mc(6," Comment "),f.Ub(),f.Ub())}function gn(e,t){if(1&e&&(f.Vb(0,"tr"),f.Vb(1,"td",18),f.Mc(2),f.Ub(),f.Vb(3,"td",18),f.Mc(4),f.hc(5,"date"),f.Ub(),f.Vb(6,"td"),f.Mc(7),f.Ub(),f.Ub()),2&e){var i=t.$implicit;f.Eb(2),f.Oc(" ",i.userName," "),f.Eb(2),f.Oc(" ",f.jc(5,3,i.creationDate,"MM/dd/yyyy hh:mm")," "),f.Eb(3),f.Oc(" ",i.userComment," ")}}function fn(e,t){1&e&&(f.Vb(0,"tr"),f.Vb(1,"td",19),f.Mc(2,"No Data"),f.Ub(),f.Ub())}function hn(e,t){if(1&e){var i=f.Wb();f.Vb(0,"div",11),f.Vb(1,"p-table",12),f.dc("onLazyLoad",(function(e){return f.Dc(i),f.gc().getDealComments(e)})),f.Kc(2,un,7,0,"ng-template",13),f.Kc(3,gn,8,6,"ng-template",14),f.Kc(4,fn,3,0,"ng-template",15),f.Ub(),f.Ub()}if(2&e){var n=t.ngIf,o=f.gc();f.Eb(1),f.oc("resizableColumns",!0)("value",n.comments)("loading",o.isLoading)("paginator",!0)("rows",5)("totalRecords",o.totalElements)}}var bn,pn,mn=function(){return{"margin-bottom":"20px"}},vn=function(e){return{comments:e}},yn=[{path:"",component:Ce},{path:"details/:dealId/:dealNumber",component:we,children:[{path:"summary",component:Vt},{path:"summary/comments",component:(bn=function(){function e(t,i,o){n(this,e),this.dealsService=t,this.route=i,this.notificationService=o,this.isLoading=!1,this.inputComment=""}return l(e,[{key:"ngOnInit",value:function(){this.dealId=this.route.snapshot.parent.paramMap.get("dealId"),this.getDealComments()}},{key:"getDealComments",value:function(e){var t=this,i=e?e.first/e.rows:0;this.isLoading=!0,this.commentsData$=this.dealsService.getDealComments(this.dealId,i).pipe(Object(p.a)((function(e){return t.totalElements=e.totalElements})),Object(Ee.a)((function(e){return e.content})),Object(sn.a)((function(){t.isLoading=!1})))}},{key:"onAdd",value:function(){var e=this;this.dealsService.addDealComment({dealArrangementId:this.dealId,userComment:this.inputComment}).subscribe((function(){e.notificationService.showSuccess("Saved successfully"),e.getDealComments(),e.inputComment=""}),(function(t){return e.notificationService.showError(t.message)}))}}]),e}(),bn.\u0275fac=function(e){return new(e||bn)(f.Pb(b),f.Pb(C.a),f.Pb(d.a))},bn.\u0275cmp=f.Jb({type:bn,selectors:[["app-deal-comments"]],decls:13,vars:10,consts:[[1,"comments__form"],[3,"ngSubmit"],["commentForm","ngForm"],["pInputTextarea","","id","comment","name","comment","required","","placeholder","Type Comment",3,"ngModel","ngModelChange"],["type","submit",1,"add-btn",3,"disabled"],[1,"fa","fa-paper-plane"],["header","Comments History"],[1,"pull-right","icons-list"],["routerLink","../"],[1,"fa","fa-share"],["class","x-scroll",4,"ngIf"],[1,"x-scroll"],["lazy","true","scrollable","true",1,"arrangementMgrTbl","comments-table",3,"resizableColumns","value","loading","paginator","rows","totalRecords","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pResizableColumn","",1,"small-col"],["pResizableColumn",""],[1,"small-col"],[1,"no-data"]],template:function(e,t){if(1&e&&(f.Vb(0,"div",0),f.Vb(1,"form",1,2),f.dc("ngSubmit",(function(){return t.onAdd()})),f.Vb(3,"textarea",3),f.dc("ngModelChange",(function(e){return t.inputComment=e})),f.Ub(),f.Vb(4,"button",4),f.Qb(5,"em",5),f.Ub(),f.Ub(),f.Ub(),f.Vb(6,"p-panel",6),f.Vb(7,"p-header"),f.Vb(8,"div",7),f.Vb(9,"a",8),f.Qb(10,"em",9),f.Ub(),f.Ub(),f.Ub(),f.Kc(11,hn,5,6,"div",10),f.hc(12,"async"),f.Ub()),2&e){var i=f.Bc(2);f.Eb(3),f.oc("ngModel",t.inputComment),f.Eb(1),f.oc("disabled",!i.form.valid),f.Eb(2),f.Ic(f.rc(7,mn)),f.Eb(5),f.oc("ngIf",f.sc(8,vn,f.ic(12,5,t.commentsData$)))}},directives:[S.v,S.l,S.m,S.b,dn.a,S.s,S.k,S.n,kt.a,k.c,C.j,r.o,I.j,k.f,I.g],pipes:[r.b,r.f],styles:[".arrangementMgrTbl.comments-table tr td{width:100%!important;white-space:pre-wrap!important}.arrangementMgrTbl.comments-table .small-col{width:200px!important}.fa-paper-plane{transform:scale(2)}.fa-share{transform:rotateY(180deg)}.comments__list{margin-top:40px}.comments__list-item{display:flex;list-style:none}.comments__form form{display:flex;align-items:center;max-width:1100px;width:100%;margin:40px auto 20px}.comments__form form textarea{border:2px solid #262d74;border-radius:6px;flex:1}.comments__form form .add-btn{cursor:pointer;margin:0 0 0 20px;height:auto!important;background:none}.comments__form form .add-btn em{color:#262b74}.comments__form form .add-btn:hover{opacity:.7}.comments__form form .add-btn[disabled]{cursor:not-allowed;opacity:.7}.comments__form form .add-btn[disabled] em{color:#1fac90}.comment__user{margin-right:5px;color:#262b74;font-weight:700}.comment__content{margin-right:5px;color:#000}"],encapsulation:2}),bn)},{path:"allocations",component:Ri},{path:"forecasting",component:cn}]}],Cn=((pn=function e(){n(this,e)}).\u0275mod=f.Nb({type:pn}),pn.\u0275inj=f.Mb({factory:function(e){return new(e||pn)},providers:[b,Ft.a,k.a,Dt.a,Gi.a],imports:[[C.k.forChild(yn),r.c,Se.a]]}),pn)},azuL:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var o=i("FpCA"),a=i("fXoL"),c=i("ofXK"),r=i("+DzE");function s(e,t){1&e&&a.Qb(0,"p-progressBar",1)}var d=function(){var e=function(){function e(t){n(this,e),this._uploadService=t}return l(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Pb(o.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["progress-bar"]],decls:1,vars:1,consts:[["id","infinite-progress","mode","indeterminate",4,"ngIf"],["id","infinite-progress","mode","indeterminate"]],template:function(e,t){1&e&&a.Kc(0,s,1,0,"p-progressBar",0),2&e&&a.oc("ngIf",t._uploadService.uploadLoading)},directives:[c.o,r.a],encapsulation:2}),e}()}}])}();